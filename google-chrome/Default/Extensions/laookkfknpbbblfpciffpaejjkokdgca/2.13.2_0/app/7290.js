(globalThis.webpackChunkmomentum=globalThis.webpackChunkmomentum||[]).push([[7290,9968],{48494:(e,t,i)=>{"use strict";function n({useViewStateStore:e,analytics:t}={}){return{computed:{popupActive(){return this.viewStateStore.popupActive}},unreactive(){const i={};return e&&(i.viewStateStore=e()),t&&(i.capture=t.capture.bind(t)),t&&(i.batchCapture=t.batchCapture),i},methods:{async togglePopupAndCaptureIfOpen(e){if(await this.togglePopup(),this.popupActive){const t=e instanceof KeyboardEvent?"hotkey":"click";this.capture("app show",{source:t})}},closePopup(){this.viewStateStore.togglePopup(!1)},async togglePopup(e){const t="boolean"!=typeof e;t&&this.popupActive&&!this.viewStateStore.focused?this.viewStateStore.focus():await this.viewStateStore.togglePopup(t?void 0:e)}},provide:()=>({capture:t.capture.bind(t),batchCapture:t.batchCapture})}}i.d(t,{Z:()=>n})},3714:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(8081),s=i.n(n),o=i(23645),r=i.n(o)()(s());r.push([e.id,".links-dash[data-v-7cff4af9]{order:3}.links-dash.column[data-v-7cff4af9]{max-width:15rem;max-height:100%}.links-dash.row[data-v-7cff4af9]{min-width:0;flex-shrink:2}.base-item-list.row[data-v-7cff4af9]{height:100%}.base-item-list.row .link-list-item[data-v-7cff4af9]{width:3.5rem;padding:1.0625rem .25rem}@media screen and (width <= 1000px){.links-dash.column[data-v-7cff4af9]{max-width:10rem}}@media screen and (width <= 800px){.links-dash.column[data-v-7cff4af9]{max-width:5rem}}@media screen and (width <= 450px){.links-dash[data-v-7cff4af9]{display:none}}",""]);const a=r},29215:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(8081),s=i.n(n),o=i(23645),r=i.n(o)()(s());r.push([e.id,"\n/* stylelint-disable */\n.links[data-v-25d7bdb8] { order: 2;\n}\n",""]);const a=r},55040:(e,t,i)=>{"use strict";var n;i.d(t,{O:()=>n,k:()=>s}),function(e){e.Row="row",e.Column="column"}(n||(n={}));const s=3},27290:(e,t,i)=>{"use strict";i.r(t);var n=i(30512),s=function(){var e=this,t=e._self._c;return t("app-container",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeIfKeepOpenDisabled,expression:"closeIfKeepOpenDisabled"}],attrs:{"app-name":"links","visible-setting":"linksVisible",overlay:e.popupActive,"data-test":"links",hotkey:"L"},on:{toggle:e.togglePopupAndCaptureIfOpen}},[t("app-dash",{attrs:{icon:"icon/links",label:"Links"},on:{click:function(t){return e.togglePopupAndCaptureIfOpen({source:"click"})}}}),e._v(" "),t("transition",{attrs:{name:"slide-down-fade"},on:{"after-enter":e.triggerAppOpenEvent}},[e.popupActive?t("links-app"):e._e()],1)],1)};s._withStripped=!0;var o=i(38267),r=i(47920),a=i(89968),d=i(71886),l=i(63420),p=i(42223),c=i(40531),u=i(24749),h=i(81405),v=i(48494);const k=new h.ZP({feature:"links"}),f={name:"Links",components:{LinksApp:()=>Promise.all([i.e(8670),i.e(6390),i.e(541),i.e(1829),i.e(2021),i.e(8821)]).then(i.bind(i,68821)),AppDash:r.Z,AppContainer:o.default},mixins:[p.Z,(0,v.Z)({useViewStateStore:a.useLinksViewStateStore,analytics:k})],provide(){return{viewStateStore:this.linksViewStateStore,itemStore:this.linksStore}},computed:{...(0,l.Kc)(a.useLinksViewStateStore,d.useLinksStore)},watch:{popupActive(e){e?localStorage.setItem(u.hg,e):localStorage.removeItem(u.hg)},"linksStore.loaded"(){m.trigger("links:updated")}},created(){this.linksStore.refresh(),c.ax.linksKeepOpen&&!this.$touch&&localStorage.getItem(u.hg)&&this.togglePopup(!0)},methods:{closeIfKeepOpenDisabled(){c.ax.linksKeepOpen||this.togglePopup(!1)},onAllComponentsMountedOverride(){this.$e.$emit(u.o1.base)},triggerAppOpenEvent(){m.trigger("links:updated")}}};i(83372);var w=i(51900);const g=(0,w.Z)(f,s,[],!1,null,"25d7bdb8",null).exports;var S=function(){var e=this,t=e._self._c;return e.activeMode===e.mode&&e.totalPinnedLinks?t("app-container",{ref:"pinnedLinks",staticClass:"links-dash",class:[e.direction],attrs:{"app-name":"pinned-links","data-test":"links-dash","visible-setting":"linksVisible"}},[t("overflow-carousel",{staticClass:"add-shadow",attrs:{direction:e.direction,"content-ready":e.linksLoadedAndMounted}},[e.teamPinnedLinks.length>0?t("base-item-list",{attrs:{direction:e.direction}},e._l(e.teamPinnedLinks,(function(i){return t("links-list-item",{key:i.id,attrs:{"link-group":i,"is-on-dash":!0,"is-tile":e.mode===e.LinksMode.Tile,"is-team-link":!0},on:{"hook:mounted":e.onLinkGroupMounted}})})),1):e._e(),e._v(" "),e.pinnedLinks.length>0?t("base-item-list",{attrs:{direction:e.direction},model:{value:e.pinnedLinksOrderIds,callback:function(t){e.pinnedLinksOrderIds=t},expression:"pinnedLinksOrderIds"}},e._l(e.pinnedLinks,(function(i){return t("links-list-item",{key:i.id,attrs:{"link-group":i,"is-on-dash":!0,"is-tile":e.mode===e.LinksMode.Tile},on:{"hook:mounted":e.onLinkGroupMounted}})})),1):e._e()],1)],1):e._e()};S._withStripped=!0;var L=i(55040);const b=new h.ZP({feature:"links"}),P={name:"LinksDash",components:{OverflowCarousel:()=>i.e(4594).then(i.bind(i,94594)),AppContainer:()=>Promise.resolve().then(i.bind(i,38267)),LinksListItem:()=>Promise.all([i.e(541),i.e(2021)]).then(i.bind(i,22021)),BaseItemList:()=>i.e(3509).then(i.bind(i,73509))},mixins:[p.Z],provide(){return{viewStateStore:this.linksViewStateStore,itemStore:this.linksStore,capture:b.capture.bind(b),batchCapture:b.batchCapture}},props:{mode:{type:String,default:u.LS.List,validator:e=>Object.values(u.LS).some((t=>t===e))}},data:()=>({mountedLinkGroups:0}),unreactive:()=>({BaseItemListDirection:L.O,LinksMode:u.LS}),computed:{...(0,l.Kc)(a.useLinksViewStateStore,d.useLinksStore),activeMode:()=>c.ax.linksMode,teamPinnedLinks(){return this.linksStore.getPinnedTeamItems},pinnedLinks(){return this.linksStore.getPinnedItems},pinnedLinksOrderIds:{get(){return this.pinnedLinks.map((e=>e.id))},async set(e){await this.linksStore.updatePartialRootLinksOrderIds(e)}},totalPinnedLinks(){return this.teamPinnedLinks.length+this.pinnedLinks.length},direction(){return this.mode===u.LS.Tile?L.O.Row:L.O.Column},linksLoadedAndMounted(){return this.linksStore.loaded&&this.totalPinnedLinks===this.mountedLinkGroups}},methods:{onAllComponentsMountedOverride(){this.$e.$emit(u.o1[this.mode])},onLinkGroupMounted(){this.mountedLinkGroups+=1}}};i(1238);const V=(0,w.Z)(P,S,[],!1,null,"7cff4af9",null).exports;var y=i(7838);const A=document.querySelector(".region.top-left"),O=document.querySelector(".region.sidebar-left");Promise.all(Object.values(u.o1).map((e=>new Promise((t=>{y.Z.$on(e,t)}))))).then((()=>{m.widgetManager.appReady("links")})).catch(console.error);const C=document.createElement("div"),Z=document.createElement("div");A&&(A.prepend(Z),A.prepend(C)),new n.Z({render:e=>e(g)}).$mount(C),new n.Z({render:e=>e(V,{props:{mode:u.LS.Tile}})}).$mount(Z);const I=document.createElement("div");O&&O.prepend(I),new n.Z({render:e=>e(V,{props:{mode:u.LS.List}})}).$mount(I)},89968:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r,useLinksViewStateStore:()=>o});var n=i(95756),s=i(24749);const o=(0,n.vM)("links",{views:{[s.od.List]:{defaultView:!0,order:1},[s.od.Form]:{order:2}}}),r=o},95756:(e,t,i)=>{"use strict";i.d(t,{t7:()=>c,vM:()=>p});var n=i(63420),s=i(20144),o=i(96046),r=i(63139),a=i(7838),d=i(80809);const l=e=>Object.keys(e).find((t=>{var i;return null===(i=e[t])||void 0===i?void 0:i.defaultView})),p=(e,{views:t}={})=>{const i=(0,n.Q_)(e+"ViewState",{state:()=>{var i;return{activeViewId:null!==(i=t&&l(t))&&void 0!==i?i:"",beforeViewChange:()=>Promise.resolve(!0),confirmationProps:null,popupActive:!1,name:e}},getters:{activeView(e){if(!t)return null;const i=t[e.activeViewId];if(i)return i;throw new Error("No view found with id: "+e.activeViewId)},focused:()=>r.Z.isOnTop(e)},actions:{focus(){r.Z.add(e)},async setActiveView(e){var i,n;if(!t||!await this.beforeViewChange())return;let s=e;if("default"===e){const e=l(t);if(!e)throw new Error("No view found with defaultView: true");s=e}await(null===(n=null===(i=this.activeView)||void 0===i?void 0:i.beforeLeave)||void 0===n?void 0:n.call(i,s)),this.activeViewId=s},async togglePopup(e,{resetActiveView:t=!0}={}){await this.beforeViewChange()&&(await s.ZP.nextTick(),this.popupActive=null!=e?e:!this.popupActive,!this.popupActive&&t&&(this.resetBeforeViewChange(),this.confirmationProps=null,await this.setActiveView("default")))},resetBeforeViewChange(){this.beforeViewChange=()=>Promise.resolve(!0)},async setConfirmation(e){return new Promise((t=>{this.confirmationProps=e,this.confirmationProps.confirm=()=>t(!0),this.confirmationProps.cancel=()=>t(!1)})).finally((()=>{this.confirmationProps=null}))}}}),d=(0,n.Jk)(i());return a.Z.$on(e+":close",(()=>i().togglePopup(!1))),(0,s.YP)(d.popupActive,(t=>{t?r.Z.add(e):r.Z.remove(e)})),(0,s.YP)(d.confirmationProps,(t=>{(null==t?void 0:t.dashboardOverlay)&&r.Z.add(e,!0),o.Z.dashboardOverlayActive=!!(null==t?void 0:t.dashboardOverlay)})),i},c=(e,{views:t,extend:i})=>{const n=p(`base${d.Z.capitalizeFirstLetter(e)}`,{views:t}),s=i(n(),`extended${d.Z.capitalizeFirstLetter(e)}ViewState`);return u(`${e}ViewState`,n,s)},u=(e,t,i)=>{const o=t(),r=i();return(0,n.Q_)(e,(()=>({...(0,s.BK)(o),...(0,s.BK)(r)})))}},1238:(e,t,i)=>{var n=i(3714);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),(0,i(45346).Z)("4a9aa136",n,!1,{})},83372:(e,t,i)=>{var n=i(29215);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),(0,i(45346).Z)("0051e90d",n,!1,{ssrId:!0})}}]);