/*! For license information please see 5637.js.LICENSE.txt */
"use strict";(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[5637],{121914:(t,e,n)=>{n.d(e,{d:()=>l});var o,i=n(202784),r=n(853052),a=n(48972),s=n(552322);t=n.hmd(t),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(t);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var c,u,l=(0,i.memo)((function(t){var e=t.notification,n=t.testID,o=e.payload.Payload.InAppStatic,i=o.title,c=o.body;return(0,s.jsx)(a.Box,{children:(0,s.jsx)(r.ListCell,{multiline:!0,testID:n,title:i,description:c})})}));(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&c.register(l,"BrowserOutdatedListCell","/workspaces/apps/extension/src/screens/NotificationsHub/Components/BrowserOutdatedListCell.tsx"),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(t)},58409:(t,e,n)=>{n.d(e,{R:()=>m});var o,i=n(202784),r=n(239398),a=n(783112),s=n(179115),c=n(416863),u=n(840361),l=n(48972),d=n(523849),f=n(263952),M=n(552322);function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,i,r,a,s=[],c=!0,u=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=r.call(n)).done)&&(s.push(o.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}t=n.hmd(t),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(t);var y,p,b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(t){return t},h=(0,r.defineMessages)({title:{id:"Qo2YO3",defaultMessage:[{type:0,value:"Welcome!"}]},description:{id:"0uvkvD",defaultMessage:[{type:0,value:"Explore the world of crypto to start getting updates."}]}}),m=(0,i.memo)(b((function(){var t=(0,a.Z)().formatMessage,e=g((0,s.q)(),1)[0];return(0,M.jsx)(l.Box,{testID:"notifications-empty-state",height:"100%",justifyContent:"center",alignItems:"center",children:(0,M.jsxs)(l.VStack,{alignItems:"center",children:["dark"===e?(0,M.jsx)(u.Y,{alt:t(h.title)}):(0,M.jsx)(c.n,{alt:t(h.title)}),(0,M.jsx)(f.TextTitle3,{as:"p",align:"center",children:t(h.title)}),(0,M.jsx)(d.TextBody,{as:"p",align:"center",children:t(h.description)})]})})}),"useIntl{{ formatMessage }}\nuseGetAppearanceBackground{[appearance]}",(function(){return[a.Z,s.q]})));(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(y.register(h,"messages","/workspaces/apps/extension/src/screens/NotificationsHub/Components/NotificationsHubEmptyState.tsx"),y.register(m,"NotificationsHubEmptyState","/workspaces/apps/extension/src/screens/NotificationsHub/Components/NotificationsHubEmptyState.tsx")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(t)},461895:(t,e,n)=>{n.d(e,{M:()=>u});var o,i=n(202784),r=n(544562),a=n(552322);t=n.hmd(t),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(t);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var s,c,u=(0,i.memo)((function(){return(0,a.jsx)(a.Fragment,{children:Array(8).fill(0).map((function(t,e){return(0,a.jsx)(r.ListCellFallback,{title:!0,detail:!0,subdetail:!0},"notifications-hub-cell-fall-back-".concat(e))}))})}));(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&s.register(u,"NotificationsHubLoadingState","/workspaces/apps/extension/src/screens/NotificationsHub/Components/NotificationsHubLoadingState.tsx"),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(t)},175845:(t,e,n)=>{n.d(e,{g:()=>M});var o,i=n(202784),r=n(150464),a=n(270287),s=n(853052),c=n(48972),u=n(552322);t=n.hmd(t),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(t);var l,d,f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(t){return t},M=(0,i.memo)(f((function(t){var e=t.onPress,n=t.notification,o=t.testID,l=n.payload.Payload.InAppStatic,d=l.image_url,f=l.title,M=l.body,g=n.state,I=n.created_at,y=(0,r.q)(I.seconds),p=(0,i.useCallback)((function(){e&&e(n)}),[n,e]);return(0,u.jsx)(c.Box,{opacity:g===a.STATE_READ?.5:1,children:(0,u.jsx)(s.ListCell,{multiline:!0,testID:o,title:"".concat(f," ").concat(y),media:d?(0,u.jsx)(s.CellMedia,{type:"image",source:d,title:""}):void 0,description:M,onPress:p})})}),"useNotificationDateFormated{formatedDate}\nuseCallback{onPressHandler}",(function(){return[r.q]})));(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&l.register(M,"PromotionsListCell","/workspaces/apps/extension/src/screens/NotificationsHub/Components/PromotionListCell.tsx"),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(t)},285637:(t,e,n)=>{n.r(e),n.d(e,{NotificationsHub:()=>B,NotificationsHubItems:()=>R});var o,i=n(202784),r=n(239398),a=n(783112),s=n(107267),c=n(497814),u=n(426129),l=n(81220),d=n(705791),f=n(443551),M=n(544450),g=n(319599),I=n(243361),y=n(352871),p=n(790424),b=n(853052),h=n(606058),m=n(95791),N=n(121914),x=n(81625),v=n(58409),j=n(461895),T=n(175845),w=n(861574),L=n(552322);function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function C(t){return function(t){if(Array.isArray(t))return S(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||G(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,i,r,a,s=[],c=!0,u=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=r.call(n)).done)&&(s.push(o.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||G(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(t,e){if(t){if("string"==typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(t,e):void 0}}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function H(){H=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var r=e&&e.prototype instanceof p?e:p,a=Object.create(r.prototype),s=new G(o||[]);return i(a,"_invoke",{value:w(t,n,s)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",M="suspendedYield",g="executing",I="completed",y={};function p(){}function b(){}function h(){}var m={};u(m,a,(function(){return this}));var N=Object.getPrototypeOf,x=N&&N(N(S([])));x&&x!==n&&o.call(x,a)&&(m=x);var v=h.prototype=p.prototype=Object.create(m);function j(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(i,r,a,s){var c=d(t[i],t,r);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==A(l)&&o.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var r;i(this,"_invoke",{value:function(t,o){function i(){return new e((function(e,i){n(t,o,e,i)}))}return r=r?r.then(i,i):i()}})}function w(e,n,o){var i=f;return function(r,a){if(i===g)throw new Error("Generator is already running");if(i===I){if("throw"===r)throw a;return{value:t,done:!0}}for(o.method=r,o.arg=a;;){var s=o.delegate;if(s){var c=L(s,o);if(c){if(c===y)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===f)throw i=I,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=g;var u=d(e,n,o);if("normal"===u.type){if(i=o.done?I:M,u.arg===y)continue;return{value:u.arg,done:o.done}}"throw"===u.type&&(i=I,o.method="throw",o.arg=u.arg)}}}function L(e,n){var o=n.method,i=e.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),y;var r=d(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,y;var a=r.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function G(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function S(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return r.next=r}}throw new TypeError(A(e)+" is not iterable")}return b.prototype=h,i(v,"constructor",{value:h,configurable:!0}),i(h,"constructor",{value:b,configurable:!0}),b.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},j(T.prototype),u(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,o,i,r){void 0===r&&(r=Promise);var a=new T(l(t,n,o,i),r);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},j(v),u(v,c,"Generator"),u(v,a,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},e.values=S,G.prototype={constructor:G,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(o,i){return s.type="throw",s.arg=e,n.next=o,i&&(n.method="next",n.arg=t),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),D(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var i=o.arg;D(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:S(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),y}},e}function k(t,e,n,o,i,r,a){try{var s=t[r](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(o,i)}function E(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var r=t.apply(e,n);function a(t){k(r,o,i,a,s,"next",t)}function s(t){k(r,o,i,a,s,"throw",t)}a(void 0)}))}}t=n.hmd(t),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(t);var Z="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(t){return t},z=(0,r.defineMessages)({title:{id:"gVS7wc",defaultMessage:[{type:0,value:"Notifications hub"}]}}),O=(0,i.memo)((function(t){var e=t.onPress;return(0,L.jsx)(m.Pressable,{as:"button",testID:"notification-settings-button",onPress:e,backgroundColor:"transparent",children:(0,L.jsx)(h.NavigationIcon,{name:"settings",size:"s"})})}));function P(t){return"extension-is-browser-outdated"===t.notification_id}var U,Y,R=(0,i.memo)(Z((function(t){var e=t.container,n=t.notifications,o=t.hasNextPage,r=t.isLoading,a=t.fetchNextPage,s=(0,w.r)(),l=(0,g.U)();(0,u.AX)();var d=(0,i.useCallback)(E(H().mark((function t(){return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=2;break}return t.abrupt("return");case 2:if(o){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,a();case 6:case"end":return t.stop()}}),t)}))),[r,o,a]),f=n.length+(o?5:0),M=(0,i.useCallback)((function(t){var e;(0,u.KP)({communicationId:t.communication_id,notificationTitle:t.payload.Payload.InAppStatic.title,notificationBody:t.payload.Payload.InAppStatic.body,template:t.template_name}),l([t]);var n=null==t||null===(e=t.payload)||void 0===e||null===(e=e.Payload)||void 0===e||null===(e=e.InAppStatic)||void 0===e?void 0:e.url;n&&s(n)}),[s,l]),I=(0,i.useCallback)((function(t){var e=t.key,o=t.index,i=t.style,r=n[o];return r?(0,L.jsx)("div",{style:i,children:P(r)?(0,L.jsx)(N.d,{testID:"promotion-list-cell-".concat(o),notification:r}):(0,L.jsx)(T.g,{testID:"promotion-list-cell-".concat(o),onPress:M,notification:r})},e):(0,L.jsx)("div",{style:i,children:(0,L.jsx)(b.ListCellFallback,{title:!0,subdetail:!0})},e)}),[M,n]),y=(0,i.useCallback)((function(t){var e=t.index;return Boolean(n[e])}),[n]),p=(0,i.useCallback)((function(t){var e;if(t.index>=n.length)return 85;var o=null===(e=n[t.index].payload.Payload.InAppStatic.body)||void 0===e?void 0:e.length;return o>=85&&o<115?110:o>=115?135:85}),[n]);return(0,L.jsx)(c._K,{scrollElement:e,children:function(t){var e=t.height,n=t.scrollTop;return(0,L.jsx)(c.qj,{disableHeight:!0,children:function(t){var o=t.width;return(0,L.jsx)(c.b2,{threshold:10,isRowLoaded:y,loadMoreRows:d,rowCount:f,children:function(t){var i=t.onRowsRendered,r=t.registerChild;return(0,L.jsx)(c.aV,{rowCount:f,width:o?o-5:375,height:e?e-100:135,autoHeight:!0,scrollTop:n,rowHeight:p,overscanCount:10,rowRenderer:I,ref:r,onRowsRendered:i})}})}})}})}),"useRouteToLandingPage{routeToLandingPage}\nuseUpdateNotificationState{updateNotificationsAction}\nuseNotificationHubViewed{}\nuseCallback{loadMore}\nuseCallback{handleOnNotificationPress}\nuseCallback{renderRow}\nuseCallback{isRowLoaded}\nuseCallback{calculateRowHeight}",(function(){return[w.r,g.U,u.AX]}))),_=(0,i.memo)(Z((function(){var t=(0,M.useNotificationsHub)(),e=t.data,n=t.hasNextPage,o=t.fetchNextPage,r=t.isLoading,c=(0,f.Z)(),g=(0,a.Z)().formatMessage,I=(0,s.useHistory)(),b=I.goBack,h=I.push,m=(0,d.useBrowserOutdatedNotification)().browserOutdatedNotification;(0,u.AX)();var N=D((0,i.useState)(null),2),x=N[0],T=N[1],w=(0,i.useCallback)((function(){h("/settings/notifications")}),[h]),A=(0,i.useMemo)((function(){var t=((null==e?void 0:e.pages)||[]).map((function(t){return t.response.items?t.response.items:[]}));return[m].concat(C(t)).flat().filter(Boolean)}),[e,m]),G=(0,i.useCallback)((function(){c()}),[c]);return(0,l.useOnUnmount)(G),(0,L.jsxs)(p.lL,{header:(0,L.jsx)(y.l2,{variant:"secondary",title:g(z.title),actions:(0,L.jsx)(O,{onPress:w}),handleBack:b}),ref:T,children:[r&&(0,L.jsx)(j.M,{}),0===A.length&&(0,L.jsx)(v.R,{}),!r&&0!==A.length&&x&&(0,L.jsx)(R,{hasNextPage:n,fetchNextPage:o,isLoading:r,notifications:A,container:x})]})}),"useNotificationsHub{{ data, hasNextPage, fetchNextPage, isLoading }}\nuseClearUnreadNotifications{clearUnread}\nuseIntl{{ formatMessage }}\nuseHistory{{ goBack, push }}\nuseBrowserOutdatedNotification{{ browserOutdatedNotification }}\nuseNotificationHubViewed{}\nuseState{[container, setContainer](null)}\nuseCallback{navigateToNotificationSettings}\nuseMemo{notifications}\nuseCallback{onUnmount}\nuseOnUnmount{}",(function(){return[M.useNotificationsHub,f.Z,a.Z,s.useHistory,d.useBrowserOutdatedNotification,u.AX,l.useOnUnmount]}))),B=(0,i.memo)((function(){return(0,L.jsx)(i.Suspense,{fallback:(0,L.jsx)(j.M,{}),children:(0,L.jsx)(W,{})})})),W=(0,i.memo)(Z((function(){return(0,I.useUser)()?(0,L.jsx)(_,{}):(0,L.jsx)(x.Z,{})}),"useUser{user}",(function(){return[I.useUser]})));(U="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(U.register(z,"messages","/workspaces/apps/extension/src/screens/NotificationsHub/NotificationsHub.tsx"),U.register(O,"SettingsButton","/workspaces/apps/extension/src/screens/NotificationsHub/NotificationsHub.tsx"),U.register(P,"isBrowserOutdatedNotification","/workspaces/apps/extension/src/screens/NotificationsHub/NotificationsHub.tsx"),U.register(R,"NotificationsHubItems","/workspaces/apps/extension/src/screens/NotificationsHub/NotificationsHub.tsx"),U.register(_,"NotificationsHub","/workspaces/apps/extension/src/screens/NotificationsHub/NotificationsHub.tsx"),U.register(B,"NotificationsHubWithSuspense","/workspaces/apps/extension/src/screens/NotificationsHub/NotificationsHub.tsx"),U.register(W,"NotificationsHubContent","/workspaces/apps/extension/src/screens/NotificationsHub/NotificationsHub.tsx")),(Y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&Y(t)},81625:(t,e,n)=>{n.d(e,{Z:()=>j});var o,i=n(202784),r=n(239398),a=n(783112),s=n(107267),c=n(160593),u=n(61517),l=n(960723),d=n(606058),f=n(256155),M=n(48972),g=n(252163),I=n(661641),y=n(395545),p=n(100875),b=n(552322);t=n.hmd(t),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(t);var h,m,N="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(t){return t},x=(0,r.defineMessages)({headerText:{id:"7mCOK/",defaultMessage:[{type:0,value:"Get important notifications with Coinbase Wallet"}]},bodyText:{id:"W9D3aZ",defaultMessage:[{type:0,value:"Unlock our notification feature using your Coinbase Wallet mobile app."}]},signMessageText:{id:"b4MmyO",defaultMessage:[{type:0,value:"Send request to my phone"}]}}),v=(0,c.createEventConfig)("notifications_hub_sign_modal_button",[y.ActionType.click],{componentName:"yes"}),j=(0,i.memo)(N((function(){var t=(0,a.Z)().formatMessage,e=(0,s.useHistory)().goBack,n=(0,p.G)();return(0,b.jsxs)(M.VStack,{height:u.UV,spacing:3,testID:"notifications-hub-auth-gate",children:[(0,b.jsx)(g.Pressable,{as:"button",onPress:e,backgroundColor:"transparent",testID:"notif-hub-auth-gate-back-button",children:(0,b.jsx)(d.Icon,{name:"backArrow",size:"s",color:"foreground"})}),(0,b.jsxs)(M.VStack,{height:"100%",justifyContent:"center",alignContent:"center",alignItems:"center",spacingHorizontal:2,gap:2,children:[(0,b.jsx)(f.HeroSquare,{name:"notificationsAlt"}),(0,b.jsx)(I.TextTitle3,{as:"h1",align:"center",children:t(x.headerText)}),(0,b.jsx)(I.TextBody,{as:"p",align:"center",color:"foregroundMuted",children:t(x.bodyText)})]}),(0,b.jsx)(M.VStack,{justifyContent:"flex-end",children:(0,b.jsx)(l.Button,{variant:"primary",testID:"send-request-button",onPress:n,eventConfig:v,children:t(x.signMessageText)})})]})}),"useIntl{{ formatMessage }}\nuseHistory{{ goBack }}\nuseTriggerAuthenticationRequest{triggerAuthorizationRequestMessage}",(function(){return[a.Z,s.useHistory,p.G]})));(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(x,"messages","/workspaces/apps/extension/src/screens/NotificationsHub/NotificationsHubAuthGate.tsx"),h.register(v,"authGateButtonConfig","/workspaces/apps/extension/src/screens/NotificationsHub/NotificationsHubAuthGate.tsx"),h.register(j,"NotificationsHubAuthGate","/workspaces/apps/extension/src/screens/NotificationsHub/NotificationsHubAuthGate.tsx")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(t)},416863:(t,e,n)=>{n.d(e,{n:()=>u});const o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQwIiBoZWlnaHQ9IjI0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTkyIDQ4YzAgMTMuMjU1LTEwLjc0NSAyNC0yNCAyNHMtMjQtMTAuNzQ1LTI0LTI0IDEwLjc0NS0yNCAyNC0yNCAyNCAxMC43NDUgMjQgMjRaIiBmaWxsPSIjRjM0Ii8+PHBhdGggZD0iTTY0IDgwYzAtMzAuOTI4IDI1LjA3Mi01NiA1Ni01NnM1NiAyNS4wNzIgNTYgNTZ2OTZINjRWODBaIiBmaWxsPSJ1cmwoI2EpIi8+PHBhdGggZD0iTTEzNiAxNmMwIDguODM3LTcuMTYzIDE2LTE2IDE2cy0xNi03LjE2My0xNi0xNiA3LjE2My0xNiAxNi0xNiAxNiA3LjE2MyAxNiAxNloiIGZpbGw9IiM4OEM4MzciLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyMC41IDQxQzk4LjEzMiA0MSA4MCA1OS4xMzMgODAgODEuNXY3aC0ydi03Qzc4IDU4LjAyOCA5Ny4wMjggMzkgMTIwLjUgMzl2MloiIGZpbGw9IiMwQTBCMEQiLz48cGF0aCBkPSJNMzIgMTY2YzAtMTYuNTY5IDEzLjQzMS0zMCAzMC0zMGgxMTZjMTYuNTY5IDAgMzAgMTMuNDMxIDMwIDMwdjEwSDMydi0xMFoiIGZpbGw9InVybCgjYikiLz48cGF0aCBkPSJNMTIwIDIwMGMxMy4yNTUgMCAyNC0xMC43NDUgMjQtMjRIOTZjMCAxMy4yNTUgMTAuNzQ1IDI0IDI0IDI0WiIgZmlsbD0iI0ZGRDIwMCIvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTIxIDIxNnYyNGgtMnYtMjRoMlpNMTQxLjg2NiAyMDkuNWwxMiAyMC43ODUtMS43MzIgMS0xMi0yMC43ODUgMS43MzItMVpNMTU0LjUgMTk2LjEzM2wyMC43ODUgMTItMSAxLjczMi0yMC43ODUtMTIgMS0xLjczMlpNODUuNSAxOTYuMTMzbC0yMC43ODUgMTIgMSAxLjczMiAyMC43ODUtMTItMS0xLjczMlpNOTguMTM0IDIwOS41bC0xMiAyMC43ODUgMS43MzIgMSAxMi0yMC43ODUtMS43MzItMVoiIGZpbGw9IiMwQTBCMEQiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTY0IDE3NmgxMTJ2LTQwSDY0djQwWiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTQ5LjY3NSAzMi41YzEzLjM2IDguMzY0IDIyLjkzOCAyMi4yMDcgMjUuNTg2IDM4LjM4MUEyMy45ODIgMjMuOTgyIDAgMCAxIDE2OCA3MmMtMTMuMjU1IDAtMjQtMTAuNzQ1LTI0LTI0YTIzLjkwNyAyMy45MDcgMCAwIDEgNS42NzUtMTUuNDk5Wk0xNjAgMTIxSDgwdi0yaDgwdjJaIiBmaWxsPSIjMEEwQjBEIi8+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4MT0iNjQiIHkxPSIxODIuNSIgeDI9IjQ5LjYzNSIgeTI9IjM0LjUyIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agb2Zmc2V0PSIuMzgiIHN0b3AtY29sb3I9IiNFQkNFRjgiLz48c3RvcCBvZmZzZXQ9Ii44NDkiIHN0b3AtY29sb3I9IiM4OEM4MzciLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9IjEyMCIgeTE9IjEzNiIgeDI9IjEyMCIgeTI9IjE3NiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iLjI3MiIgc3RvcC1jb2xvcj0iIzVDRTJGOCIvPjxzdG9wIG9mZnNldD0iLjcwNCIgc3RvcC1jb2xvcj0iI0VCQ0VGOCIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjwvc3ZnPg==";var i,r=n(386744),a=n(552322);t=n.hmd(t),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&i(t);var s,c;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function u(t){var e=t.alt,n=t.scaleMultiplier,i=void 0===n?1:n,s=i*r.TI.width,c=i*r.TI.height;return(0,a.jsx)("img",{src:o,alt:e,"data-testid":"notifications-alt",width:s,height:c})}(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&s.register(u,"NotificationsAlt","/workspaces/libs/wallet-cds-web/components/MiamiIllustrationWrapper/MiamiIllustrations/NotificationsAlt.tsx"),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(t)},840361:(t,e,n)=>{n.d(e,{Y:()=>u});const o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQwIiBoZWlnaHQ9IjI0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTkyIDQ4YzAgMTMuMjU1LTEwLjc0NSAyNC0yNCAyNHMtMjQtMTAuNzQ1LTI0LTI0IDEwLjc0NS0yNCAyNC0yNCAyNCAxMC43NDUgMjQgMjRaIiBmaWxsPSIjRjM0Ii8+PHBhdGggZD0iTTY0IDgwYzAtMzAuOTI4IDI1LjA3Mi01NiA1Ni01NnM1NiAyNS4wNzIgNTYgNTZ2OTZINjRWODBaIiBmaWxsPSJ1cmwoI2EpIi8+PHBhdGggZD0iTTEzNiAxNmMwIDguODM3LTcuMTYzIDE2LTE2IDE2cy0xNi03LjE2My0xNi0xNiA3LjE2My0xNiAxNi0xNiAxNiA3LjE2MyAxNiAxNloiIGZpbGw9IiM4OEM4MzciLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyMC41IDQxQzk4LjEzMiA0MSA4MCA1OS4xMzMgODAgODEuNXY3aC0ydi03Qzc4IDU4LjAyOCA5Ny4wMjggMzkgMTIwLjUgMzl2MloiIGZpbGw9IiMwQTBCMEQiLz48cGF0aCBkPSJNMzIgMTY2YzAtMTYuNTY5IDEzLjQzMS0zMCAzMC0zMGgxMTZjMTYuNTY5IDAgMzAgMTMuNDMxIDMwIDMwdjEwSDMydi0xMFoiIGZpbGw9InVybCgjYikiLz48cGF0aCBkPSJNMTIwIDIwMGMxMy4yNTUgMCAyNC0xMC43NDUgMjQtMjRIOTZjMCAxMy4yNTUgMTAuNzQ1IDI0IDI0IDI0WiIgZmlsbD0iI0ZGRDIwMCIvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTIxIDIxNnYyNGgtMnYtMjRoMlpNMTQxLjg2NiAyMDkuNWwxMiAyMC43ODUtMS43MzIgMS0xMi0yMC43ODUgMS43MzItMVpNMTU0LjUgMTk2LjEzM2wyMC43ODUgMTItMSAxLjczMi0yMC43ODUtMTIgMS0xLjczMlpNODUuNSAxOTYuMTMzbC0yMC43ODUgMTIgMSAxLjczMiAyMC43ODUtMTItMS0xLjczMlpNOTguMTM0IDIwOS41bC0xMiAyMC43ODUgMS43MzIgMSAxMi0yMC43ODUtMS43MzItMVoiIGZpbGw9IiNmZmYiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTY0IDE3NmgxMTJ2LTQwSDY0djQwWiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTQ5LjY3NSAzMi41YzEzLjM2IDguMzY0IDIyLjkzOCAyMi4yMDcgMjUuNTg2IDM4LjM4MUEyMy45ODIgMjMuOTgyIDAgMCAxIDE2OCA3MmMtMTMuMjU1IDAtMjQtMTAuNzQ1LTI0LTI0YTIzLjkwNyAyMy45MDcgMCAwIDEgNS42NzUtMTUuNDk5Wk0xNjAgMTIxSDgwdi0yaDgwdjJaIiBmaWxsPSIjMEEwQjBEIi8+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4MT0iNjQiIHkxPSIxODIuNSIgeDI9IjQ5LjYzNSIgeTI9IjM0LjUyIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agb2Zmc2V0PSIuMzgiIHN0b3AtY29sb3I9IiNFQkNFRjgiLz48c3RvcCBvZmZzZXQ9Ii44NDkiIHN0b3AtY29sb3I9IiM4OEM4MzciLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9IjEyMCIgeTE9IjEzNiIgeDI9IjEyMCIgeTI9IjE3NiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iLjI3MiIgc3RvcC1jb2xvcj0iIzVDRTJGOCIvPjxzdG9wIG9mZnNldD0iLjcwNCIgc3RvcC1jb2xvcj0iI0VCQ0VGOCIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjwvc3ZnPg==";var i,r=n(386744),a=n(552322);t=n.hmd(t),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&i(t);var s,c;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function u(t){var e=t.alt,n=t.scaleMultiplier,i=void 0===n?1:n,s=i*r.TI.width,c=i*r.TI.height;return(0,a.jsx)("img",{src:o,alt:e,"data-testid":"notifications-alt-dark",width:s,height:c})}(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&s.register(u,"NotificationsAltDark","/workspaces/libs/wallet-cds-web/components/MiamiIllustrationWrapper/MiamiIllustrations/NotificationsAltDark.tsx"),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(t)},100875:(t,e,n)=>{e.G=void 0;const o=n(202784),i=n(203827),r=n(139458);e.G=function(t){const e=(0,i.useSignInWithWalletLink)();return(0,o.useCallback)((async()=>{await e(r.walletLinkRelay.selectedAddress),t?.()}),[t,e])}},203827:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.useSignInWithWalletLink=void 0;const o=n(202784),i=n(829606),r=n(641622),a=n(598211),s=n(356389),c=n(652722);e.useSignInWithWalletLink=function(){const t=(0,s.useSetAuthTokens)(),e=(0,c.useSetWalletLinkAuthStatus)();return(0,o.useCallback)((async n=>{try{const o=await(0,i.createNonce)(),s=await(0,a.generateWalletLinkSignature)(r.SIGN_IN_HEADER,o,n),c=await(0,i.createAccessToken)(o,n,s);e("authed"),t(c)}catch(t){"User rejected signature request"===t.message&&e("rejected")}}),[t,e])}},598211:(t,e,n)=>{var o=n(348834).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.generateWalletLinkSignature=void 0;const i=n(263678),r=n(498855),a=n(641622);e.generateWalletLinkSignature=async function(t,e,n){const s=(0,r.getWalletLinkRelay)(),c=o.from(`${t}\n\nAddress: ${n}\nNonce: ${e}\nHost: ${a.SIGNATURE_HOST}`),u=await s.signEthereumMessage(c,(0,i.ensureAddressString)(n),!0).promise,l="result"in u?u.result:void 0;if(!l)throw new Error("Got unknown error signing message");return l}},443551:(t,e,n)=>{e.Z=void 0;const o=n(202784),i=n(946813),r=n(911598),a=n(525286),s="cs2/allCommunications";e.Z=function(){const t=(0,r.useAuthedPost)(s),e=(0,i.useQueryClient)(),{mutateAsync:n}=(0,i.useMutation)({mutationFn:async()=>(e.setQueryData([a.FETCH_UNREAD_NOTIFICATIONS_KEY],(()=>({count:0}))),t()),mutationKey:[s]});return(0,o.useCallback)((function(){n()}),[n])}},150464:(t,e,n)=>{e.q=void 0;const o=n(202784),i=n(239398),r=(0,i.defineMessages)({justNow:{id:"KGEX6B",defaultMessage:"Just now"}});e.q=function(t){const{formatMessage:e,formatRelativeTime:n,formatDate:a}=(0,i.useIntl)();return(0,o.useMemo)((()=>{if(!t&&0!==t)return"";const o=new Date(0);o.setUTCSeconds(t);const i=(new Date).getTime()-o.getTime(),s=Math.floor(i/1e3);let c=s/31536e3;if(c>1)return`\u2022 ${a(o,{month:"short",day:"numeric",year:"numeric"})}`;if(c=s/86400,c>1)return`\u2022 ${a(o,{month:"short",day:"numeric"})}`;if(c=s/3600,c>1){const t=Math.floor(c);return`\u2022 ${n(-t,"hour",{numeric:"always"})}`}if(c=s/60,c>1){const t=Math.floor(c);return`\u2022 ${n(-t,"minute",{numeric:"always"})}`}return`\u2022 ${e(r.justNow)}`}),[t,a,e,n])}},544450:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.useNotificationsHub=e.MAX_ITEMS=e.FETCH_NOTIFICATIONS_KEY=void 0;const o=n(946813),i=n(118649);e.FETCH_NOTIFICATIONS_KEY="cs2/communications",e.MAX_ITEMS=10,e.useNotificationsHub=function(){const t=(0,i.useAuthedGet)(e.FETCH_NOTIFICATIONS_KEY);return(0,o.useInfiniteQuery)([e.FETCH_NOTIFICATIONS_KEY],(async({pageParam:n})=>{const o=Math.floor(Date.now()/1e3);return t({max:e.MAX_ITEMS,before:n??o}).then((t=>({response:t,before:n})))}),{refetchOnMount:"always",cacheTime:0,getNextPageParam:t=>!!t.response.items&&(0!==t.response.items.length&&t.response.items.slice(-1)[0].created_at.seconds)})}},319599:(t,e,n)=>{e.U=void 0;const o=n(202784),i=n(946813),r=n(911598),a=n(270287),s=n(544450),c=n(525286);e.U=function(t={}){const e=(0,r.useAuthedPost)("cs2/communications"),n=(0,i.useQueryClient)(),u=(0,o.useCallback)((async function(){await n.invalidateQueries([c.FETCH_UNREAD_NOTIFICATIONS_KEY]),await n.invalidateQueries([s.FETCH_NOTIFICATIONS_KEY]),await n.refetchQueries([c.FETCH_UNREAD_NOTIFICATIONS_KEY],{type:"active",exact:!0})}),[n]),{mutateAsync:l}=(0,i.useMutation)({mutationFn:async t=>{const n={updates:t.map((t=>({communication_id:t.communication_id,action:a.STATE_READ})))};return e(n)},mutationKey:["updateNotificationStateMutationKey"],...t,onSettled:u});return l}},270287:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.STATE_UNREAD=e.STATE_READ=e.STATE_UNSPECIFIED=void 0,e.STATE_UNSPECIFIED=0,e.STATE_READ=1,e.STATE_UNREAD=2}}]);
//# sourceMappingURL=5637.js.map