/*! For license information please see 9862.js.LICENSE.txt */
"use strict";(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[9862],{539862:(e,t,r)=>{r.r(t),r.d(t,{Bridge:()=>A});var o,n=r(202784),a=r(107267),s=r(160593),i=r(86296),u=r(886855),l=r(334291),c=r.n(l),d=r(907839),g=r(61517),p=r(405263),f=r(48972),y=r(395545),m=r(471609),v=r(91175),h=r(264079),b=r(289528),S=r(993199),w=r(552322);function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==M(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==M(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===M(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var x,I,N="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};function T(){var e=(0,v.y)();return(0,w.jsx)(S.stepper.Provider,{defaultStep:e,children:(0,w.jsx)(b.x,{})})}function A(){var e=(0,a.useParams)(),t=e.sourceChainId,r=e.targetChainId,o=(0,n.useCallback)((function(e){var t=e.error,r=e.errorHash;(0,s.logEvent)("bridge.full_screen_error.viewed",{errorHash:r,errorMessage:t.message,action:y.ActionType.view,componentType:y.ComponentType.page});var o=(0,i.coerceError)(t,"bridge");(0,i.cbReportError)({error:o,metadata:{error:null==t?void 0:t.message},context:"bridge-error",severity:"error",isHandled:!1})}),[]),l=(0,n.useCallback)((function(e){var t=e.error;return(0,w.jsx)(m._,{error:t})}),[]),v=(0,n.useMemo)((function(){return t&&r&&t!==r?C(C({},S.initialValues),{},{sourceNetwork:new u.Network("ETHEREUM_CHAIN:".concat(t),!1),targetNetwork:new u.Network("ETHEREUM_CHAIN:".concat(r),!1)}):S.initialValues}),[t,r]);return(0,w.jsx)(f.VStack,{height:g.IR,children:(0,w.jsx)(d.S,{onError:o,renderFallback:l,children:(0,w.jsx)(p.J,{fallback:(0,w.jsx)(h.T,{}),children:(0,w.jsx)(S.form.Provider,{onSubmit:c(),initialValues:v,children:(0,w.jsx)(T,{})})})})})}N(T,"useDefaultStep{defaultStep}",(function(){return[v.y]})),N(A,"useParams{{ sourceChainId, targetChainId }}\nuseCallback{logGlobalError}\nuseCallback{renderFallback}\nuseMemo{initialFormValues}",(function(){return[a.useParams]})),(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(x.register(T,"BridgeContent","/workspaces/apps/extension/src/screens/Bridge/Bridge.tsx"),x.register(A,"Bridge","/workspaces/apps/extension/src/screens/Bridge/Bridge.tsx")),(I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&I(e)},289528:(e,t,r)=>{r.d(t,{x:()=>S});var o,n=r(735103),a=r(319081),s=r(604452),i=r(128684),u=r(65366),l=r(78727),c=r(782272),d=r(430124),g=r(805866),p=r(569290),f=r(899090),y=r(248354),m=r(993199),v=r(552322);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var h,b;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function S(){return(0,v.jsxs)(m.stepper.Steps,{children:[(0,v.jsx)(n.StepperStep,{component:(0,v.jsx)(f.A,{})},"welcome"),(0,v.jsx)(n.StepperStep,{component:(0,v.jsx)(y.H,{})},"welcomeV2"),(0,v.jsx)(n.StepperStep,{component:(0,v.jsx)(s.y,{})},"entry"),(0,v.jsx)(n.StepperStep,{component:(0,v.jsx)(i.s,{})},"entryV2"),(0,v.jsx)(n.StepperStep,{component:(0,v.jsx)(l.X,{})},"networkInterstitial"),(0,v.jsx)(n.StepperStep,{component:(0,v.jsx)(c.M,{selectionMode:"source"})},"selectSourceNetwork"),(0,v.jsx)(n.StepperStep,{component:(0,v.jsx)(c.M,{selectionMode:"target"})},"selectTargetNetwork"),(0,v.jsx)(n.StepperStep,{component:(0,v.jsx)(d.U,{})},"selectSourceWallet"),(0,v.jsx)(n.StepperStep,{component:(0,v.jsx)(g.R,{})},"selectTargetAsset"),(0,v.jsx)(n.StepperStep,{component:(0,v.jsx)(a.m,{})},"confirmationPreview"),(0,v.jsx)(n.StepperStep,{component:(0,v.jsx)(p._,{})},"status"),(0,v.jsx)(n.StepperStep,{component:(0,v.jsx)(u.F,{})},"phoneConfirmation")]})}(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&h.register(S,"BridgeStepper","/workspaces/apps/extension/src/screens/Bridge/BridgeStepper.tsx"),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},556208:(e,t,r)=>{r.d(t,{R:()=>m});var o,n=r(202784),a=r(239398),s=r(783112),i=r(98660),u=r(661641),l=r(183221),c=r(720249),d=r(552322);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var g,p,f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},y=(0,a.defineMessages)({readFAQsLabel:{id:"wWEYI1",defaultMessage:[{type:0,value:"Read FAQs"}]}}),m=(0,n.memo)(f((function(){var e=(0,s.Z)().formatMessage,t=(0,c.useChainDetails)(),r=(0,n.useCallback)((function(){(0,i.logEntryStepFAQPressed)({chainDetails:t,source:i.Source.EXTENSION}),chrome.tabs.create({url:l.BRIDGE_FAQS_URL})}),[t]);return(0,d.jsx)(u.Link,{onPress:r,testID:"bridge-entry-faq-link",children:e(y.readFAQsLabel)})}),"useIntl{{ formatMessage }}\nuseChainDetails{chainDetails}\nuseCallback{handlePress}",(function(){return[s.Z,c.useChainDetails]})));(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(y,"messages","/workspaces/apps/extension/src/screens/Bridge/components/ReadFAQsLink.tsx"),g.register(m,"ReadFAQsLink","/workspaces/apps/extension/src/screens/Bridge/components/ReadFAQsLink.tsx")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},319081:(e,t,r)=>{r.d(t,{m:()=>q});var o,n=r(202784),a=r(239398),s=r(783112),i=r(98660),u=r(223933),l=r(86296),c=r(472987),d=r(559440),g=r(123132),p=r(805173),f=r(812341),y=r(676054),m=r(351913),v=r(433027),h=r(91725),b=r(89902),S=r(705890),w=r(230438),M=r(976974),E=r(599050),C=r(40217),k=r(735103),x=r(95898),I=r(48972),N=r(661641),T=r(416794),A=r(111176),j=r(488869),L=r(555192),B=r(340671),D=r(556208),G=r(183221),P=r(993199),O=r(720249),H=r(991144),z=r(552322);function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function R(){R=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function c(e,t,r,o){var a=t&&t.prototype instanceof v?t:v,s=Object.create(a.prototype),i=new A(o||[]);return n(s,"_invoke",{value:x(e,r,i)}),s}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var g="suspendedStart",p="suspendedYield",f="executing",y="completed",m={};function v(){}function h(){}function b(){}var S={};l(S,s,(function(){return this}));var w=Object.getPrototypeOf,M=w&&w(w(j([])));M&&M!==r&&o.call(M,s)&&(S=M);var E=b.prototype=v.prototype=Object.create(S);function C(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(n,a,s,i){var u=d(e[n],e,a);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==F(c)&&o.call(c,"__await")?t.resolve(c.__await).then((function(e){r("next",e,s,i)}),(function(e){r("throw",e,s,i)})):t.resolve(c).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,i)}))}i(u.arg)}var a;n(this,"_invoke",{value:function(e,o){function n(){return new t((function(t,n){r(e,o,t,n)}))}return a=a?a.then(n,n):n()}})}function x(t,r,o){var n=g;return function(a,s){if(n===f)throw new Error("Generator is already running");if(n===y){if("throw"===a)throw s;return{value:e,done:!0}}for(o.method=a,o.arg=s;;){var i=o.delegate;if(i){var u=I(i,o);if(u){if(u===m)continue;return u}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(n===g)throw n=y,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);n=f;var l=d(t,r,o);if("normal"===l.type){if(n=o.done?y:p,l.arg===m)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(n=y,o.method="throw",o.arg=l.arg)}}}function I(t,r){var o=r.method,n=t.iterator[o];if(n===e)return r.delegate=null,"throw"===o&&t.iterator.return&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+o+"' method")),m;var a=d(n,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var s=a.arg;return s?s.done?(r[t.resultName]=s.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):s:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function j(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(F(t)+" is not iterable")}return h.prototype=b,n(E,"constructor",{value:b,configurable:!0}),n(b,"constructor",{value:h,configurable:!0}),h.displayName=l(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,u,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},C(k.prototype),l(k.prototype,i,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,o,n,a){void 0===a&&(a=Promise);var s=new k(c(e,r,o,n),a);return t.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},C(E),l(E,u,"Generator"),l(E,s,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var o in t)r.push(o);return r.reverse(),function e(){for(;r.length;){var o=r.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=j,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(o,n){return i.type="throw",i.arg=t,r.next=o,n&&(r.method="next",r.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],i=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var u=o.call(s,"catchLoc"),l=o.call(s,"finallyLoc");if(u&&l){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;T(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,o){return this.delegate={iterator:j(t),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),m}},t}function W(e,t,r,o,n,a,s){try{var i=e[a](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(o,n)}function _(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var a=e.apply(t,r);function s(e){W(a,o,n,s,i,"next",e)}function i(e){W(a,o,n,s,i,"throw",e)}s(void 0)}))}}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,a,s,i=[],u=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(o=a.call(r)).done)&&(i.push(o.value),i.length!==t);u=!0);}catch(e){l=!0,n=e}finally{try{if(!u&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw n}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var Z,U,Q="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},X=(0,a.defineMessages)({title:{id:"VkgiR+",defaultMessage:[{type:0,value:"Bridge"}]},cancel:{id:"kz3JfK",defaultMessage:[{type:0,value:"Cancel"}]},confirm:{id:"rxIda0",defaultMessage:[{type:0,value:"Confirm"}]},bridge:{id:"Hoj7j3",defaultMessage:[{type:0,value:"Bridge"}]},networkFeePaidIn:{id:"TYF7eF",defaultMessage:[{type:0,value:"Paid in "},{type:1,value:"gasPaymentMethod"}]}});function q(){var e,t,r,o,a,F,W,V,Z,U,Q=(0,s.Z)().formatMessage,q=(0,k.useStepper)(P.stepper),K=q.goBack,J=q.goToStep,$=Y((0,n.useState)(null),2),ee=$[0],te=$[1],re=(0,x.Z)(P.form),oe=re.bridgeTxData,ne=re.unsignedApproveTxResult,ae=re.unsignedBridgeTxResult,se=re.ledgerBridgeError,ie=re.quote,ue=re.sourceWalletId,le=re.sourceNetwork,ce=re.targetNetwork,de=(0,O.useChainDetails)(),ge=(0,j.useLaunchSprig)(),pe=(0,i.useConfirmationStepViewed)({chainDetails:de,source:i.Source.EXTENSION}),fe=(0,i.useConfirmationStepBridgeConfirm)({chainDetails:de,source:i.Source.EXTENSION}),ye=(0,C.useExtensionPerfMark)((0,M.toExtensionName)(M.PERF_MARKS.bridge),M.BRIDGE_MARKS.load_preview,{logMetric:!0}).end,me=(0,C.useExtensionPerfMark)((0,M.toExtensionName)(M.PERF_MARKS.bridge),M.BRIDGE_MARKS.trigger_bridge,{logMetric:!0}).start,ve=(0,i.useConfirmationStepBridgeButtonDisabled)({chainDetails:de,source:i.Source.EXTENSION}),he=(0,i.useConfirmationStepBridgeCancel)({chainDetails:de,source:i.Source.EXTENSION}),be=(0,i.useConfirmationStepUnlockSuccess)({chainDetails:de,source:i.Source.EXTENSION}),Se=(0,i.useConfirmationStepUnlockError)({chainDetails:de,source:i.Source.EXTENSION}),we=(0,i.useConfirmationStepBridgeAnyway)({chainDetails:de,source:i.Source.EXTENSION}),Me=(0,i.useConfirmationStepStandaloneError)({chainDetails:de,source:i.Source.EXTENSION}),Ee=(0,i.useConfirmationStepStandaloneConfirm)({chainDetails:de,source:i.Source.EXTENSION}),Ce=(0,i.useConfirmationStepLedgerError)({chainDetails:de,source:i.Source.EXTENSION}),ke=(0,i.useConfirmationStepLedgerConfirm)({chainDetails:de,source:i.Source.EXTENSION}),xe=(0,i.useBridgeConfirmationGasFeeViewedLegacy)({chainDetails:de,source:i.Source.EXTENSION}),Ie=(0,i.useBridgeConfirmationGasFeeViewed1559)({chainDetails:de,source:i.Source.EXTENSION}),Ne=(0,i.useBridgeConfirmationGasFeeNotShown)({chainDetails:de,source:i.Source.EXTENSION}),Te=(0,n.useCallback)((function(e){he({userCancelledAfterError:e}),ge("abandonBridgeConfirmation"),K()}),[K,ge,he]),Ae=(0,w.useActiveWalletGroupId)(),je=(0,m.K)(Ae,{sourceNetwork:le.value,targetNetwork:ce.value,walletId:ue.value}),Le=(0,f.useBridgeableWallets)(Ae,le.value,ce.value),Be=(0,y.b)({network:le.value,wallets:Le});if(!(oe.value&&null!==(e=ae.value)&&void 0!==e&&e.transaction&&null!==(t=ae.value)&&void 0!==t&&t.wallet&&je&&Be&&ie.value))throw new Error("Transaction data was missing in ConfirmationPreviewStep");var De=(0,p.useAccountById)(je.accountId),Ge=(0,S.i)(null===(r=ae.value)||void 0===r?void 0:r.transaction,null===(o=ae.value)||void 0===o?void 0:o.wallet),Pe=(0,n.useCallback)((function(e){var t=e.networkEstimatedFee,r=e.networkBaseFee,o=e.networkMaxFee;pe({networkEstimatedFee:t,networkMaxFee:o,networkBaseFee:r});try{var n;if((0,u.isETH1559Tx)(null===(n=ae.value)||void 0===n?void 0:n.transaction)){var a=Ge,s=a.lowerBoundFee,i=a.upperBoundFee;if(!s||!i)throw new Error("No valid lower and upper bound fees for bridge 1559 transaction");Ie(Ge)}else{if(!Ge.estimatedFee)throw new Error("No valid estimated fee for bridge transaction");xe(Ge)}}catch(e){Ne(Ge)}}),[pe,Ge,Ie,xe,Ne,null===(a=ae.value)||void 0===a?void 0:a.transaction]),Oe=(0,H.O)({sourceWallet:je,feeWallet:Be,sourceAsset:ie.value.fromAsset,targetAsset:ie.value.toAsset,shouldIgnoreSuccessRedirect:!0,quote:ie.value}),He=Oe.generateTransactions,ze=Oe.generateTransactionsError,Fe=Oe.isGenerateTransactionsLoading,Re=Y((0,n.useState)(new Date),2),We=Re[0],_e=Re[1],Ye=(0,n.useCallback)(_(R().mark((function e(){return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He();case 2:_e(new Date);case 3:case"end":return e.stop()}}),e)}))),[He]);(0,d.N)(Ye,{interval:G.refetchTimeInterval});var Ve=(0,n.useCallback)((function(){Ee(),J("status")}),[J,Ee]),Ze=(0,n.useCallback)((function(e){Me(),te(e)}),[Me]),Ue=(0,n.useCallback)((function(){ke(),J("status")}),[J,ke]),Qe=(0,n.useCallback)((function(e){Ce(),(0,l.cbReportError)({error:new Error(e.message),context:"ledger-error",severity:"error",isHandled:!1}),se.onChange(e),J("status")}),[J,se,Ce]),Xe=(0,B.T)({unsignedTx:ae.value.transaction,unsignedApproveTx:null===(F=ne.value)||void 0===F?void 0:F.transaction,onSignSuccess:Ue,onSignError:Qe,flow:B.Z.Trade}),qe=Xe.signAndSubmitLedger,Ke=Xe.isHardwareWalletSigning,Je=Xe.hardwareWalletScreen,$e=(0,L.q)(),et=(0,g.useSignAndSubmitStandalone)({wallet:ae.value.wallet,unsignedTx:ae.value.transaction,unsignedApproveTx:null===(W=ne.value)||void 0===W?void 0:W.transaction,unlockSuccess:be,unlockError:Se,signSuccess:Ve,signError:Ze,handleUnlock:$e(null===(V=ae.value)||void 0===V||null===(V=V.wallet)||void 0===V?void 0:V.accountId)}),tt=et.signAndSubmitStandalone,rt=et.isSignAndSubmitStandaloneLoading||Ke||Fe,ot=(0,n.useCallback)((function(){J("phoneConfirmation")}),[J]),nt=(0,b.r)(oe.value),at=(0,n.useMemo)((function(){var e;return{currencyCode:null==Be?void 0:Be.currencyCode.code,network:null==Be?void 0:Be.network,iconUrl:null==Be||null===(e=Be.imageURL)||void 0===e?void 0:e.toString(),showNetworkIconOverride:!1}}),[null==Be?void 0:Be.currencyCode.code,null==Be?void 0:Be.imageURL,null==Be?void 0:Be.network]),st=(0,n.useMemo)((function(){return(0,z.jsxs)(I.HStack,{gap:1,alignItems:"center",justifyContent:"flex-end",children:[(0,z.jsx)(E.Y,{size:"small",asset:at}),(0,z.jsx)(N.TextLegal,{as:"p",color:"foregroundMuted",children:Q(X.networkFeePaidIn,{gasPaymentMethod:Be.currencyCode.code})})]})}),[at,Be.currencyCode.code,Q]),it=(0,h.D)({bridgeTxData:oe.value,unsignedApproveTx:null===(Z=ne.value)||void 0===Z?void 0:Z.transaction,unsignedBridgeTx:ae.value.transaction,isPageLoading:rt,lastUpdateTime:We,rowItemsAnalytics:Pe,feeWalletSubdetail:st}),ut=(0,v.w)(Ae,{bridgeTxData:oe.value,unsignedApproveTx:null===(U=ne.value)||void 0===U?void 0:U.transaction,unsignedBridgeTx:ae.value.transaction}),lt=(0,c.eY)({account:De,isLoading:rt,transactionDetailError:ut,buttonAnalyticsCallbacks:{triggerAnalyticsConfirmAnyway:we,triggerAnalyticsConfirm:fe},onCancelButtonPressed:Te,signAndSubmitStandalone:tt,context:c.K4.BRIDGE,signAndSubmitWalletlink:ot,signAndSubmitLedger:qe,markStartPerf:me});return(0,n.useEffect)((function(){ut||ye()}),[ut,ye]),Ke?Je:(0,z.jsx)(A.O,{headerText:Q(X.title),headerAction:(0,z.jsx)(D.R,{}),detailRowItems:it,error:ut,buttonProps:lt,onPrimaryButtonDisabled:ve,handleBackButton:K,signAndSubmitError:null!=ee?ee:ze,topSection:(0,z.jsx)(T.d,{primaryItem:nt.primaryItem,secondaryItem:nt.secondaryItem,error:ut})})}Q(q,"useIntl{{ formatMessage }}\nuseStepper{{ goBack, goToStep }}\nuseState{[signAndSubmitError, setSignAndSubmitError](null)}\nuseFields{{\n    bridgeTxData,\n    unsignedApproveTxResult,\n    unsignedBridgeTxResult,\n    ledgerBridgeError,\n    quote,\n    sourceWalletId,\n    sourceNetwork,\n    targetNetwork,\n  }}\nuseChainDetails{chainDetails}\nuseLaunchSprig{launchSprig}\nuseConfirmationStepViewed{triggerAnalyticsConfirmationStepViewed}\nuseConfirmationStepBridgeConfirm{triggerAnalyticsConfirm}\nuseExtensionPerfMark{{ end: markEndLoadPreviewPerf }}\nuseExtensionPerfMark{{ start: markStartBridgePerf }}\nuseConfirmationStepBridgeButtonDisabled{triggerAnalyticsButtonDisabled}\nuseConfirmationStepBridgeCancel{triggerAnalyticsBridgeCancel}\nuseConfirmationStepUnlockSuccess{triggerAnalyticsUnlockSuccess}\nuseConfirmationStepUnlockError{triggerAnalyticsUnlockError}\nuseConfirmationStepBridgeAnyway{triggerAnalyticsConfirmAnyway}\nuseConfirmationStepStandaloneError{triggerAnalyticsStandaloneError}\nuseConfirmationStepStandaloneConfirm{triggerAnalyticsStandaloneConfirm}\nuseConfirmationStepLedgerError{triggerAnalyticsLedgerError}\nuseConfirmationStepLedgerConfirm{triggerAnalyticsLedgerConfirm}\nuseBridgeConfirmationGasFeeViewedLegacy{triggerAnalyticsGasFeeViewedLegacy}\nuseBridgeConfirmationGasFeeViewed1559{triggerAnalyticsGasFeeViewed1559}\nuseBridgeConfirmationGasFeeNotShown{triggerAnalyticsGasFeeNotShown}\nuseCallback{handleCancel}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseSelectBridgeWallet{sourceWallet}\nuseBridgeableWallets{wallets}\nuseFeeWalletForNetwork{feeWallet}\nuseAccountById{account}\nuseAnalyticsFeeData{analyticsFeeData}\nuseCallback{rowItemsAnalytics}\nuseGenerateBridgeTransactions{{ generateTransactions, generateTransactionsError, isGenerateTransactionsLoading }}\nuseState{[lastUpdateTime, setLastUpdateTime](new Date())}\nuseCallback{refreshNetworkFeeCallback}\nuseIntervalForPromises{}\nuseCallback{onStandaloneSigningSuccess}\nuseCallback{onStandaloneSigningError}\nuseCallback{handleLedgerSigningSuccess}\nuseCallback{handleLedgerSigningError}\nuseSignAndSubmitLedger{{ signAndSubmitLedger, isHardwareWalletSigning, hardwareWalletScreen }}\nuseHandleUnlockForSigning{handleUnlock}\nuseSignAndSubmitStandalone{{ signAndSubmitStandalone, isSignAndSubmitStandaloneLoading }}\nuseCallback{signAndSubmitWalletlink}\nuseTransactionOverviewItems{overViewItems}\nuseMemo{assetLike}\nuseMemo{feeWalletSubdetail}\nuseTransactionDetailRowItems{transactionDetailRowItems}\nuseTransactionDetailErrors{transactionDetailError}\nuseTransactionDetailButtons{buttonProps}\nuseEffect{}",(function(){return[s.Z,k.useStepper,x.Z,O.useChainDetails,j.useLaunchSprig,i.useConfirmationStepViewed,i.useConfirmationStepBridgeConfirm,C.useExtensionPerfMark,C.useExtensionPerfMark,i.useConfirmationStepBridgeButtonDisabled,i.useConfirmationStepBridgeCancel,i.useConfirmationStepUnlockSuccess,i.useConfirmationStepUnlockError,i.useConfirmationStepBridgeAnyway,i.useConfirmationStepStandaloneError,i.useConfirmationStepStandaloneConfirm,i.useConfirmationStepLedgerError,i.useConfirmationStepLedgerConfirm,i.useBridgeConfirmationGasFeeViewedLegacy,i.useBridgeConfirmationGasFeeViewed1559,i.useBridgeConfirmationGasFeeNotShown,w.useActiveWalletGroupId,m.K,f.useBridgeableWallets,y.b,p.useAccountById,S.i,H.O,d.N,B.T,L.q,g.useSignAndSubmitStandalone,b.r,h.D,v.w,c.eY]})),(Z="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(Z.register(X,"messages","/workspaces/apps/extension/src/screens/Bridge/steps/ConfirmationPreviewStep/ConfirmationPreviewStep.tsx"),Z.register(q,"ConfirmationPreviewStep","/workspaces/apps/extension/src/screens/Bridge/steps/ConfirmationPreviewStep/ConfirmationPreviewStep.tsx")),(U="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&U(e)},604452:(e,t,r)=>{r.d(t,{s:()=>$,y:()=>oe});var o,n=r(202784),a=r(239398),s=r(783112),i=r(107267),u=r(98660),l=r(101620),c=r(86296),d=r(557847),g=r(812341),p=r(676054),f=r(880143),y=r(810770),m=r(351913),v=r(305738),h=r(692687),b=r(230438),S=r(575853),w=r(158856),M=r(976974),E=r(254073),C=r.n(E),k=r(983717),x=r(995136),I=r(352871),N=r(790424),T=r(627240),A=r(40217),j=r(735103),L=r(95898),B=r(960723),D=r(48972),G=r(661641),P=r(488869),O=r(268708),H=r(993199),z=r(720249),F=r(991144),R=r(162764),W=r(56322),_=r(853097),Y=r(737211),V=r(552322);function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){X(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function X(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Z(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==Z(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Z(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,a,s,i=[],u=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(o=a.call(r)).done)&&(i.push(o.value),i.length!==t);u=!0);}catch(e){l=!0,n=e}finally{try{if(!u&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw n}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var J="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},$=(0,a.defineMessages)({title:{id:"WpKVXC",defaultMessage:[{type:0,value:"Bridge"}]},availableAmount:{id:"oQMg3g",defaultMessage:[{type:1,value:"amount"},{type:0,value:" available"}]},nextCTALabel:{id:"tJejPT",defaultMessage:[{type:0,value:"Next"}]},noAmountError:{id:"8xcZm0",defaultMessage:[{type:0,value:"Please enter an amount."}]},transactionCanceled:{id:"hcNb7U",defaultMessage:[{type:0,value:"Transaction canceled"}]},tryAgain:{id:"oKQtsu",defaultMessage:[{type:0,value:"Try again"}]},goBackHome:{id:"pHyRag",defaultMessage:[{type:0,value:"Go back home"}]}});function ee(){var e,t,r,o,a=(0,s.Z)().formatMessage,E=(0,i.useHistory)().goBack,Z=(0,j.useStepper)(H.stepper).goToStep,U=(0,P.useLaunchSprig)(),X=(0,L.Z)(H.form),K=X.cryptoAmount,J=X.sourceNetwork,ee=X.targetNetwork,te=X.sourceWalletId,re=X.enteredAmount,oe=X.isFiat,ne=X.shouldUpdateCryptoAmount,ae=q((0,n.useState)(!1),2),se=ae[0],ie=ae[1],ue=(0,b.useActiveWalletGroupId)(),le=(0,g.useBridgeableWallets)(ue,J.value,ee.value),ce=(0,h.ez)(ue,{network:J.value}),de=(0,z.useChainDetails)(),ge=(0,m.K)(ue,{sourceNetwork:J.value,targetNetwork:ee.value,walletId:te.value}),pe=(0,l.useCurrencyFormatter)(),fe=(0,R.G)(ge,J.value,ee.value),ye=(0,W.q)(ge,J.value,ee.value),me=null===(e=(0,S.usePrimaryReceiveAddresses)().get("ETH"))||void 0===e?void 0:e.address;if(!me)throw new Error("Something went wrong");var ve=(0,u.useEntryStepPreviewButtonClicked)({chainDetails:de,source:u.Source.EXTENSION}),he=(0,u.useGetMaxValueButton)({chainDetails:de,source:u.Source.EXTENSION}),be=(0,u.useSwitchDisplayButton)({chainDetails:de,source:u.Source.EXTENSION}),Se=(0,u.useEntryStepNotEnoughBalance)({chainDetails:de,source:u.Source.EXTENSION}),we=(0,u.useEntryStepQuoteError)({chainDetails:de,source:u.Source.EXTENSION}),Me=(0,u.useEntryStepBackButton)({chainDetails:de,walletCurrencyCode:null==ge?void 0:ge.currencyCode.rawValue,source:u.Source.EXTENSION}),Ee=(0,u.useEntryStepPreviewButtonEnabled)({chainDetails:de,source:u.Source.EXTENSION}),Ce=(0,A.useExtensionPerfMark)((0,M.toExtensionName)(M.PERF_MARKS.bridge),M.BRIDGE_MARKS.load_preview,{logMetric:!0}).start;(0,O.V)((0,M.toExtensionName)(M.PERF_MARKS.bridge),M.BRIDGE_MARKS.launch_bridge,{type:"end"});var ke=(0,y.useQuote)({source:fe.bridgeAsset,target:ye.bridgeAsset,cryptoAmount:K.value,userAddress:me,analyticsError:we}),xe=ke.quote,Ie=ke.isLoading,Ne=ke.fromCryptoAmount,Te=ke.toCryptoAmount,Ae=ke.error,je=(0,w.useWalletsForWalletGroupId)(ue),Le=(0,p.b)({network:J.value,wallets:je||[]});if(!Le){var Be,De,Ge,Pe=new Error("Could not find a valid fee wallet for the selected source chain");throw(0,c.cbReportError)({error:Pe,context:"bridge-error",metadata:{sourceNetwork:null===(Be=J.value)||void 0===Be?void 0:Be.rawValue,targetNetwork:null!==(De=null===(Ge=ee.value)||void 0===Ge?void 0:Ge.rawValue)&&void 0!==De?De:"",walletLength:le.length},severity:"error",isHandled:!1}),Pe}(0,u.useEntryStepViewed)({walletCurrencyCode:null==ge?void 0:ge.currencyCode.rawValue,chainDetails:de,source:u.Source.EXTENSION});var Oe=(0,F.O)({sourceWallet:ge,feeWallet:Le,sourceAsset:fe.bridgeAsset,targetAsset:ye.bridgeAsset,shouldIgnoreSuccessRedirect:!1,quote:xe}),He=Oe.generateTransactions,ze=Oe.generateTransactionsError,Fe=Oe.isGenerateTransactionsLoading,Re=(0,n.useCallback)((function(){Me(),U("abandonBridgeEntry"),E()}),[E,U,Me]),We=(0,n.useCallback)((function(){var e,t,r,o=fe.bridgeAsset,n=ye.bridgeAsset;ve({cryptoAmount:K.value.toString(),currentBalance:null==ge||null===(e=ge.balance)||void 0===e?void 0:e.toString(),sourceCurrencyCode:null==o?void 0:o.currencyCode.code,sourceChainId:null==o?void 0:o.chainId.toString(),sourceChainDisplayName:null==o||null===(t=o.network.asChain())||void 0===t?void 0:t.displayName,targetCurrencyCode:null==n?void 0:n.currencyCode.code,targetChainId:null==n?void 0:n.chainId.toString(),targetChainDisplayName:null==n||null===(r=n.network.asChain())||void 0===r?void 0:r.displayName}),Ce(),He()}),[K.value,He,Ce,fe.bridgeAsset,null==ge?void 0:ge.balance,ye.bridgeAsset,ve]),_e=(0,n.useCallback)((function(){Z("selectSourceWallet")}),[Z]);(0,n.useEffect)((function(){se&&C()((function(){var e,t,r;Se({amount:K.value.toString(),currentBalance:null==ge||null===(e=ge.balance)||void 0===e?void 0:e.toString(),sourceSwapId:null===(t=fe.bridgeAsset)||void 0===t?void 0:t.id,targetSwapId:null===(r=ye.bridgeAsset)||void 0===r?void 0:r.id})}),500)()}),[K.value,se,null===(t=fe.bridgeAsset)||void 0===t?void 0:t.id,null==ge?void 0:ge.balance,null===(r=ye.bridgeAsset)||void 0===r?void 0:r.id,Se]);var Ye=void 0!==(null==ge?void 0:ge.balance)?pe.formatToFiat(null==ge?void 0:ge.currencyCode,null==ge?void 0:ge.decimals,null==ge?void 0:ge.balance,!1,null==ge?void 0:ge.contractAddress,null==ge?void 0:ge.network):"",Ve=(0,n.useMemo)((function(){return Q(Q({},fe),{},{isLoading:Ie,secondaryLabel:K.value&&Ne?Ne:fe.secondaryLabel,onPress:_e})}),[fe,_e,Ie,Ne,K.value]),Ze=(0,n.useMemo)((function(){return Q(Q({},ye),{},{isLoading:Ie,hideCaret:!0,secondaryLabel:K.value&&Te?Te:ye.secondaryLabel,disableSelection:!0})}),[ye,Ie,Te,K.value]),Ue=(0,f.q8)({sourceWallet:ge,cryptoAmount:K.value}),Qe=(0,n.useMemo)((function(){if(K.value>0n&&Ae){var e=Ue(Ae);return e&&(Ae.message=e),Ae}}),[K.value,Ae,Ue]),Xe=(0,n.useMemo)((function(){return se||Fe||void 0!==ze||0n===K.value||!ye.bridgeAsset||!fe.bridgeAsset||!!Qe||!xe}),[se,Fe,ze,K.value,ye.bridgeAsset,fe.bridgeAsset,Qe,xe]),qe=(0,v.useAddTrackedExchangeRate)();(0,n.useEffect)((function(){var e;fe.bridgeAsset&&qe(fe.bridgeAsset.currencyCode,fe.bridgeAsset.chainId,null===(e=fe.bridgeAsset.address)||void 0===e?void 0:e.rawValue)}),[qe,fe.bridgeAsset]),(0,n.useEffect)((function(){var e,t;Xe||Ee({amount:K.value.toString(),sourceSwapId:null===(e=fe.bridgeAsset)||void 0===e?void 0:e.id,targetSwapId:null===(t=ye.bridgeAsset)||void 0===t?void 0:t.id})}),[Xe]);var Ke=ce||(null==ze||null===(o=ze.code)||void 0===o?void 0:o.includes("MinerFee")),Je=(0,n.useMemo)((function(){var e;return null!==(e=null!=ce?ce:ze)&&void 0!==e?e:Qe}),[Qe,ze,ce]);return(0,V.jsxs)(N.lL,{height:"100%",header:(0,V.jsx)(I.l2,{variant:"secondary",centerTitle:!0,title:a($.title),handleBack:Re}),children:[(0,V.jsx)(D.VStack,{spacingHorizontal:3,children:(0,V.jsx)(Y.B,{})}),(0,V.jsx)(D.VStack,{flexGrow:1,spacingHorizontal:3,justifyContent:"center",gap:3,children:ge?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(k._Z,{context:"bridge",wallet:ge,onInsufficientFund:ie,cryptoAmount:K,enteredAmount:re,isFiat:oe,analyticsGetMaxValue:he,analyticsSwitchDisplay:be,shouldUpdateCryptoAmount:ne,txType:d.GasEstimateTxType.BRIDGE}),(0,V.jsx)(G.TextLabel2,{as:"p",color:"foregroundMuted",align:"center",spacingTop:1,children:a($.availableAmount,{amount:Ye})})]}):(0,V.jsx)(x.BF,{})}),(0,V.jsxs)(D.VStack,{spacingHorizontal:3,gap:3,spacingBottom:3,children:[(0,V.jsx)(_.rb,{error:Je,row1:Ve,row2:Ze,tooltipContent:Ke?(0,V.jsx)(T.W,{network:null==J?void 0:J.value,zeroBaseAssetError:ce}):void 0}),(0,V.jsx)(B.Button,{block:!0,disabled:Xe,loading:Ie||Fe,onPress:We,testID:"bridge-entry-preview-button",children:a($.nextCTALabel)})]})]})}J(ee,"useIntl{{ formatMessage }}\nuseHistory{{ goBack }}\nuseStepper{{ goToStep }}\nuseLaunchSprig{launchSprig}\nuseFields{{\n    cryptoAmount,\n    sourceNetwork,\n    targetNetwork,\n    sourceWalletId,\n    enteredAmount,\n    isFiat,\n    shouldUpdateCryptoAmount,\n  }}\nuseState{[hasInsufficientFund, setHasInsufficientFund](false)}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseBridgeableWallets{wallets}\nuseBaseAssetZeroBalanceError{zeroBaseAssetError}\nuseChainDetails{chainDetails}\nuseSelectBridgeWallet{sourceWallet}\nuseCurrencyFormatter{currencyFormatter}\nuseBridgeSourceSelector{sourceSelector}\nuseBridgeTargetSelector{targetSelector}\nusePrimaryReceiveAddresses{}\nuseEntryStepPreviewButtonClicked{triggerAnalyticsPreviewButtonClicked}\nuseGetMaxValueButton{triggerAnalyticsGetMaxValue}\nuseSwitchDisplayButton{triggerAnalyticsSwitchDisplay}\nuseEntryStepNotEnoughBalance{triggerAnalyticsNotEnoughBalance}\nuseEntryStepQuoteError{triggerAnalyticsQuoteError}\nuseEntryStepBackButton{triggerAnalyticsBackButton}\nuseEntryStepPreviewButtonEnabled{triggerAnalyticsPreviewEnabled}\nuseExtensionPerfMark{{ start: markStartLoadPreviewPerf }}\nusePerfMarkOnMount{}\nuseQuote{{\n    quote: bridgeQuote,\n    isLoading: isQuoteLoading,\n    fromCryptoAmount,\n    toCryptoAmount,\n    error,\n  }}\nuseWalletsForWalletGroupId{activeWallets}\nuseFeeWalletForNetwork{feeWallet}\nuseEntryStepViewed{}\nuseGenerateBridgeTransactions{{ generateTransactions, generateTransactionsError, isGenerateTransactionsLoading }}\nuseCallback{handleGoBack}\nuseCallback{handlePreview}\nuseCallback{handleSourceAssetSelected}\nuseEffect{}\nuseMemo{sourceAssetProps}\nuseMemo{targetAssetProps}\nuseGetNoRoutesErrorMessage{getNoRoutesErrorMessage}\nuseMemo{entrySelectorError}\nuseMemo{isBridgeButtonDisabled}\nuseAddTrackedExchangeRate{addTrackedRate}\nuseEffect{}\nuseEffect{}\nuseMemo{errorToDisplay}",(function(){return[s.Z,i.useHistory,j.useStepper,P.useLaunchSprig,L.Z,b.useActiveWalletGroupId,g.useBridgeableWallets,h.ez,z.useChainDetails,m.K,l.useCurrencyFormatter,R.G,W.q,S.usePrimaryReceiveAddresses,u.useEntryStepPreviewButtonClicked,u.useGetMaxValueButton,u.useSwitchDisplayButton,u.useEntryStepNotEnoughBalance,u.useEntryStepQuoteError,u.useEntryStepBackButton,u.useEntryStepPreviewButtonEnabled,A.useExtensionPerfMark,O.V,y.useQuote,w.useWalletsForWalletGroupId,p.b,u.useEntryStepViewed,F.O,f.q8,v.useAddTrackedExchangeRate]}));var te,re,oe=(0,n.memo)(ee);(te="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(te.register($,"messages","/workspaces/apps/extension/src/screens/Bridge/steps/EntryStep/EntryStep.tsx"),te.register(ee,"EntryStepContent","/workspaces/apps/extension/src/screens/Bridge/steps/EntryStep/EntryStep.tsx"),te.register(oe,"EntryStep","/workspaces/apps/extension/src/screens/Bridge/steps/EntryStep/EntryStep.tsx")),(re="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&re(e)},264079:(e,t,r)=>{r.d(t,{T:()=>f});var o,n,a,s=r(783112),i=r(87550),u=r(790424),l=r(960723),c=r(48972),d=r(156169),g=r(604452),p=r(552322);function f(){var e=(0,s.Z)().formatMessage;return(0,p.jsxs)(u.lL,{height:"100%",children:[(0,p.jsx)(c.VStack,{alignContent:"center",justifyContent:"center",flexGrow:1,spacingHorizontal:3,children:(0,p.jsx)(i.O,{})}),(0,p.jsxs)(c.VStack,{spacingBottom:3,spacingHorizontal:3,children:[(0,p.jsx)(d.m,{}),(0,p.jsx)(l.Button,{block:!0,disabled:!0,children:e(g.s.nextCTALabel)})]})]})}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(f,"useIntl{{ formatMessage }}",(function(){return[s.Z]})),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(f,"EntryStepFallback","/workspaces/apps/extension/src/screens/Bridge/steps/EntryStep/EntryStepFallback.tsx"),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)},128684:(e,t,r)=>{r.d(t,{s:()=>de});var o,n=r(202784),a=r(239398),s=r(783112),i=r(107267),u=r(98660),l=r(101620),c=r(537511),d=r(86296),g=r(557847),p=r(812341),f=r(676054),y=r(880143),m=r(810770),v=r(351913),h=r(305738),b=r(692687),S=r(230438),w=r(575853),M=r(158856),E=r(976974),C=r(254073),k=r.n(C),x=r(983717),I=r(995136),N=r(599050),T=r(352871),A=r(156374),j=r(790424),L=r(627240),B=r(757411),D=r(40217),G=r(735103),P=r(95898),O=r(960723),H=r(853052),z=r(48972),F=r(76470),R=r(661641),W=r(488869),_=r(268708),Y=r(556208),V=r(183221),Z=r(993199),U=r(720249),Q=r(991144),X=r(162764),q=r(56322),K=r(861080),J=r(737211),$=r(552322);function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ee(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==ee(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ee(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,a,s,i=[],u=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(o=a.call(r)).done)&&(i.push(o.value),i.length!==t);u=!0);}catch(e){l=!0,n=e}finally{try{if(!u&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw n}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var se="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},ie=(0,a.defineMessages)({title:{id:"WpKVXC",defaultMessage:[{type:0,value:"Bridge"}]},availableAmount:{id:"O4zzOB",defaultMessage:[{type:0,value:"Available"}]},previewLabel:{id:"LQ4Vhd",defaultMessage:[{type:0,value:"Preview"}]},noAmountError:{id:"8xcZm0",defaultMessage:[{type:0,value:"Please enter an amount."}]},transactionCanceled:{id:"hcNb7U",defaultMessage:[{type:0,value:"Transaction canceled"}]},tryAgain:{id:"oKQtsu",defaultMessage:[{type:0,value:"Try again"}]},goBackHome:{id:"pHyRag",defaultMessage:[{type:0,value:"Go back home"}]},assetLabel:{id:"qJBYE3",defaultMessage:[{type:0,value:"Asset"}]}});function ue(){var e,t,r,o,a=(0,s.Z)().formatMessage,C=(0,i.useHistory)().goBack,ee=(0,G.useStepper)(Z.stepper).goToStep,te=(0,W.useLaunchSprig)(),oe=(0,P.Z)(Z.form),ae=oe.cryptoAmount,se=oe.sourceNetwork,ue=oe.targetNetwork,le=oe.sourceWalletId,ce=oe.enteredAmount,de=oe.isFiat,ge=oe.shouldUpdateCryptoAmount,pe=ne((0,n.useState)(!1),2),fe=pe[0],ye=pe[1],me=(0,S.useActiveWalletGroupId)(),ve=(0,p.useBridgeableWallets)(me,se.value,ue.value),he=(0,b.ez)(me,{network:se.value}),be=(0,U.useChainDetails)(),Se=(0,v.K)(me,{sourceNetwork:se.value,targetNetwork:ue.value,walletId:le.value}),we=(0,l.useCurrencyFormatter)(),Me=(0,X.G)(Se,se.value,ue.value),Ee=(0,q.q)(Se,se.value,ue.value),Ce=null===(e=(0,w.usePrimaryReceiveAddresses)().get("ETH"))||void 0===e?void 0:e.address;if(!Ce)throw new Error("Something went wrong");var ke=(0,u.useEntryStepPreviewButtonClicked)({chainDetails:be,source:u.Source.EXTENSION}),xe=(0,u.useGetMaxValueButton)({chainDetails:be,source:u.Source.EXTENSION}),Ie=(0,u.useSwitchDisplayButton)({chainDetails:be,source:u.Source.EXTENSION}),Ne=(0,u.useEntryStepNotEnoughBalance)({chainDetails:be,source:u.Source.EXTENSION}),Te=(0,u.useEntryStepQuoteError)({chainDetails:be,source:u.Source.EXTENSION}),Ae=(0,u.useEntryStepBackButton)({chainDetails:be,walletCurrencyCode:null==Se?void 0:Se.currencyCode.rawValue,source:u.Source.EXTENSION}),je=(0,u.useEntryStepPreviewButtonEnabled)({chainDetails:be,source:u.Source.EXTENSION}),Le=(0,D.useExtensionPerfMark)((0,E.toExtensionName)(E.PERF_MARKS.bridge),E.BRIDGE_MARKS.load_preview,{logMetric:!0}).start;(0,_.V)((0,E.toExtensionName)(E.PERF_MARKS.bridge),E.BRIDGE_MARKS.launch_bridge,{type:"end"});var Be=(0,m.useQuote)({source:Me.bridgeAsset,target:Ee.bridgeAsset,cryptoAmount:ae.value,userAddress:Ce,analyticsError:Te}),De=Be.quote,Ge=Be.isLoading,Pe=Be.error,Oe=(0,M.useWalletsForWalletGroupId)(me),He=(0,f.b)({network:se.value,wallets:Oe||[]});if(!He){var ze,Fe,Re,We=new Error("Could not find a valid fee wallet for the selected source chain"),_e={sourceNetwork:null===(ze=se.value)||void 0===ze?void 0:ze.rawValue,targetNetwork:null!==(Fe=null===(Re=ue.value)||void 0===Re?void 0:Re.rawValue)&&void 0!==Fe?Fe:"",walletLength:ve.length};throw(0,d.cbReportError)(re(re({error:We,context:"bridge-error"},_e),{},{isHandled:!1,severity:"error"})),We}(0,u.useEntryStepViewed)({walletCurrencyCode:null==Se?void 0:Se.currencyCode.rawValue,chainDetails:be,source:u.Source.EXTENSION});var Ye=(0,Q.O)({sourceWallet:Se,feeWallet:He,sourceAsset:Me.bridgeAsset,targetAsset:Ee.bridgeAsset,shouldIgnoreSuccessRedirect:!1,quote:De}),Ve=Ye.generateTransactions,Ze=Ye.generateTransactionsError,Ue=Ye.isGenerateTransactionsLoading,Qe=(0,n.useCallback)((function(){Ae(),te("abandonBridgeEntry"),C()}),[C,te,Ae]),Xe=(0,n.useCallback)((function(){var e,t,r,o=Me.bridgeAsset,n=Ee.bridgeAsset;ke({cryptoAmount:ae.value.toString(),currentBalance:null==Se||null===(e=Se.balance)||void 0===e?void 0:e.toString(),sourceCurrencyCode:null==o?void 0:o.currencyCode.code,sourceChainId:null==o?void 0:o.chainId.toString(),sourceChainDisplayName:null==o||null===(t=o.network.asChain())||void 0===t?void 0:t.displayName,targetCurrencyCode:null==n?void 0:n.currencyCode.code,targetChainId:null==n?void 0:n.chainId.toString(),targetChainDisplayName:null==n||null===(r=n.network.asChain())||void 0===r?void 0:r.displayName}),Le(),Ve()}),[ae.value,Ve,Le,Me.bridgeAsset,null==Se?void 0:Se.balance,Ee.bridgeAsset,ke]),qe=(0,n.useCallback)((function(){ee("selectSourceWallet")}),[ee]),Ke=(0,g.useGetGasEstimate)({txType:g.GasEstimateTxType.BRIDGE,wallet:Se}),Je=Ke.gasEstimate,$e=Ke.refetch,et=Ke.isFetched;(0,n.useEffect)((function(){fe&&k()((function(){var e,t,r;Ne({amount:ae.value.toString(),currentBalance:null==Se||null===(e=Se.balance)||void 0===e?void 0:e.toString(),sourceSwapId:null===(t=Me.bridgeAsset)||void 0===t?void 0:t.id,targetSwapId:null===(r=Ee.bridgeAsset)||void 0===r?void 0:r.id})}),500)()}),[ae.value,fe,null===(t=Me.bridgeAsset)||void 0===t?void 0:t.id,null==Se?void 0:Se.balance,null===(r=Ee.bridgeAsset)||void 0===r?void 0:r.id,Ne]);var tt=void 0!==(null==Se?void 0:Se.balance)?we.formatToFiat(null==Se?void 0:Se.currencyCode,null==Se?void 0:Se.decimals,null==Se?void 0:Se.balance,!1,null==Se?void 0:Se.contractAddress,null==Se?void 0:Se.network):"",rt=(0,y.q8)({sourceWallet:Se,cryptoAmount:ae.value}),ot=(0,n.useMemo)((function(){if(ae.value>0n&&Pe){var e=rt(Pe);return e&&(Pe.message=e),Pe}}),[ae.value,Pe,rt]),nt=(0,n.useMemo)((function(){return fe||Ue||void 0!==Ze||0n===ae.value||!Ee.bridgeAsset||!Me.bridgeAsset||!!ot||!De}),[fe,Ue,Ze,ae.value,Ee.bridgeAsset,Me.bridgeAsset,ot,De]),at=(0,h.useAddTrackedExchangeRate)();(0,n.useEffect)((function(){var e;Me.bridgeAsset&&at(Me.bridgeAsset.currencyCode,Me.bridgeAsset.chainId,null===(e=Me.bridgeAsset.address)||void 0===e?void 0:e.rawValue)}),[at,Me.bridgeAsset]),(0,n.useEffect)((function(){var e,t;nt||je({amount:ae.value.toString(),sourceSwapId:null===(e=Me.bridgeAsset)||void 0===e?void 0:e.id,targetSwapId:null===(t=Ee.bridgeAsset)||void 0===t?void 0:t.id})}),[nt]);var st=he||(null==Ze||null===(o=Ze.code)||void 0===o?void 0:o.includes("MinerFee")),it=(0,n.useMemo)((function(){var e;return null!==(e=null!=he?he:Ze)&&void 0!==e?e:ot}),[ot,Ze,he]),ut=(0,n.useMemo)((function(){var e;return{currencyCode:null==Se?void 0:Se.currencyCode.code,network:null==Se?void 0:Se.network,iconUrl:null==Se||null===(e=Se.imageURL)||void 0===e?void 0:e.toString(),showNetworkIconOverride:!(null==Se||!Se.contractAddress)}}),[null==Se?void 0:Se.contractAddress,null==Se?void 0:Se.currencyCode.code,null==Se?void 0:Se.imageURL,null==Se?void 0:Se.network]),lt=(0,n.useCallback)((function(e){var t;if(null==Se||!Se.balance)throw new Error("Could not find a balance for source wallet");var r=(null!==(t=Se.balance)&&void 0!==t?t:0n)*BigInt(e*K.BIGINT_MULTIPLIER)/BigInt(K.BIGINT_MULTIPLIER);ae.onChange(r),ce.onChange((0,c.dN)({currencyFormatter:we,wallet:Se,newAmount:r,isCrypto:!de.value,includeCode:!1,preserveEndingZeros:!0}))}),[Se,ae,ce,we,de.value]),ct=(0,n.useCallback)((function(){if(null==Se||!Se.balance)throw new Error("Could not find a balance for source wallet");!et||null!=Se&&Se.contractAddress||$e();var e=Se.balance-Je<=0n?Se.balance:Se.balance-Je,t=Se.contractAddress?Se.balance:e;xe(),ae.onChange(t),ce.onChange((0,c.dN)({currencyFormatter:we,wallet:Se,newAmount:t,isCrypto:!de.value,includeCode:!1,preserveEndingZeros:!0}))}),[Se,et,Je,xe,ae,ce,we,de.value,$e]),dt=(0,n.useMemo)((function(){return it?(st||(z.Box,B.A),(0,$.jsx)(F.Tooltip,{content:(0,$.jsx)(L.W,{network:se.value,zeroBaseAssetError:he}),children:(0,$.jsx)(z.Box,{children:(0,$.jsx)(B.A,{error:it,hasTooltip:!0})})})):null}),[it,st,se.value,he]);return(0,$.jsxs)(j.lL,{height:"100%",header:(0,$.jsx)(T.l2,{variant:"secondary",centerTitle:!0,title:a(ie.title),handleBack:Qe,actions:(0,$.jsx)(Y.R,{})}),children:[(0,$.jsx)(z.VStack,{spacingHorizontal:3,children:(0,$.jsx)(J.B,{})}),(0,$.jsxs)(z.VStack,{flexGrow:1,justifyContent:"center",gap:3,children:[Se?(0,$.jsx)(x._Z,{context:"stake",wallet:Se,onInsufficientFund:ye,cryptoAmount:ae,enteredAmount:ce,isFiat:de,analyticsGetMaxValue:xe,analyticsSwitchDisplay:Ie,shouldUpdateCryptoAmount:ge,txType:g.GasEstimateTxType.BRIDGE,fiatValueDisplay:tt}):(0,$.jsx)(I.BF,{}),(0,$.jsx)(z.Box,{spacingHorizontal:3,justifyContent:"center",height:V.BRIDGE_ENTRY_ERROR_HEIGHT,spacingTop:1,children:dt})]}),(0,$.jsx)(H.ListCell,{testID:"bridge-entry-selector",accessory:"arrow",title:a(ie.assetLabel),description:(0,$.jsx)(R.TextLabel2,{as:"p",color:"foregroundMuted",children:null==Se?void 0:Se.currencyCode.code}),detail:(0,$.jsx)(z.VStack,{alignItems:"flex-end",children:(0,$.jsx)(R.TextHeadline,{as:"p",children:tt})}),subdetail:(0,$.jsx)(z.VStack,{alignItems:"flex-end",children:(0,$.jsx)(R.TextLabel2,{as:"p",color:"foregroundMuted",children:a(ie.availableAmount)})}),onPress:qe,media:(0,$.jsx)(N.Y,{asset:ut})}),(0,$.jsxs)(z.VStack,{spacingHorizontal:3,gap:3,spacingBottom:3,children:[(0,$.jsx)(A.G,{onPressMaxButton:ct,onPressPercentageButton:lt}),(0,$.jsx)(O.Button,{block:!0,disabled:nt,loading:Ge||Ue,onPress:Xe,testID:"bridge-entry-preview-button",children:a(ie.previewLabel)})]})]})}se(ue,"useIntl{{ formatMessage }}\nuseHistory{{ goBack }}\nuseStepper{{ goToStep }}\nuseLaunchSprig{launchSprig}\nuseFields{{\n    cryptoAmount,\n    sourceNetwork,\n    targetNetwork,\n    sourceWalletId,\n    enteredAmount,\n    isFiat,\n    shouldUpdateCryptoAmount,\n  }}\nuseState{[hasInsufficientFund, setHasInsufficientFund](false)}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseBridgeableWallets{wallets}\nuseBaseAssetZeroBalanceError{zeroBaseAssetError}\nuseChainDetails{chainDetails}\nuseSelectBridgeWallet{sourceWallet}\nuseCurrencyFormatter{currencyFormatter}\nuseBridgeSourceSelector{sourceSelector}\nuseBridgeTargetSelector{targetSelector}\nusePrimaryReceiveAddresses{}\nuseEntryStepPreviewButtonClicked{triggerAnalyticsPreviewButtonClicked}\nuseGetMaxValueButton{triggerAnalyticsGetMaxValue}\nuseSwitchDisplayButton{triggerAnalyticsSwitchDisplay}\nuseEntryStepNotEnoughBalance{triggerAnalyticsNotEnoughBalance}\nuseEntryStepQuoteError{triggerAnalyticsQuoteError}\nuseEntryStepBackButton{triggerAnalyticsBackButton}\nuseEntryStepPreviewButtonEnabled{triggerAnalyticsPreviewEnabled}\nuseExtensionPerfMark{{ start: markStartLoadPreviewPerf }}\nusePerfMarkOnMount{}\nuseQuote{{\n    quote: bridgeQuote,\n    isLoading: isQuoteLoading,\n    error,\n  }}\nuseWalletsForWalletGroupId{activeWallets}\nuseFeeWalletForNetwork{feeWallet}\nuseEntryStepViewed{}\nuseGenerateBridgeTransactions{{ generateTransactions, generateTransactionsError, isGenerateTransactionsLoading }}\nuseCallback{handleGoBack}\nuseCallback{handlePreview}\nuseCallback{handleSourceAssetSelected}\nuseGetGasEstimate{{ gasEstimate, refetch, isFetched }}\nuseEffect{}\nuseGetNoRoutesErrorMessage{getNoRoutesErrorMessage}\nuseMemo{entrySelectorError}\nuseMemo{isBridgeButtonDisabled}\nuseAddTrackedExchangeRate{addTrackedRate}\nuseEffect{}\nuseEffect{}\nuseMemo{errorToDisplay}\nuseMemo{sourceAssetLike}\nuseCallback{handlePressPercentageButton}\nuseCallback{handlePressMaxButton}\nuseMemo{errorComponent}",(function(){return[s.Z,i.useHistory,G.useStepper,W.useLaunchSprig,P.Z,S.useActiveWalletGroupId,p.useBridgeableWallets,b.ez,U.useChainDetails,v.K,l.useCurrencyFormatter,X.G,q.q,w.usePrimaryReceiveAddresses,u.useEntryStepPreviewButtonClicked,u.useGetMaxValueButton,u.useSwitchDisplayButton,u.useEntryStepNotEnoughBalance,u.useEntryStepQuoteError,u.useEntryStepBackButton,u.useEntryStepPreviewButtonEnabled,D.useExtensionPerfMark,_.V,m.useQuote,M.useWalletsForWalletGroupId,f.b,u.useEntryStepViewed,Q.O,g.useGetGasEstimate,y.q8,h.useAddTrackedExchangeRate]}));var le,ce,de=(0,n.memo)(ue);(le="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(le.register(ie,"messages","/workspaces/apps/extension/src/screens/Bridge/steps/EntryStep/EntryStepV2.tsx"),le.register(ue,"EntryStepContent","/workspaces/apps/extension/src/screens/Bridge/steps/EntryStep/EntryStepV2.tsx"),le.register(de,"EntryStepV2","/workspaces/apps/extension/src/screens/Bridge/steps/EntryStep/EntryStepV2.tsx")),(ce="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&ce(e)},737211:(e,t,r)=>{r.d(t,{B:()=>w});var o,n=r(202784),a=r(239398),s=r(783112),i=r(301043),u=r(124273),l=r(735103),c=r(95898),d=r(606058),g=r(48972),p=r(252163),f=r(661641),y=r(993199),m=r(552322);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var v,h,b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},S=(0,a.defineMessages)({fromNetwork:{id:"jEQzpl",defaultMessage:[{type:0,value:"From network"}]},toNetwork:{id:"Lp7JYR",defaultMessage:[{type:0,value:"To network"}]}});function w(){var e,t=(0,s.Z)().formatMessage,r=(0,c.Z)(y.form),o=r.sourceNetwork,a=r.targetNetwork,v=(0,l.useStepper)(y.stepper).goToStep,h=(0,i.useIsBridgeRedesignEligible)(),b=o.value.asChain(),w=null===(e=a.value)||void 0===e?void 0:e.asChain(),M=(0,n.useCallback)((function(){v("selectSourceNetwork")}),[v]),E=(0,n.useCallback)((function(){v("selectTargetNetwork")}),[v]);return h?(0,m.jsxs)(g.HStack,{alignItems:"center",width:"100%",testID:"selected-networks-sub-header-redesign",children:[(0,m.jsxs)(g.VStack,{gap:.5,children:[(0,m.jsx)(f.TextLabel2,{as:"p",color:"foregroundMuted",children:t(S.fromNetwork)}),(0,m.jsx)(p.Pressable,{backgroundColor:"transparent",onPress:M,testID:"selected-networks-subheader-source",children:(0,m.jsxs)(g.HStack,{alignItems:"center",justifyContent:"space-between",background:"secondary",borderRadius:"round",spacingHorizontal:1,height:28,width:145,children:[(0,m.jsxs)(g.HStack,{alignItems:"center",children:[o?(0,m.jsx)(u.d,{testID:"source-network-icon",size:"tiny",network:o.value}):null,(0,m.jsx)(f.TextLabel1,{as:"p",color:"foreground",spacingStart:1,spacingEnd:1,children:null==b?void 0:b.displayName})]}),(0,m.jsx)(d.Icon,{name:"caretDown",size:"xs",color:"foreground"})]})})]}),(0,m.jsx)(g.Box,{alignItems:"flex-end",height:35,children:(0,m.jsx)(d.Icon,{name:"arrowRight",size:"xs",color:"foreground",spacingHorizontal:1})}),(0,m.jsxs)(g.VStack,{gap:.5,children:[(0,m.jsx)(f.TextLabel2,{as:"p",color:"foregroundMuted",children:t(S.toNetwork)}),(0,m.jsx)(p.Pressable,{backgroundColor:"transparent",onPress:E,testID:"selected-networks-subheader-target",children:(0,m.jsxs)(g.HStack,{alignItems:"center",justifyContent:"space-between",background:"secondary",borderRadius:"round",spacingHorizontal:1,height:28,width:145,children:[(0,m.jsxs)(g.HStack,{alignItems:"center",children:[a?(0,m.jsx)(u.d,{testID:"target-network-icon",size:"tiny",network:a.value}):null,(0,m.jsx)(f.TextLabel1,{as:"p",color:"foreground",spacingStart:1,spacingEnd:1,children:null==w?void 0:w.displayName})]}),(0,m.jsx)(d.Icon,{name:"caretDown",size:"xs",color:"foreground"})]})})]})]}):(0,m.jsxs)(g.HStack,{alignItems:"center",justifyContent:"center",width:"100%",testID:"selected-networks-sub-header",children:[(0,m.jsx)(p.Pressable,{backgroundColor:"transparent",onPress:M,testID:"selected-networks-subheader-source",children:(0,m.jsxs)(g.HStack,{alignItems:"center",justifyContent:"center",background:"secondary",borderRadius:"round",spacingHorizontal:1,flexShrink:1,height:28,children:[o?(0,m.jsx)(u.d,{testID:"source-network-icon",size:"tiny",network:o.value}):null,(0,m.jsx)(f.TextLabel1,{as:"p",color:"foreground",spacingStart:1,spacingEnd:1,children:null==b?void 0:b.displayName}),(0,m.jsx)(d.Icon,{name:"caretRight",size:"xs",color:"foreground"})]})}),(0,m.jsx)(d.Icon,{name:"arrowRight",size:"xs",color:"foreground",spacingHorizontal:1}),(0,m.jsx)(p.Pressable,{backgroundColor:"transparent",onPress:E,testID:"selected-networks-subheader-target",children:(0,m.jsxs)(g.HStack,{alignItems:"center",justifyContent:"center",background:"secondary",borderRadius:"round",spacingHorizontal:1,flexShrink:1,height:28,children:[a?(0,m.jsx)(u.d,{testID:"target-network-icon",size:"tiny",network:a.value}):null,(0,m.jsx)(f.TextLabel1,{as:"p",color:"foreground",spacingStart:1,spacingEnd:1,children:null==w?void 0:w.displayName}),(0,m.jsx)(d.Icon,{name:"caretRight",size:"xs",color:"foreground"})]})})]})}b(w,"useIntl{{ formatMessage }}\nuseFields{{ sourceNetwork, targetNetwork }}\nuseStepper{{ goToStep }}\nuseIsBridgeRedesignEligible{isBridgeRedesignEligible}\nuseCallback{handleSourceNetworkPress}\nuseCallback{handleTargetNetworkPress}",(function(){return[s.Z,c.Z,l.useStepper,i.useIsBridgeRedesignEligible]})),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(S,"messages","/workspaces/apps/extension/src/screens/Bridge/steps/EntryStep/components/SelectedNetworksSubHeader.tsx"),v.register(w,"SelectedNetworksSubHeader","/workspaces/apps/extension/src/screens/Bridge/steps/EntryStep/components/SelectedNetworksSubHeader.tsx")),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)},162764:(e,t,r)=>{r.d(t,{G:()=>m});var o,n=r(202784),a=r(239398),s=r(783112),i=r(59169),u=r(334291),l=r.n(u),c=r(661641),d=r(552322);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var g,p,f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},y=(0,a.defineMessages)({from:{id:"bHEvFB",defaultMessage:[{type:0,value:"From"}]},chooseCoin:{id:"nXtafB",defaultMessage:[{type:0,value:"Choose coin"}]}});function m(e,t,r){var o,a,u=(0,s.Z)().formatMessage,g=(0,i.useBridgeableSourceAssets)({sourceChainId:null==t||null===(o=t.asChain())||void 0===o?void 0:o.chainId.toString(),targetChainId:null==r||null===(a=r.asChain())||void 0===a?void 0:a.chainId.toString()}).find((function(t){return t.id===(null==e?void 0:e.swapId)})),p=(0,n.useMemo)((function(){return(0,d.jsx)(c.TextLabel1,{as:"p",color:"primary",children:u(y.chooseCoin)})}),[u]);return(0,n.useMemo)((function(){var e;return{secondaryLabel:null!==(e=null==g?void 0:g.currencyCode.code)&&void 0!==e?e:p,primaryLabel:u(y.from),image:null==g?void 0:g.imageURL,onPress:l(),dataElementHandle:"bridge-from-selector",bridgeAsset:g}}),[u,p,g])}f(m,"useIntl{{ formatMessage }}\nuseBridgeableSourceAssets{sourceAssets}\nuseMemo{ChooseCoinLabel}\nuseMemo{}",(function(){return[s.Z,i.useBridgeableSourceAssets]})),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(y,"messages","/workspaces/apps/extension/src/screens/Bridge/steps/EntryStep/hooks/useBridgeSourceSelector.tsx"),g.register(m,"useBridgeSourceSelector","/workspaces/apps/extension/src/screens/Bridge/steps/EntryStep/hooks/useBridgeSourceSelector.tsx")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},56322:(e,t,r)=>{r.d(t,{q:()=>v});var o,n=r(202784),a=r(239398),s=r(783112),i=r(236215),u=r(98597),l=r(334291),c=r.n(l),d=r(661641),g=r(552322);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var p,f,y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},m=(0,a.defineMessages)({to:{id:"tMX/lG",defaultMessage:[{type:0,value:"To"}]},chooseCoin:{id:"nXtafB",defaultMessage:[{type:0,value:"Choose coin"}]}});function v(e,t,r){var o,a,l,p=(0,s.Z)().formatMessage,f=(0,i.mP)({sourceChainId:null==t||null===(o=t.asChain())||void 0===o?void 0:o.chainId.toString(),targetChainId:null==r||null===(a=r.asChain())||void 0===a?void 0:a.chainId.toString(),sourceContractAddress:null!==(l=null==e?void 0:e.contractAddress)&&void 0!==l?l:u.NATIVE_ADDRESS,sourceCurrencyCode:null==e?void 0:e.currencyCode.rawValue})[0],y=(0,n.useMemo)((function(){return(0,g.jsx)(d.TextLabel1,{as:"p",color:"primary",children:p(m.chooseCoin)})}),[p]);return(0,n.useMemo)((function(){var t;return e?{secondaryLabel:null!==(t=null==f?void 0:f.currencyCode.code)&&void 0!==t?t:y,primaryLabel:p(m.to),image:null==f?void 0:f.imageURL,onPress:c(),dataElementHandle:"bridge-to-selector",bridgeAsset:f}:{secondaryLabel:y,primaryLabel:p(m.to),image:null==f?void 0:f.imageURL,onPress:c(),dataElementHandle:"bridge-to-selector"}}),[f,y,p,e])}y(v,"useIntl{{ formatMessage }}\nuseBridgeableTargetAssets{targetAssets}\nuseMemo{ChooseCoinLabel}\nuseMemo{}",(function(){return[s.Z,i.mP]})),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(m,"messages","/workspaces/apps/extension/src/screens/Bridge/steps/EntryStep/hooks/useBridgeTargetSelector.tsx"),p.register(v,"useBridgeTargetSelector","/workspaces/apps/extension/src/screens/Bridge/steps/EntryStep/hooks/useBridgeTargetSelector.tsx")),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)},65366:(e,t,r)=>{r.d(t,{F:()=>I});var o,n=r(202784),a=r(239398),s=r(783112),i=r(107267),u=r(98660),l=r(656695),c=r(241515),d=r(868789),g=r(735103),p=r(993199),f=r(720249),y=r(590309),m=r(552322);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function b(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==v(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(){S=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function c(e,t,r,o){var a=t&&t.prototype instanceof h?t:h,s=Object.create(a.prototype),i=new L(o||[]);return n(s,"_invoke",{value:N(e,r,i)}),s}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var g="suspendedStart",p="suspendedYield",f="executing",y="completed",m={};function h(){}function b(){}function w(){}var M={};l(M,s,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(B([])));C&&C!==r&&o.call(C,s)&&(M=C);var k=w.prototype=h.prototype=Object.create(M);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function r(n,a,s,i){var u=d(e[n],e,a);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==v(c)&&o.call(c,"__await")?t.resolve(c.__await).then((function(e){r("next",e,s,i)}),(function(e){r("throw",e,s,i)})):t.resolve(c).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,i)}))}i(u.arg)}var a;n(this,"_invoke",{value:function(e,o){function n(){return new t((function(t,n){r(e,o,t,n)}))}return a=a?a.then(n,n):n()}})}function N(t,r,o){var n=g;return function(a,s){if(n===f)throw new Error("Generator is already running");if(n===y){if("throw"===a)throw s;return{value:e,done:!0}}for(o.method=a,o.arg=s;;){var i=o.delegate;if(i){var u=T(i,o);if(u){if(u===m)continue;return u}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(n===g)throw n=y,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);n=f;var l=d(t,r,o);if("normal"===l.type){if(n=o.done?y:p,l.arg===m)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(n=y,o.method="throw",o.arg=l.arg)}}}function T(t,r){var o=r.method,n=t.iterator[o];if(n===e)return r.delegate=null,"throw"===o&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+o+"' method")),m;var a=d(n,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var s=a.arg;return s?s.done?(r[t.resultName]=s.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):s:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function B(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(v(t)+" is not iterable")}return b.prototype=w,n(k,"constructor",{value:w,configurable:!0}),n(w,"constructor",{value:b,configurable:!0}),b.displayName=l(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},x(I.prototype),l(I.prototype,i,(function(){return this})),t.AsyncIterator=I,t.async=function(e,r,o,n,a){void 0===a&&(a=Promise);var s=new I(c(e,r,o,n),a);return t.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},x(k),l(k,u,"Generator"),l(k,s,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var o in t)r.push(o);return r.reverse(),function e(){for(;r.length;){var o=r.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=B,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(o,n){return i.type="throw",i.arg=t,r.next=o,n&&(r.method="next",r.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],i=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var u=o.call(s,"catchLoc"),l=o.call(s,"finallyLoc");if(u&&l){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;j(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,o){return this.delegate={iterator:B(t),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),m}},t}function w(e,t,r,o,n,a,s){try{var i=e[a](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(o,n)}function M(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var a=e.apply(t,r);function s(e){w(a,o,n,s,i,"next",e)}function i(e){w(a,o,n,s,i,"throw",e)}s(void 0)}))}}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var E,C,k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},x=(0,a.defineMessages)({title:{id:"VwWGjG",defaultMessage:[{type:0,value:"Confirm on phone"}]},description:{id:"In3vOT",defaultMessage:[{type:0,value:"Open Coinbase Wallet on your phone to confirm this transaction."}]},retry:{id:"jvhzSF",defaultMessage:[{type:0,value:"Resend notification"}]},dontSeeNotification:{id:"epKk4O",defaultMessage:[{type:0,value:"Don't see the notification?"}]}});function I(){var e=(0,i.useHistory)(),t=(0,s.Z)().formatMessage,r=(0,g.useStepper)(p.stepper),o=r.goBack,a=r.hasPreviousStep,v=(0,f.useChainDetails)(),w=(0,u.usePhoneConfirmationStepBackButton)({chainDetails:v,source:u.Source.EXTENSION}),E=(0,u.usePhoneConfirmationStepRetry)({chainDetails:v,source:u.Source.EXTENSION});(0,u.usePhoneConfirmationStepViewed)({chainDetails:v,source:u.Source.EXTENSION});var C=(0,n.useRef)(!1),k=(0,n.useCallback)((function(){w(),a?o():e.goBack()}),[a,o,e,w]),I=(0,y.k)(),N=I.signAndSubmitViaWalletlink,T=I.errorStateProps,A=(0,n.useCallback)(M(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(),e.next=3,N();case 3:case"end":return e.stop()}}),e)}))),[N,E]);(0,l.useOnMount)((function(){T||N()}));var j=(0,n.useMemo)((function(){return{label:t(x.retry),onClick:(e=M(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C.current=!0,e.next=3,A();case 3:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})};var e}),[t,A]);return T&&!C.current?(0,m.jsx)(c.T,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},T)):(0,m.jsx)(d.n,{title:t(x.title),description:t(x.description),onDismiss:k,secondaryActionLabel:t(x.dontSeeNotification),retryAction:j})}k(I,"useHistory{history}\nuseIntl{{ formatMessage }}\nuseStepper{{ goBack, hasPreviousStep }}\nuseChainDetails{chainDetails}\nusePhoneConfirmationStepBackButton{triggerAnalyticsBackButton}\nusePhoneConfirmationStepRetry{triggerAnalyticsRetry}\nusePhoneConfirmationStepViewed{}\nuseRef{isUserCancelled}\nuseCallback{onDismiss}\nuseSignAndSubmitViaWalletlink{{ signAndSubmitViaWalletlink, errorStateProps }}\nuseCallback{retryAction}\nuseOnMount{}\nuseMemo{retryActionProps}",(function(){return[i.useHistory,s.Z,g.useStepper,f.useChainDetails,u.usePhoneConfirmationStepBackButton,u.usePhoneConfirmationStepRetry,u.usePhoneConfirmationStepViewed,y.k,l.useOnMount]})),(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(E.register(x,"messages","/workspaces/apps/extension/src/screens/Bridge/steps/PhoneConfirmationStep/PhoneConfirmationStep.tsx"),E.register(I,"PhoneConfirmationStep","/workspaces/apps/extension/src/screens/Bridge/steps/PhoneConfirmationStep/PhoneConfirmationStep.tsx")),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&C(e)},844399:(e,t,r)=>{r.d(t,{R:()=>y});var o,n=r(202784),a=r(239398),s=r(783112),i=r(48972),u=r(661641),l=r(552322);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var c,d,g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},p=(0,a.defineMessages)({learnMoreMessage:{id:"zClqkq",defaultMessage:[{type:0,value:"Not sure? Learn the difference between Ethereum, Polygon, and other networks in our help center."}]},learnMore:{id:"o0ymWu",defaultMessage:[{type:0,value:"Learn more"}]}}),f="https://www.coinbase.com/wallet/getting-started-extension";function y(){var e=(0,s.Z)().formatMessage,t=(0,n.useCallback)((function(){chrome.tabs.create({url:f,active:!1})}),[]);return(0,l.jsx)(i.VStack,{spacingHorizontal:3,spacingBottom:3,children:(0,l.jsxs)(u.TextLabel2,{as:"span",spacingTop:2,spacingHorizontal:2,color:"foregroundMuted",children:[e(p.learnMoreMessage)," ",(0,l.jsx)(u.Link,{testID:"bridge-select-network-learn-more",to:f,onPress:t,children:e(p.learnMore)})]})})}g(y,"useIntl{{ formatMessage }}\nuseCallback{onLearnMorePress}",(function(){return[s.Z]})),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(p,"messages","/workspaces/apps/extension/src/screens/Bridge/steps/SelectNetworkStep/LearnMoreSection.tsx"),c.register(f,"LEARN_MORE_LINK","/workspaces/apps/extension/src/screens/Bridge/steps/SelectNetworkStep/LearnMoreSection.tsx"),c.register(y,"LearnMoreSection","/workspaces/apps/extension/src/screens/Bridge/steps/SelectNetworkStep/LearnMoreSection.tsx")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)},782272:(e,t,r)=>{r.d(t,{M:()=>T});var o,n=r(202784),a=r(239398),s=r(783112),i=r(98660),u=r(478975),l=r(672603),c=r(230438),d=r(352871),g=r(790424),p=r(744320),f=r(735103),y=r(95898),m=r(993199),v=r(720249),h=r(844399),b=r(552322);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==S(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===S(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var C,k,x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},I=(0,a.defineMessages)({title:{id:"yGY9eN",defaultMessage:[{type:0,value:"Select network"}]}});function N(e){var t,r=e.selectionMode,o=(0,s.Z)().formatMessage,a=(0,y.Z)(m.form),S=a.sourceNetwork,w=a.targetNetwork,M=a.targetAssetId,E=a.sourceWalletId,C=a.shouldUpdateCryptoAmount,k="source"===r,x=k?S:w,N=(0,v.useChainDetails)(),T=(0,i.useNetworkSwitcherClose)({chainDetails:N,source:i.Source.EXTENSION}),A=(0,i.useNetworkSwitcherToggleNetwork)({chainDetails:N,source:i.Source.EXTENSION}),j=(0,i.useNetworkSwitcherToggleNetworkError)({chainDetails:N,source:i.Source.EXTENSION}),L=(0,c.useActiveWalletGroupId)(),B=(0,l.useSupportedChainsWithBalance)(L,k||null===(t=S.value.asChain())||void 0===t?void 0:t.chainId.toString()),D=(0,n.useCallback)((function(e){var t,r,o;return null!==(t=u.DEFAULT_TARGET_NETWORK_MAP[null!==(r=null===(o=e.asChain())||void 0===o?void 0:o.chainId.toString())&&void 0!==r?r:""])&&void 0!==t?t:u.ETH_NETWORK}),[]),G=(0,f.useStepper)(m.stepper).goBack,P=(0,n.useCallback)((function(){T(),G()}),[G,T]),O=(0,n.useCallback)((function(e){var t,o=null===(t=x.value)||void 0===t?void 0:t.asChain(),n=null==e?void 0:e.asChain(),a={previousChainId:null==o?void 0:o.chainId,nextChainId:null==n?void 0:n.chainId};e?("source"===r&&(S.onChange(e),w.onChange(D(e))),"target"===r&&w.onChange(e),A(a),E.onChange(""),M.onChange(""),C.onChange(!0),G()):j(a)}),[r,E,M,G,S,w,D,x.value,j,A,C]);return(0,b.jsx)(g.lL,{header:(0,b.jsx)(d.l2,{variant:"secondary",handleBack:P,title:o(I.title)}),height:"100%",children:(0,b.jsx)(p.R,{networks:B,selectedNetwork:x.value,onItemSelected:O,learnMoreSection:(0,b.jsx)(h.R,{}),selectionMode:r})})}function T(e){return(0,b.jsx)(n.Suspense,{fallback:null,children:(0,b.jsx)(N,M({},e))})}x(N,"useIntl{{ formatMessage }}\nuseFields{{ sourceNetwork, targetNetwork, targetAssetId, sourceWalletId, shouldUpdateCryptoAmount }}\nuseChainDetails{chainDetails}\nuseNetworkSwitcherClose{triggerAnalyticsClose}\nuseNetworkSwitcherToggleNetwork{triggerAnalyticsToggle}\nuseNetworkSwitcherToggleNetworkError{triggerAnalyticsToggleError}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseSupportedChainsWithBalance{networksWithBalance}\nuseCallback{getDefaultTargetNetwork}\nuseStepper{{ goBack }}\nuseCallback{onGoBack}\nuseCallback{onItemSelected}",(function(){return[s.Z,y.Z,v.useChainDetails,i.useNetworkSwitcherClose,i.useNetworkSwitcherToggleNetwork,i.useNetworkSwitcherToggleNetworkError,c.useActiveWalletGroupId,l.useSupportedChainsWithBalance,f.useStepper]})),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(C.register(I,"messages","/workspaces/apps/extension/src/screens/Bridge/steps/SelectNetworkStep/SelectNetworkStep.tsx"),C.register(N,"SelectNetworkStepContent","/workspaces/apps/extension/src/screens/Bridge/steps/SelectNetworkStep/SelectNetworkStep.tsx"),C.register(T,"SelectNetworkStep","/workspaces/apps/extension/src/screens/Bridge/steps/SelectNetworkStep/SelectNetworkStep.tsx")),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&k(e)},78727:(e,t,r)=>{r.d(t,{X:()=>C});var o,n=r(202784),a=r(239398),s=r(783112),i=r(478975),u=r(334291),l=r.n(u),c=r(446048),d=r(124273),g=r(735103),p=r(95898),f=r(960723),y=r(48972),m=r(661641),v=r(993199),h=r(853097),b=r(552322);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var S,w,M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},E=(0,a.defineMessages)({title:{id:"TWrltV",defaultMessage:[{type:0,value:"Select the networks you\u2019d like to bridge between"}]},description:{id:"cRJCkU",defaultMessage:[{type:0,value:"Bridging lets you move crypto to another blockchain network, such as Ethereum to Polygon."}]},learnMore:{id:"SquKcG",defaultMessage:[{type:0,value:"Learn more"}]},confirm:{id:"dbvj8p",defaultMessage:[{type:0,value:"Confirm"}]},from:{id:"uqOgaL",defaultMessage:[{type:0,value:"From"}]},to:{id:"Z7yAmS",defaultMessage:[{type:0,value:"To"}]},chooseNetwork:{id:"gsK+ID",defaultMessage:[{type:0,value:"Choose a network"}]}});function C(){var e=(0,s.Z)().formatMessage,t=(0,g.useStepper)(v.stepper).goToStep,r=(0,p.Z)(v.form),o=r.sourceNetwork,a=r.targetNetwork,u=r.shouldUpdateCryptoAmount,S=(0,n.useCallback)((function(){t("entry")}),[t]),w=(0,n.useCallback)((function(){chrome.tabs.create({url:i.BRIDGE_LEARN_MORE_LINK,active:!1})}),[]),M=(0,n.useCallback)((function(){t("selectSourceNetwork")}),[t]),C=(0,n.useCallback)((function(){t("selectTargetNetwork")}),[t]),k=(0,n.useCallback)((function(){if(a.value&&o.value){var e=o.value;o.onChange(a.value),a.onChange(e),u.onChange(!0)}}),[o,a,u]),x=(0,n.useMemo)((function(){var t,r;return{primaryLabel:e(E.from),secondaryLabel:null===(t=o.value.asChain())||void 0===t?void 0:t.displayName,image:null===(r=o.value.asChain())||void 0===r?void 0:r.chainImageUrl,onPress:M,dataElementHandle:"bridge-source-network-selector",icon:(0,b.jsx)(d.d,{network:o.value,size:"medium"})}}),[e,M,o.value]),I=(0,n.useMemo)((function(){var t,r;return a.value?{primaryLabel:e(E.to),secondaryLabel:null===(t=a.value.asChain())||void 0===t?void 0:t.displayName,image:null===(r=a.value.asChain())||void 0===r?void 0:r.chainImageUrl,onPress:C,dataElementHandle:"bridge-target-network-selector",icon:(0,b.jsx)(d.d,{network:a.value,size:"medium"})}:{primaryLabel:e(E.to),secondaryLabel:e(E.chooseNetwork),onPress:C,dataElementHandle:"bridge-target-network-selector"}}),[e,C,a.value]);return(0,b.jsxs)(y.VStack,{height:"100%",justifyContent:"space-between",children:[(0,b.jsx)(c.w,{onBack:S}),(0,b.jsxs)(y.VStack,{spacingHorizontal:3,gap:1,height:"100%",children:[(0,b.jsx)(m.TextTitle3,{as:"p",align:"start",testID:"bridge-select-network-title",children:e(E.title)}),(0,b.jsxs)(m.TextBody,{as:"p",align:"start",color:"foregroundMuted",testID:"bridge-select-network-description",children:[e(E.description)," ",(0,b.jsx)(m.Link,{testID:"bridge-select-network-learn-more",onPress:w,children:(0,b.jsx)(m.TextBody,{as:"p",align:"start",color:"primary",children:e(E.learnMore)})})]})]}),(0,b.jsxs)(y.VStack,{spacing:3,children:[(0,b.jsx)(h.rb,{onClickSwitcher:o.value&&a.value?k:l(),row1:x,row2:I}),(0,b.jsx)(y.Spacer,{vertical:2}),(0,b.jsx)(f.Button,{block:!0,variant:"primary",onPress:S,children:e(E.confirm)})]})]})}M(C,"useIntl{{ formatMessage }}\nuseStepper{{ goToStep }}\nuseFields{{ sourceNetwork, targetNetwork, shouldUpdateCryptoAmount }}\nuseCallback{handleGoToEntry}\nuseCallback{handleLearnMorePress}\nuseCallback{handleSourceNetworkSelected}\nuseCallback{handleTargetNetworkSelected}\nuseCallback{swapNetworks}\nuseMemo{row1Props: EntrySelectorRow}\nuseMemo{row2Props: EntrySelectorRow}",(function(){return[s.Z,g.useStepper,p.Z]})),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(S.register(E,"messages","/workspaces/apps/extension/src/screens/Bridge/steps/SelectNetworksInterstitialStep/SelectNetworksInterstitialStep.tsx"),S.register(C,"SelectNetworkInterstitialStep","/workspaces/apps/extension/src/screens/Bridge/steps/SelectNetworksInterstitialStep/SelectNetworksInterstitialStep.tsx")),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&w(e)},430124:(e,t,r)=>{r.d(t,{U:()=>h});var o,n,a,s=r(202784),i=r(98660),u=r(812341),l=r(301043),c=r(230438),d=r(373881),g=r(735103),p=r(95898),f=r(381445),y=r(993199),m=r(720249),v=r(552322);function h(){var e=(0,g.useStepper)(y.stepper),t=e.goBack,r=e.goToStep,o=(0,p.Z)(y.form),n=o.sourceWalletId,a=o.targetAssetId,h=o.sourceNetwork,b=o.targetNetwork,S=o.shouldUpdateCryptoAmount,w=(0,c.useActiveWalletGroupId)(),M=(0,u.useBridgeableWallets)(w,h.value,b.value),E=(0,m.useChainDetails)(),C=(0,i.useSelectSourceAsset)({chainDetails:E,source:i.Source.EXTENSION}),k=(0,l.useIsBridgeRedesignEligible)(),x=(0,s.useCallback)((function(e){e instanceof d.Wallet&&void 0!==e.balance&&e.balance>0n&&(n.onChange(e.id),n.value!==e.id&&(a.onChange(""),S.onChange(!0)),C({selectedAssetId:e.id}),r(k?"entryV2":"entry"))}),[n,C,r,k,a,S]);return(0,v.jsx)(f.i,{testIdPrefix:"bridge-from",wallets:M,onBack:t,onSelect:x,network:h.value,targetAssetId:a.value,context:f.g.Bridge})}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(h,"useStepper{{ goBack, goToStep }}\nuseFields{{ sourceWalletId, targetAssetId, sourceNetwork, targetNetwork, shouldUpdateCryptoAmount }}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseBridgeableWallets{wallets}\nuseChainDetails{chainDetails}\nuseSelectSourceAsset{triggerAnalyticsSelectSourceWallet}\nuseIsBridgeRedesignEligible{isBridgeRedesignEligible}\nuseCallback{handleSelect}",(function(){return[g.useStepper,p.Z,c.useActiveWalletGroupId,u.useBridgeableWallets,m.useChainDetails,i.useSelectSourceAsset,l.useIsBridgeRedesignEligible]})),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(h,"SelectSourceWalletStep","/workspaces/apps/extension/src/screens/Bridge/steps/SelectSourceWalletStep/SelectSourceWalletStep.tsx"),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)},805866:(e,t,r)=>{r.d(t,{R:()=>T});var o,n=r(202784),a=r(239398),s=r(783112),i=r(497814),u=r(98597),l=r(254073),c=r.n(l),d=r(388758),g=r(446048),p=r(384818),f=r(145753),y=r(61517),m=r(735103),v=r(95898),h=r(48972),b=r(246383),S=r(993199),w=r(182955),M=r(552322);function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,a,s,i=[],u=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(o=a.call(r)).done)&&(i.push(o.value),i.length!==t);u=!0);}catch(e){l=!0,n=e}finally{try{if(!u&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw n}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var k,x,I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},N=(0,a.defineMessages)({title:{id:"TblYqV",defaultMessage:[{type:0,value:"Bridge to"}]}});function T(){var e=(0,m.useStepper)(S.stepper),t=e.goBack,r=e.goToStep,o=(0,m.useStepper)(w.stepper).replaceStep,a=(0,s.Z)().formatMessage,l=(0,v.Z)(S.form),C=l.targetAssetId,k=l.targetNetwork,x=l.sourceWalletId,I=E((0,n.useState)(""),2),T=I[0],A=I[1],j=E((0,n.useState)(""),2),L=j[0],B=j[1],D=(0,n.useCallback)(c()((function(e){return B(e)}),300),[]),G=(0,n.useCallback)((function(){o("selectNetwork")}),[o]),P=(0,n.useCallback)((function(e){A(e),D(e)}),[D]),O=(0,b.f)({assets:new Map,query:L}),H=(0,n.useCallback)((function(e){return function(){C.onChange(e.id),r("entry")}}),[r,C]),z=(0,n.useCallback)((function(e){var t=e.key,r=e.index,o=e.style;return(0,M.jsx)("div",{style:o,children:(0,M.jsx)(d.p,{onSelect:H(new u.BridgeAsset({})),asset:O[r],disabled:x.value===O[r].swapId,testID:"dex-to-asset-item-".concat(O[r].currencyCode.rawValue)})},t)}),[O,H,x]);return(0,M.jsxs)(h.VStack,{height:y.UV,children:[(0,M.jsx)(g.w,{onBack:t,title:a(N.title)}),(0,M.jsx)(p.Q,{network:k.value,onClick:G,disableNetworkChange:!0}),(0,M.jsx)(h.Spacer,{vertical:2}),(0,M.jsx)(f.G,{query:T,onChange:P}),(0,M.jsx)(i.aV,{rowCount:O.length,width:370,height:425,rowHeight:80,rowRenderer:z,overscanRowCount:20})]})}I(T,"useStepper{{ goBack, goToStep }}\nuseStepper{{ replaceStep }}\nuseIntl{{ formatMessage }}\nuseFields{{ targetAssetId, targetNetwork, sourceWalletId }}\nuseState{[searchBarText, setSearchBarText]('')}\nuseState{[debouncedQuery, setDebouncedQuery]('')}\nuseCallback{debounceQuery}\nuseCallback{handleNetworkSelectionClick}\nuseCallback{handleSearchChange}\nuseAssetSearch{filteredAssets}\nuseCallback{getHandleSelect}\nuseCallback{rowRenderer}",(function(){return[m.useStepper,m.useStepper,s.Z,v.Z,b.f]})),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(k.register(N,"messages","/workspaces/apps/extension/src/screens/Bridge/steps/SelectTargetAssetStep/SelectTargetAssetStep.tsx"),k.register(T,"SelectTargetAssetStep","/workspaces/apps/extension/src/screens/Bridge/steps/SelectTargetAssetStep/SelectTargetAssetStep.tsx")),(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&x(e)},569290:(e,t,r)=>{r.d(t,{_:()=>L});var o,n=r(202784),a=r(239398),s=r(783112),i=r(107267),u=r(98660),l=r(656695),c=r(572133),d=r(976974),g=r(613958),p=r(335184),f=r(40217),y=r(735103),m=r(95898),v=r(186387),h=r(488869),b=r(993199),S=r(720249),w=r(252844),M=r(552322);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==E(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===E(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var I,N,T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},A=(0,a.defineMessages)({title:{id:"J2HdMc",defaultMessage:[{type:0,value:"You're bridging "},{type:1,value:"formattedSourceAmounts"},{type:0,value:" from the "},{type:1,value:"sourceNetwork"},{type:0,value:" network to the "},{type:1,value:"targetNetwork"},{type:0,value:" network"}]},timeEstimation:{id:"ULdgS0",defaultMessage:[{type:0,value:"This may take over "},{type:1,value:"serviceTimeMinutes"},{type:0,value:" minutes"}]},done:{id:"r5qei9",defaultMessage:[{type:0,value:"Done"}]},viewTransactions:{id:"7gEbQd",defaultMessage:[{type:0,value:"View transactions"}]}}),j=60;function L(){var e,t,r=(0,s.Z)().formatMessage,o=(0,i.useHistory)(),a=(0,h.useLaunchSprig)(),E=(0,S.useChainDetails)(),C=(0,m.Z)(b.form),x=C.cryptoAmount,I=C.sourceWalletId,N=C.targetAssetId,T=C.ledgerBridgeError,L=C.bridgeTxData.value,B=(0,u.useStatusStepViewed)({chainDetails:E,source:u.Source.EXTENSION}),D=(0,y.useStepper)(b.stepper).goBack,G=(0,f.useExtensionPerfMark)((0,d.toExtensionName)(d.PERF_MARKS.bridge),d.BRIDGE_MARKS.trigger_bridge,{logMetric:!0}).end;if((0,n.useEffect)((function(){!T.value&&L&&G()}),[L,G,T]),!L)throw new Error("bridgeTxData was missing in StatusStep");var P=(0,c.useFormatBridgeAmounts)(L),O=P.sourceFiatAmount,H=P.sourceCryptoAmount,z=P.targetFiatAmount,F=P.targetCryptoAmount;(0,l.useOnMount)((function(){return B({cryptoAmount:x.value.toString(),sourceWalletId:I.value,targetAssetId:N.value,sourceFiatAmount:O,sourceCryptoAmount:H,targetFiatAmount:z,targetCryptoAmount:F}),function(){T.value&&(null==T||T.onChange(void 0)),a("bridgeSuccess")}}));var R=(0,n.useMemo)((function(){var e=O?"(".concat(O,")"):"";return"".concat(H," ").concat(e)}),[H,O]),W=(0,n.useMemo)((function(){var e=z?"(".concat(z,")"):"";return"".concat(F," ").concat(e)}),[F,z]),_=(0,n.useCallback)((function(){o.replace("/portfolio")}),[o]),Y=(0,n.useCallback)((function(){o.replace("/transactions")}),[o]),V=(0,n.useMemo)((function(){return L.quote.serviceTime/j}),[L.quote.serviceTime]),Z=(0,n.useMemo)((function(){return{key:"done-button",name:"doneButton",onPress:_,loading:!1,variant:"primary",block:!0,children:r(A.done)}}),[r,_]),U=(0,n.useMemo)((function(){return{key:"view-transactions-button",name:"viewTransactionsButton",onPress:Y,loading:!1,testID:"bridge-status-view-transactions-button",variant:"secondary",block:!0,children:r(A.viewTransactions)}}),[r,Y]);if(T.value){var Q,X,q,K=T.value;return(0,M.jsx)(g.n,k(k({spacing:2,elevation:1},w.ng),{},{children:(0,M.jsx)(v.N,{handleBack:D,statusCode:null!==(Q=K.statusCode)&&void 0!==Q?Q:void 0,errorId:null!==(X=K.id)&&void 0!==X?X:void 0,errorMessage:null!==(q=K.message)&&void 0!==q?q:void 0})}))}return(0,M.jsx)(p.L,{status:p.q.PENDING,title:r(A.title,{formattedSourceAmounts:R,sourceNetwork:null===(e=L.quote.fromAsset.network.asChain())||void 0===e?void 0:e.displayName,targetNetwork:null===(t=L.quote.toAsset.network.asChain())||void 0===t?void 0:t.displayName}),subtitle:W,timeEstimation:r(A.timeEstimation,{serviceTimeMinutes:V}),primaryButtonProps:Z,secondaryButtonProps:U})}T(L,"useIntl{{ formatMessage }}\nuseHistory{history}\nuseLaunchSprig{launchSprig}\nuseChainDetails{chainDetails}\nuseFields{{\n    cryptoAmount,\n    sourceWalletId,\n    targetAssetId,\n    ledgerBridgeError,\n    bridgeTxData: { value: bridgeTxData },\n  }}\nuseStatusStepViewed{triggerAnalyticsStatusViewed}\nuseStepper{{ goBack: goBackOneStep }}\nuseExtensionPerfMark{{ end: markEndBridgePerf }}\nuseEffect{}\nuseFormatBridgeAmounts{{ sourceFiatAmount, sourceCryptoAmount, targetFiatAmount, targetCryptoAmount }}\nuseOnMount{}\nuseMemo{formattedSourceAmounts}\nuseMemo{formattedTargetAmounts}\nuseCallback{goToPortfolio}\nuseCallback{goToTransactions}\nuseMemo{serviceTimeMinutes}\nuseMemo{primaryButtonProps: ButtonProps}\nuseMemo{secondaryButtonProps: ButtonProps}",(function(){return[s.Z,i.useHistory,h.useLaunchSprig,S.useChainDetails,m.Z,u.useStatusStepViewed,y.useStepper,f.useExtensionPerfMark,c.useFormatBridgeAmounts,l.useOnMount]})),(I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(I.register(A,"messages","/workspaces/apps/extension/src/screens/Bridge/steps/StatusStep/StatusStep.tsx"),I.register(j,"MINUTE_IN_SECONDS","/workspaces/apps/extension/src/screens/Bridge/steps/StatusStep/StatusStep.tsx"),I.register(L,"StatusStep","/workspaces/apps/extension/src/screens/Bridge/steps/StatusStep/StatusStep.tsx")),(N="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&N(e)},899090:(e,t,r)=>{r.d(t,{A:()=>k});var o,n=r(202784),a=r(239398),s=r(783112),i=r(107267),u=r(98660),l=r(478975),c=r(352871),d=r(790424),g=r(323620),p=r(355853),f=r(960723),y=r(48972),m=r(661641),v=r(183221),h=r(993199),b=r(720249),S=r(552322);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var w,M,E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},C=(0,a.defineMessages)({title:{id:"hIGKb1",defaultMessage:[{type:0,value:"You can now move crypto between blockchains"}]},description:{id:"cRJCkU",defaultMessage:[{type:0,value:"Bridging lets you move crypto to another blockchain network, such as Ethereum to Polygon."}]},learnMore:{id:"SquKcG",defaultMessage:[{type:0,value:"Learn more"}]},continue:{id:"x4JnUe",defaultMessage:[{type:0,value:"Continue"}]}});function k(){var e=(0,s.Z)().formatMessage,t=(0,i.useHistory)().goBack,r=(0,p.default)(h.stepper).goToStep,o=(0,b.useChainDetails)(),a=(0,u.useWelcomeStepBridgeCancel)({chainDetails:o,source:u.Source.EXTENSION}),w=(0,u.useWelcomeStepBridgeContinue)({chainDetails:o,source:u.Source.EXTENSION});(0,u.useWelcomeStepViewed)({chainDetails:o,source:u.Source.EXTENSION});var M=(0,n.useCallback)((function(){a(),t()}),[t,a]),E=(0,n.useCallback)((function(){w(),localStorage.setItem(v.BRIDGE_WELCOME_STEP_VIEWED_LOCAL_STORAGE_KEY,"true"),r("entry")}),[r,w]),k=(0,n.useCallback)((function(){chrome.tabs.create({url:l.BRIDGE_LEARN_MORE_LINK,active:!1})}),[]);return(0,S.jsxs)(d.lL,{header:(0,S.jsx)(c.l2,{handleBack:M}),height:"100%",children:[(0,S.jsxs)(y.VStack,{flexGrow:1,spacing:4,children:[(0,S.jsx)(y.Box,{justifyContent:"center",width:"100%",spacingBottom:2,children:(0,S.jsx)(g.d,{alt:e(C.title)})}),(0,S.jsx)(m.TextTitle3,{as:"p",align:"center",testID:"bridge-welcome-title",children:e(C.title)}),(0,S.jsx)(y.Spacer,{vertical:2}),(0,S.jsxs)(m.TextBody,{as:"p",align:"center",color:"foregroundMuted",testID:"bridge-welcome-description",children:[e(C.description)," ",(0,S.jsx)(m.Link,{testID:"bridge-select-network-learn-more",onPress:k,children:e(C.learnMore)})]})]}),(0,S.jsx)(y.Box,{spacingHorizontal:3,spacingBottom:3,children:(0,S.jsx)(f.Button,{block:!0,variant:"primary",onPress:E,testID:"bridge-welcome-continue-button",children:e(C.continue)})})]})}E(k,"useIntl{{ formatMessage }}\nuseHistory{{ goBack }}\nuseStepper{{ goToStep }}\nuseChainDetails{chainDetails}\nuseWelcomeStepBridgeCancel{triggerAnalyticsBackButton}\nuseWelcomeStepBridgeContinue{triggerAnalyticsContinue}\nuseWelcomeStepViewed{}\nuseCallback{handleGoBack}\nuseCallback{handleContinue}\nuseCallback{handleLearnMorePress}",(function(){return[s.Z,i.useHistory,p.default,b.useChainDetails,u.useWelcomeStepBridgeCancel,u.useWelcomeStepBridgeContinue,u.useWelcomeStepViewed]})),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(w.register(C,"messages","/workspaces/apps/extension/src/screens/Bridge/steps/WelcomeStep/WelcomeStep.tsx"),w.register(k,"WelcomeStep","/workspaces/apps/extension/src/screens/Bridge/steps/WelcomeStep/WelcomeStep.tsx")),(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&M(e)},248354:(e,t,r)=>{r.d(t,{H:()=>C});var o,n=r(202784),a=r(239398),s=r(783112),i=r(107267),u=r(98660),l=r(352871),c=r(790424),d=r(323620),g=r(355853),p=r(960723),f=r(48972),y=r(661641),m=r(183221),v=r(993199),h=r(720249),b=r(552322);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var S,w,M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},E=(0,a.defineMessages)({title:{id:"Lv2XxE",defaultMessage:[{type:0,value:"Save on transactions when you bridge to new networks"}]},description:{id:"P7llO1",defaultMessage:[{type:0,value:"When you bridge an asset, you\u2019re moving it from one blockchain network to another."},{type:1,value:"newLine"},{type:0,value:"Blockchain networks like Base, Polygon, and Optimism have fees as low as $0.01 per transaction."}]},readFAQsButton:{id:"iVEfKG",defaultMessage:[{type:0,value:"Read FAQs"}]},bridgeNowButton:{id:"fvnXCl",defaultMessage:[{type:0,value:"Bridge now"}]}});function C(){var e=(0,s.Z)().formatMessage,t=(0,i.useHistory)().goBack,r=(0,g.default)(v.stepper).goToStep,o=(0,h.useChainDetails)(),a=(0,u.useWelcomeStepBridgeCancel)({chainDetails:o,source:u.Source.EXTENSION}),S=(0,u.useWelcomeStepBridgeContinue)({chainDetails:o,source:u.Source.EXTENSION});(0,u.useWelcomeStepViewed)({chainDetails:o,source:u.Source.EXTENSION});var w=(0,n.useCallback)((function(){a(),t()}),[t,a]),M=(0,n.useCallback)((function(){S(),localStorage.setItem(m.BRIDGE_WELCOME_STEP_VIEWED_LOCAL_STORAGE_KEY,"true"),r("entryV2")}),[r,S]),C=(0,n.useCallback)((function(){chrome.tabs.create({url:m.BRIDGE_FAQS_URL})}),[]);return(0,b.jsxs)(c.lL,{header:(0,b.jsx)(l.l2,{handleBack:w}),height:"100%",children:[(0,b.jsxs)(f.VStack,{flexGrow:1,spacing:3,children:[(0,b.jsx)(f.Box,{justifyContent:"center",width:"100%",spacingBottom:2,children:(0,b.jsx)(d.d,{alt:e(E.title)})}),(0,b.jsx)(y.TextTitle3,{as:"p",align:"center",testID:"bridge-welcome-title",children:e(E.title)}),(0,b.jsx)(f.Spacer,{vertical:2}),(0,b.jsx)(y.TextBody,{as:"p",align:"center",color:"foregroundMuted",testID:"bridge-welcome-description",children:e(E.description,{newLine:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("br",{}),(0,b.jsx)("br",{})]})})})]}),(0,b.jsxs)(f.VStack,{spacingHorizontal:3,gap:1,spacingBottom:3,children:[(0,b.jsx)(p.Button,{block:!0,variant:"primary",onPress:M,testID:"bridge-welcome-continue-button",children:e(E.bridgeNowButton)}),(0,b.jsx)(p.Button,{block:!0,variant:"secondary",onPress:C,testID:"bridge-welcome-faq-button",children:e(E.readFAQsButton)})]})]})}M(C,"useIntl{{ formatMessage }}\nuseHistory{{ goBack }}\nuseStepper{{ goToStep }}\nuseChainDetails{chainDetails}\nuseWelcomeStepBridgeCancel{triggerAnalyticsBackButton}\nuseWelcomeStepBridgeContinue{triggerAnalyticsContinue}\nuseWelcomeStepViewed{}\nuseCallback{handleGoBack}\nuseCallback{handleContinue}\nuseCallback{handleFAQPress}",(function(){return[s.Z,i.useHistory,g.default,h.useChainDetails,u.useWelcomeStepBridgeCancel,u.useWelcomeStepBridgeContinue,u.useWelcomeStepViewed]})),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(S.register(E,"messages","/workspaces/apps/extension/src/screens/Bridge/steps/WelcomeStep/WelcomeStepV2.tsx"),S.register(C,"WelcomeStepV2","/workspaces/apps/extension/src/screens/Bridge/steps/WelcomeStep/WelcomeStepV2.tsx")),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&w(e)},433027:(e,t,r)=>{r.d(t,{w:()=>M});var o,n=r(202784),a=r(239398),s=r(783112),i=r(587952),u=r(446101),l=r(306915),c=r(759301),d=r(101620),g=r(978857),p=r(524801),f=r(886855),y=r(158856),m=r(218705),v=r(395545);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var h,b,S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},w=(0,a.defineMessages)({notEnoughBalanceForMinerFeeMessage:{id:"IZUdH3",defaultMessage:[{type:0,value:"You have "},{type:1,value:"fiatTotalAvailableBalance"},{type:0,value:" in "},{type:1,value:"cryptoSymbol"},{type:0,value:", but you need a total of "},{type:1,value:"fiatTotalTransactionValue"},{type:0,value:" to proceed."}]},learnMore:{id:"9DtuSP",defaultMessage:[{type:0,value:"Learn more"}]},insufficientBalanceMessage:{id:"kKi/rC",defaultMessage:[{type:0,value:"Insufficient balance to pay gas fee"}]}});function M(e,t){var r=t.bridgeTxData,o=t.unsignedApproveTx,a=t.unsignedBridgeTx,h=(0,s.Z)().formatMessage,b=(0,d.useCurrencyFormatter)(),S=(0,g.useCalculateNetworkFees)({unsignedEthTx:a,unsignedApproveTx:o}),M=S.networkMaxFee,E=S.networkEstimatedFee,C=(0,n.useRef)(!1),k=(0,y.useWalletsForWalletGroupId)(e),x=(0,n.useMemo)((function(){return k.find((function(e){return p.CurrencyCode.isEqual(e.currencyCode,a.feeCurrencyCode)&&f.Network.isEqual(e.network,a.network)}))}),[a.feeCurrencyCode,a.network,k]),I=(0,n.useMemo)((function(){var e,t,o=null!==(e=(0,m.fromHex)(null!==(t=r.tx.value)&&void 0!==t?t:""))&&void 0!==e?e:0n,n=r.tx.from.toLowerCase()===(null==x?void 0:x.primaryAddress.toLowerCase())?o:0n;return(a instanceof c.EthereumUnsignedLegacyTx?E:M)+n}),[r.tx.from,r.tx.value,null==x?void 0:x.primaryAddress,a,E,M]),N=(0,n.useMemo)((function(){return void 0!==(null==x?void 0:x.balance)&&x.balance>=I}),[x,I]),T=(0,n.useMemo)((function(){return{notEnoughBalanceForMinerFee:{type:"notEnoughBalanceForMinerFee",isDismissible:!1,showErrorIcon:!0,message:h(w.notEnoughBalanceForMinerFeeMessage,{cryptoSymbol:a.feeCurrencyCode.code,fiatTotalAvailableBalance:void 0!==(null==x?void 0:x.balance)&&null!=x&&x.currencyCode?b.formatToFiat(x.currencyCode,x.decimals,x.balance,!1,x.contractAddress,x.network,!0,!0):"",fiatTotalTransactionValue:x?b.formatToFiat(a.feeCurrencyCode,a.feeCurrencyDecimal,I,!1,void 0,x.network):""}),analytics:{eventName:"bridge.confirmation_preview_step.not_enough_eth_balance",eventProperties:{componentType:v.ComponentType.text,action:v.ActionType.render,totalEthereumRequired:Number(I)}}}}}),[h,a.feeCurrencyCode,a.feeCurrencyDecimal,x,b,I]);return(0,n.useMemo)((function(){var e=a.network.asChain(),t=0n,r=0n;if(a instanceof l.EthereumUnsigned1559Tx?(t=BigInt(a.maxFeePerGas)/BigInt(Math.pow(10,9)),r=a.gasLimit):(t=a.gasPrice/BigInt(Math.pow(10,9)),r=a.gasLimit),!N)return C.current||(C.current=!0,(0,i.logConfirmTransactionGasPriceFailure)({blockchain:u.EthereumBlockchain.rawValue,chainName:e.displayName,chainId:e.chainId.toString(10),errorType:"InsufficientBalance",errorMessage:h(w.insufficientBalanceMessage),txSource:"bridge".toLocaleString(),gasPriceInGwei:t.toString(),gasLimit:r.toString()})),T.notEnoughBalanceForMinerFee}),[T.notEnoughBalanceForMinerFee,h,N,a])}S(M,"useIntl{{ formatMessage }}\nuseCurrencyFormatter{currencyFormatter}\nuseCalculateNetworkFees{{ networkMaxFee, networkEstimatedFee }}\nuseRef{hasDispatchedGasAnalyticsEvent}\nuseWalletsForWalletGroupId{wallets}\nuseMemo{wallet}\nuseMemo{totalEthereumRequired}\nuseMemo{hasEnoughBalance}\nuseMemo{errors: Omit<ErrorMap, 'highPriceImpact' | 'warning' | 'zeroBalanceForMinerFee'>}\nuseMemo{}",(function(){return[s.Z,d.useCurrencyFormatter,g.useCalculateNetworkFees,y.useWalletsForWalletGroupId]})),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(w,"messages","/workspaces/libs/data/stores/Bridge/hooks/useTransactionDetailErrors.tsx"),h.register(M,"useTransactionDetailErrors","/workspaces/libs/data/stores/Bridge/hooks/useTransactionDetailErrors.tsx")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},91725:(e,t,r)=>{r.d(t,{D:()=>C});var o,n=r(202784),a=r(239398),s=r(783112),i=r(108389),u=r(327242),l=r(759301),c=r(978857),d=r(656695),g=r(524801),p=r(886855),f=r(707356),y=r(160417),m=r.n(y);function v(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var b,S,w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},M=(0,a.defineMessages)({bridgeFeeLabel:{id:"vOOgKz",defaultMessage:[{type:0,value:"Bridge fee"}]},bridgeFeeTooltip:{id:"QoR1/5",defaultMessage:[{type:0,value:"This fee goes to the service moving your funds from one network to another, not Coinbase. It\u2019s included in the price above."}]},networkFeeLabel:{id:"1TgfUs",defaultMessage:[{type:0,value:"Network fee"}]},coinbaseFeeLabel:{id:"69w8Iv",defaultMessage:[{type:0,value:"Coinbase fee"}]},coinbaseFeeTooltip:{id:"lk9LqB",defaultMessage:[{type:0,value:"Coinbase doesn\u2019t charge a fee for bridging assets."}]},transactionSpeedLabel:{id:"b+2ECB",defaultMessage:[{type:0,value:"Time (est.)"}]},totalCostLabel:{id:"j9RrnG",defaultMessage:[{type:0,value:"Total cost"}]},maxFeeLabel:{id:"zoMLPL",defaultMessage:[{type:0,value:"Max: "},{type:1,value:"maxFeeEstimate"}]},contractAddressLabel:{id:"55yK3k",defaultMessage:[{type:1,value:"currencyCode"},{type:0,value:" contract"}]},contractAddressTooltip:{id:"vXyOJS",defaultMessage:[{type:0,value:"This is the smart contract address for "},{type:1,value:"currencyCode"},{type:0,value:". Please open the contract in a block explorer and verify it is the correct asset."}]},timeLabel:{id:"8eOBTQ",defaultMessage:[{type:0,value:"Time (est.)"}]},timeToolTip:{id:"EPDOgw",defaultMessage:[{type:0,value:"Bridging usually takes over 15 minutes and appears as 2 transactions, one on each network."}]},minutesText:{id:"c1upgx",defaultMessage:[{type:0,value:"> "},{type:1,value:"minutes"},{type:0,value:" minutes"}]},freeText:{id:"Ieaip6",defaultMessage:[{type:0,value:"Free"}]},networkFeeTooltip:{id:"WsveZX",defaultMessage:[{type:0,value:"The network fee (also called a gas fee) is paid separately from the transaction using ETH. It goes to network participants who process transactions, not Coinbase. It may be less than our estimate."}]}}),E=60;function C(e){var t=e.bridgeTxData,r=e.unsignedApproveTx,o=e.unsignedBridgeTx,a=e.lastUpdateTime,y=e.rowItemsAnalytics,h=e.isPageLoading,b=e.feeWalletSubdetail,S=(0,s.Z)().formatMessage,w=(0,f.useGetFiatValueOrCryptoFallback)(),C=(0,c.useCalculateNetworkFees)({unsignedApproveTx:r,unsignedEthTx:o}),k=C.networkBaseFee,x=C.networkMaxFee,I=C.networkEstimatedFee,N=o instanceof l.EthereumUnsignedLegacyTx;(0,d.useOnMount)((function(){null==y||y({networkEstimatedFee:I.toString(),networkMaxFee:x.toString(),networkBaseFee:k.toString()})}));var T=(0,n.useMemo)((function(){return w({currencyCode:new g.CurrencyCode(t.protocolFee.asset.currencyCode),amount:BigInt(t.protocolFee.amount),currencyDecimal:BigInt(t.protocolFee.asset.decimals),contractAddress:t.protocolFee.asset.address,network:p.Network.fromChainId({chainPrefix:i.ETHEREUM_PREFIX,chainId:BigInt(t.protocolFee.asset.chainId)}),error:"Could not calculate protocol fee"})}),[t.protocolFee.amount,t.protocolFee.asset.chainId,t.protocolFee.asset.currencyCode,t.protocolFee.asset.decimals,t.protocolFee.asset.address,w]),A=(0,n.useMemo)((function(){if(N)return w({currencyCode:o.feeCurrencyCode,currencyDecimal:o.feeCurrencyDecimal,network:o.network,amount:I,error:"Could not calculate estimated fee"});var e=w({currencyCode:o.feeCurrencyCode,currencyDecimal:o.feeCurrencyDecimal,network:o.network,amount:k,error:"Could not calculate base fee"}),t=w({currencyCode:o.feeCurrencyCode,currencyDecimal:o.feeCurrencyDecimal,network:o.network,amount:x,error:"Could not calculate max fee"});return"".concat(e,"-").concat(t)}),[N,w,o.feeCurrencyCode,o.feeCurrencyDecimal,o.network,k,x,I]),j=(0,n.useMemo)((function(){return N?null:b}),[N,b]),L=t.quote.toAsset,B=(0,n.useMemo)((function(){var e,t,r=null===(e=u.EthereumNetworkMap.fromChainId(L.chainId))||void 0===e?void 0:e.blockExplorerUrl;if(L.address)return{label:S(M.contractAddressLabel,{currencyCode:L.currencyCode.code}),detailText:{text:null===(t=L.address)||void 0===t?void 0:t.rawValue,blockExplorerUrl:"".concat(r,"/address/").concat(L.address.rawValue)},tooltipText:S(M.contractAddressTooltip,{currencyCode:L.currencyCode.code})}}),[S,L.address,L.chainId,L.currencyCode.code]),D=(0,n.useMemo)((function(){var e;if(null!=t&&null!==(e=t.quote)&&void 0!==e&&e.serviceTime)return S(M.minutesText,{minutes:(t.quote.serviceTime/E).toFixed(0)})}),[t.quote.serviceTime,S]);return(0,n.useMemo)((function(){return m()([].concat(v(L.address?[B]:[]),[D?{label:S(M.timeLabel),detailText:D,tooltipText:S(M.timeToolTip)}:void 0,{label:S(M.coinbaseFeeLabel),detailText:S(M.freeText),tooltipText:S(M.coinbaseFeeTooltip)},{label:S(M.bridgeFeeLabel),detailText:T,tooltipText:S(M.bridgeFeeTooltip)},{label:S(M.networkFeeLabel),detailText:A,lastUpdateTime:a,isPageLoading:h,subDetailText:j,tooltipText:S(M.networkFeeTooltip)}]))}),[L.address,B,D,S,T,A,a,h,j])}function k(e){var t=e.formatMessage;return m()([t(M.networkFeeLabel),t(M.coinbaseFeeLabel),t(M.totalCostLabel)])}w(C,"useIntl{{ formatMessage }}\nuseGetFiatValueOrCryptoFallback{getFiatValueOrCryptoFallback}\nuseCalculateNetworkFees{{ networkBaseFee, networkMaxFee, networkEstimatedFee }}\nuseOnMount{}\nuseMemo{formattedBridgeFee}\nuseMemo{formattedNetworkFeeDetailText}\nuseMemo{formattedNetworkFeeSubDetailText}\nuseMemo{formattedContractAddress}\nuseMemo{formattedTimeEstimate}\nuseMemo{}",(function(){return[s.Z,f.useGetFiatValueOrCryptoFallback,c.useCalculateNetworkFees,d.useOnMount]})),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(b.register(M,"messages","/workspaces/libs/data/stores/Bridge/hooks/useTransactionDetailRowItems.tsx"),b.register(E,"MINUTE_IN_SECONDS","/workspaces/libs/data/stores/Bridge/hooks/useTransactionDetailRowItems.tsx"),b.register(C,"useTransactionDetailRowItems","/workspaces/libs/data/stores/Bridge/hooks/useTransactionDetailRowItems.tsx"),b.register(k,"useTransactionDetailRowLabels","/workspaces/libs/data/stores/Bridge/hooks/useTransactionDetailRowItems.tsx")),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&S(e)},384818:(e,t,r)=>{r.d(t,{Q:()=>p});var o,n=r(239398),a=r(783112),s=r(48972),i=r(661641),u=r(552322);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var l,c,d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},g=(0,n.defineMessages)({label:{id:"h7s5OT",defaultMessage:[{type:0,value:"Assets on "},{type:1,value:"displayName"},{type:0,value:" "},{type:1,value:"currentChain"},{type:0,value:"."}]},changeNetwork:{id:"Zv2iUL",defaultMessage:[{type:0,value:"Change network"}]},mainnet:{id:"+cFBPN",defaultMessage:[{type:0,value:"Mainnet"}]},testnet:{id:"uSA5bo",defaultMessage:[{type:0,value:"Testnet"}]}});function p(e){var t=e.network,r=e.onClick,o=e.disableNetworkChange,n=(0,a.Z)().formatMessage;if(!t)return null;var l=t.asChain();return(0,u.jsxs)(s.HStack,{spacingHorizontal:3,testID:"network-selection-text",width:"100%",alignItems:"center",justifyContent:"center",children:[(0,u.jsx)(i.TextLabel2,{as:"p",color:"foregroundMuted",spacingEnd:1,children:n(g.label,{displayName:null==l?void 0:l.displayName,currentChain:n(null!=l&&l.isTestnet?g.testnet:g.mainnet)})}),!o&&(0,u.jsx)(i.Link,{variant:"label2",onClick:r,children:n(g.changeNetwork)})]})}d(p,"useIntl{{ formatMessage }}",(function(){return[a.Z]})),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(g,"messages","/workspaces/libs/wallet-cds-extension/components/NetworkSelectionText.tsx"),l.register(p,"NetworkSelectionText","/workspaces/libs/wallet-cds-extension/components/NetworkSelectionText.tsx")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},156374:(e,t,r)=>{r.d(t,{G:()=>y});var o,n=r(202784),a=r(239398),s=r(783112),i=r(960723),u=r(552322);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var l,c,d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},g=(0,a.defineMessages)({maxButton:{id:"Pm9NLv",defaultMessage:[{type:0,value:"Max"}]}}),p="25%",f="50%";function y(e){var t=e.onPressMaxButton,r=e.onPressPercentageButton,o=(0,s.Z)().formatMessage,a=(0,n.useCallback)((function(e){return function(){r(e)}}),[r]);return(0,u.jsxs)(i.ButtonGroup,{accessibilityLabel:"Percentage buttons",block:!0,children:[(0,u.jsx)(i.Button,{compact:!0,variant:"secondary",onPress:a(.25),testID:"percentage-button-twenty-five-percent",children:p}),(0,u.jsx)(i.Button,{compact:!0,variant:"secondary",onPress:a(.5),testID:"percentage-button-fifty-percent",children:f}),(0,u.jsx)(i.Button,{compact:!0,variant:"secondary",onPress:t,testID:"percentage-button-max",children:o(g.maxButton)})]})}d(y,"useIntl{{ formatMessage }}\nuseCallback{handlePressPercentageButton}",(function(){return[s.Z]})),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(g,"messages","/workspaces/libs/wallet-cds-extension/components/PercentageButtons/PercentageButtons.tsx"),l.register(p,"TWENTY_FIVE_PERCENT","/workspaces/libs/wallet-cds-extension/components/PercentageButtons/PercentageButtons.tsx"),l.register(f,"FIFTY_PERCENT","/workspaces/libs/wallet-cds-extension/components/PercentageButtons/PercentageButtons.tsx"),l.register(y,"PercentageButtons","/workspaces/libs/wallet-cds-extension/components/PercentageButtons/PercentageButtons.tsx")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},744320:(e,t,r)=>{r.d(t,{R:()=>y});var o,n=r(202784),a=r(497814),s=r(886855),i=r(952180),u=r(48972),l=r(609957),c=r(552322);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var d,g,p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},f=60;function y(e){var t=e.networks,r=e.selectedNetwork,o=e.onItemSelected,d=e.learnMoreSection,g=e.selectionMode,p=(0,n.useRef)(null),y=(0,n.useCallback)((function(e){var n,a=e.key,u=e.index,d=e.style,p=t[u],f=(!g||"source"===g)&&(null===(n=p.balance)||void 0===n?void 0:n.equals(new i.Decimal(0)));return(0,c.jsx)("div",{style:d,children:(0,c.jsx)(l.h,{network:p,selected:!!r&&s.Network.isEqual(r,p),onPress:o,disabled:f})},a)}),[t,o,r,g]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(u.VStack,{ref:p,spacingHorizontal:3,height:"100%",children:(0,c.jsx)(a._K,{scrollElement:p.current,children:function(e){var r=e.height,o=e.scrollTop;return(0,c.jsx)(a.qj,{disableHeight:!0,defaultHeight:r,children:function(e){var r=e.width,n=e.height;return(0,c.jsx)(a.aV,{autoHeight:!0,height:n||300,width:r||345,scrollTop:o,rowHeight:f,rowRenderer:y,rowCount:t.length,overscanRowCount:5})}})}})},"select-network-scroller"),null!=d?d:null]})}p(y,"useRef{container}\nuseCallback{renderRow}"),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(f,"LIST_ITEM_SIZE","/workspaces/libs/wallet-cds-extension/components/SelectNetwork/SelectNetwork.tsx"),d.register(y,"SelectNetwork","/workspaces/libs/wallet-cds-extension/components/SelectNetwork/SelectNetwork.tsx")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)},323620:(e,t,r)=>{r.d(t,{d:()=>l});const o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBjbGlwLXBhdGg9InVybCgjYSkiPjxwYXRoIGQ9Ik05My4zMzMgMjB2Ni42NjdINjYuNjY3djYuNjY2aC0yMFYyMEgzMy4zMzN2NjBoMTMuMzM0di02LjY2N2gyMFY4MEg4Ni4yNXYtNi42NjdoMjAuNjY3VjgwSDE0MFYyMEg5My4zMzNaIiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0iTTQ2LjU4MyAwSDB2MTAwaDQ2LjU4M1YwWiIgZmlsbD0iIzAwRDE3RiIvPjxwYXRoIGQ9Ik0yNi42NjcgMTMuMzMzSDEzLjMzM3YxMy4zMzRoMTMuMzM0VjEzLjMzM1oiIGZpbGw9IiNGRkQyMDAiLz48cGF0aCBkPSJNMTMuMzMzIDI2LjY2N1YxMy4zMzNoMTMuMzM0TDEzLjMzMyAyNi42NjdaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTI2LjY2NyAzMy4zMzNIMTMuMzMzdjEzLjMzNGgxMy4zMzRWMzMuMzMzWiIgZmlsbD0iI0ZGRDIwMCIvPjxwYXRoIGQ9Ik0xMy4zMzMgNDYuNTgzVjMzLjI1aDEzLjMzNEwxMy4zMzMgNDYuNTgzWiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0yNi42NjcgNTMuMzMzSDEzLjMzM3YxMy4zMzRoMTMuMzM0VjUzLjMzM1pNMjYuNjY3IDczLjMzM0gxMy4zMzN2MTMuMzM0aDEzLjMzNFY3My4zMzNaIiBmaWxsPSIjRkZEMjAwIi8+PHBhdGggZD0iTTEzLjMzMyA4Ni42NjdWNzMuMzMzaDEzLjMzNEwxMy4zMzMgODYuNjY3Wk0xMy4zMzMgNjYuNjY3VjUzLjMzM2gxMy4zMzRMMTMuMzMzIDY2LjY2N1oiIGZpbGw9IiNmZmYiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE5LjA4MyAxMDBWMGgxLjY2N3YxMDBoLTEuNjY3WiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0yMDAgMGgtNDYuNTgzdjEwMEgyMDBWMFoiIGZpbGw9IiM1REUyRjgiLz48cGF0aCBkPSJNNDYuNjY3IDMzLjMzM0gzMy4zMzN2NDBoMTMuMzM0di00MFoiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTM2LjY2NyA4MGMxNi41NjggMCAzMC0xMy40MzEgMzAtMzAgMC0xNi41NjktMTMuNDMyLTMwLTMwLTMwLTE2LjU2OSAwLTMwIDEzLjQzMS0zMCAzMCAwIDE2LjU2OSAxMy40MzEgMzAgMzAgMzBaIiBmaWxsPSIjRkZEMjAwIi8+PHBhdGggZD0iTTE1My40MTcgMjUuMDgzdjQ5Ljc1YzgtNS4zMzMgMTMuMjUtMTQuNSAxMy4yNS0yNC44MzMgMC0xMC4zMzMtNS4yNS0xOS41LTEzLjI1LTI0LjkxN1oiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTQ2IDM5LjE2N2gzNC4wODN2MS42NjZINDZ2LTEuNjY2Wk0xMzYuNjY3IDI3LjVjLTEyLjQyNyAwLTIyLjUgMTAuMDc0LTIyLjUgMjIuNXMxMC4wNzMgMjIuNSAyMi41IDIyLjVjMTIuNDI2IDAgMjIuNS0xMC4wNzQgMjIuNS0yMi41cy0xMC4wNzQtMjIuNS0yMi41LTIyLjVaTTExMi41IDUwYzAtMTMuMzQ3IDEwLjgyLTI0LjE2NyAyNC4xNjctMjQuMTY3IDEzLjM0NyAwIDI0LjE2NiAxMC44MiAyNC4xNjYgMjQuMTY3IDAgMTMuMzQ3LTEwLjgxOSAyNC4xNjctMjQuMTY2IDI0LjE2N1MxMTIuNSA2My4zNDcgMTEyLjUgNTBaTTY2LjUgNTIuNWgzMy41ODN2MS42NjdINjYuNVY1Mi41Wk0zNy4yNSA2NS44MzNoNDIuNjY3VjY3LjVIMzcuMjV2LTEuNjY3WiIgZmlsbD0iIzAwMCIvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTM1LjgzMyA2Ni42Njd2LTMzLjI1aDEuNjY3djMzLjI1aC0xLjY2N1oiIGZpbGw9IiMwMDAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyMCA0OS4xNjdoMzMuMjV2MS42NjZIMTIwdi0xLjY2NloiIGZpbGw9IiMwMDAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTEyNC4zMjcgNjEuMTYgMjMuNS0yMy41IDEuMTc5IDEuMTgtMjMuNSAyMy41LTEuMTc5LTEuMThaIiBmaWxsPSIjMDAwIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Im0xNDcuNzIzIDYzLjA2OC0yMi41LTI0LjE2NyAxLjIyLTEuMTM2IDIyLjUgMjQuMTY3LTEuMjIgMS4xMzZaIiBmaWxsPSIjMDAwIi8+PHBhdGggZD0iTTI2LjY2NyAyMEgyMHY2LjY2N2g2LjY2N1YyMFpNMjYuNjY3IDQwSDIwdjYuNjY3aDYuNjY3VjQwWk0yNi42NjcgNjBIMjB2Ni42NjdoNi42NjdWNjBaTTI2LjY2NyA4MEgyMHY2LjY2N2g2LjY2N1Y4MFpNMjAgMTMuMzMzaC02LjY2N1YyMEgyMHYtNi42NjdaTTIwIDMzLjMzM2gtNi42NjdWNDBIMjB2LTYuNjY3Wk0yMCA1My4zMzNoLTYuNjY3VjYwSDIwdi02LjY2N1pNMjAgNzMuMzMzaC02LjY2N1Y4MEgyMHYtNi42NjdaIiBmaWxsPSIjMDAwIi8+PHBhdGggZD0iTTE4Ni42NjcgMTMuMzMzaC0xMy4zMzR2MTMuMzM0aDEzLjMzNFYxMy4zMzNaIiBmaWxsPSIjRkZEMjAwIi8+PHBhdGggZD0iTTE3My4zMzMgMjYuNjY3VjEzLjMzM2gxMy4zMzRsLTEzLjMzNCAxMy4zMzRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTE4Ni42NjcgMzMuMzMzaC0xMy4zMzR2MTMuMzM0aDEzLjMzNFYzMy4zMzNaIiBmaWxsPSIjRkZEMjAwIi8+PHBhdGggZD0iTTE3My4zMzMgNDYuNTgzVjMzLjI1aDEzLjMzNGwtMTMuMzM0IDEzLjMzM1oiIGZpbGw9IiNmZmYiLz48cGF0aCBkPSJNMTg2LjY2NyA1My4zMzNoLTEzLjMzNHYxMy4zMzRoMTMuMzM0VjUzLjMzM1pNMTg2LjY2NyA3My4zMzNoLTEzLjMzNHYxMy4zMzRoMTMuMzM0VjczLjMzM1oiIGZpbGw9IiNGRkQyMDAiLz48cGF0aCBkPSJNMTczLjMzMyA4Ni42NjdWNzMuMzMzaDEzLjMzNGwtMTMuMzM0IDEzLjMzNFpNMTczLjMzMyA2Ni42NjdWNTMuMzMzaDEzLjMzNGwtMTMuMzM0IDEzLjMzNFoiIGZpbGw9IiNmZmYiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE3OS4wODMgMTAwVjBoMS42Njd2MTAwaC0xLjY2N1oiIGZpbGw9IiMwMDAiLz48cGF0aCBkPSJNMTg2LjY2NyAyMEgxODB2Ni42NjdoNi42NjdWMjBaTTE4Ni42NjcgNDBIMTgwdjYuNjY3aDYuNjY3VjQwWk0xODYuNjY3IDYwSDE4MHY2LjY2N2g2LjY2N1Y2MFpNMTg2LjY2NyA4MEgxODB2Ni42NjdoNi42NjdWODBaTTE4MCAxMy4zMzNoLTYuNjY3VjIwSDE4MHYtNi42NjdaTTE4MCAzMy4zMzNoLTYuNjY3VjQwSDE4MHYtNi42NjdaTTE4MCA1My4zMzNoLTYuNjY3VjYwSDE4MHYtNi42NjdaTTE4MCA3My4zMzNoLTYuNjY3VjgwSDE4MHYtNi42NjdaIiBmaWxsPSIjMDAwIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Im03OS40OTMgMzkuOTk1LTQuMDg3LTQuMTYgMS4xODgtMS4xNjkgNS4yNDYgNS4zNC01LjI1IDUuMjUtMS4xOC0xLjE3OSA0LjA4My00LjA4MlpNOTkuNDgzIDUzLjQyMmwtNC4xNS00LjA3OCAxLjE2OC0xLjE4OCA1LjM0OSA1LjI1NS01LjM0NCA1LjM0NS0xLjE3OS0xLjE3OSA0LjE1Ni00LjE1NVpNODAuMTUgNjYuNjYxbC00LjE1Ni00LjE1NSAxLjE3OS0xLjE3OSA1LjM0NCA1LjM0NS01LjM1IDUuMjU2TDc2IDcwLjczOGw0LjE1LTQuMDc3WiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik05My4zMzMgMTMuMzMzaC02LjY2NlYyMGg2LjY2NnYtNi42NjdaTTkzLjMzMyA4Ni42NjdoLTYuNjY2djYuNjY2aDYuNjY2di02LjY2NlpNMTAwIDgwaC02LjY2N3Y2LjY2N0gxMDBWODBaIiBmaWxsPSIjQ0VEMkRCIi8+PHBhdGggZD0iTTIwIDYuNjY3Yy0zLjY2NyAwLTYuNjY3LTMtNi42NjctNi42NjdoMTMuMzM0YzAgMy42NjctMyA2LjY2Ny02LjY2NyA2LjY2N1pNMjYuNjY3IDEwMEgxMy4zMzNjMC0zLjY2NyAzLTYuNjY3IDYuNjY3LTYuNjY3czYuNjY3IDMgNi42NjcgNi42NjdaTTE4MCA2LjY2N2MtMy42NjcgMC02LjY2Ny0zLTYuNjY3LTYuNjY3aDEzLjMzNGMwIDMuNjY3LTMgNi42NjctNi42NjcgNi42NjdaTTE4Ni42NjcgMTAwaC0xMy4zMzRjMC0zLjY2NyAzLTYuNjY3IDYuNjY3LTYuNjY3czYuNjY3IDMgNi42NjcgNi42NjdaIiBmaWxsPSIjMDAwIi8+PC9nPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9IjM2LjU5NCIgeTE9Ijc2Ljg2NyIgeDI9IjE0NS43MDQiIHkyPSI0Ny44NDkiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBvZmZzZXQ9Ii4yNjQiIHN0b3AtY29sb3I9IiNGRkQyMDAiLz48c3RvcCBvZmZzZXQ9Ii42MDIiIHN0b3AtY29sb3I9IiNFQkNFRjgiLz48L2xpbmVhckdyYWRpZW50PjxjbGlwUGF0aCBpZD0iYSI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTAgMGgyMDB2MTAwSDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+";var n,a=r(386744),s=r(552322);e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var i,u;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function l(e){var t=e.alt,r=e.scaleMultiplier,n=void 0===r?1:r,i=n*a.Zl.width,u=n*a.Zl.height;return(0,s.jsx)("img",{src:o,alt:t,"data-testid":"bridge-nux-miami",width:i,height:u})}(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&i.register(l,"BridgingPromotionTrayMiami","/workspaces/libs/wallet-cds-web/components/MiamiIllustrationWrapper/MiamiIllustrations/BridgingPromotionTrayMiami.tsx"),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},246383:(e,t,r)=>{t.f=void 0;const o=r(202784),n=r(974045);t.f=function({assets:e,query:t}){return(0,o.useMemo)((()=>{const r=Array.from(e,(([e,t])=>t));return 0===r.length?[]:0===t.length?r:(0,n.computeSwapAssetSearchResults)({assets:r,query:t})}),[t,e])}},183221:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BRIDGE_FAQS_URL=t.BRIDGE_ENTRY_ERROR_HEIGHT=t.refetchTimeInterval=t.BRIDGE_WELCOME_STEP_VIEWED_LOCAL_STORAGE_KEY=void 0,t.BRIDGE_WELCOME_STEP_VIEWED_LOCAL_STORAGE_KEY="BRIDGE_WELCOME_STEP_VIEWED",t.refetchTimeInterval=31e3,t.BRIDGE_ENTRY_ERROR_HEIGHT=40,t.BRIDGE_FAQS_URL="https://help.coinbase.com/en/wallet/bridging"},91175:(e,t,r)=>{t.y=void 0;const o=r(301043),n=r(183221);t.y=function(){const e=(0,o.useIsBridgeRedesignEligible)();return null===localStorage.getItem(n.BRIDGE_WELCOME_STEP_VIEWED_LOCAL_STORAGE_KEY)?e?"welcomeV2":"welcome":e?"entryV2":"entry"}},991144:(e,t,r)=>{t.O=void 0;const o=r(202784),n=r(98660),a=r(657455),s=r(4217),i=r(301043),u=r(810770),l=r(735103),c=r(601879),d=r(993199),g=r(720249);t.O=function({sourceWallet:e,feeWallet:t,sourceAsset:r,targetAsset:p,shouldIgnoreSuccessRedirect:f,quote:y}){const{goToStep:m}=(0,l.useStepper)(d.stepper),v=(0,a.useRethrowError)(),h=(0,i.useIsBridgeRedesignEligible)(),{bridgeTxData:b,unsignedBridgeTxResult:S,unsignedApproveTxResult:w,quote:M}=(0,c.useFields)(d.form),E=(0,g.useChainDetails)(),C=(0,n.useEntryStepGetBridgeNotEnoughDataError)({chainDetails:E,source:n.Source.EXTENSION}),k=(0,n.useEntryStepNotEnoughBalanceForMinerFee)({chainDetails:E,source:n.Source.EXTENSION}),x=(0,n.useConfirmationRefreshFail)({chainDetails:E,source:n.Source.EXTENSION}),I=(0,o.useCallback)((e=>{b.onChange(e.bridgeTxData),w.onChange(e.unsignedApproveTx),S.onChange(e.unsignedBridgeTx),M.onChange(e.bridgeTxData.quote)}),[b,M,w,S]),N=(0,o.useCallback)((()=>{m("confirmationPreview")}),[m]),T=(0,o.useCallback)((e=>{x(),e.code===u.QuoteErrorCode.AMOUNT_TOO_LOW||u.QuoteErrorCode.NO_ROUTES_FOUND||u.QuoteErrorCode.LOW_LIQUIDITY?m(h?"entryV2":"entry"):v(e)}),[m,h,v,x]),{generateTransactions:A,generateTransactionsError:j,generateDepositAmount:L,isGenerateTransactionsLoading:B}=(0,s.useGenerateTransactions)({sourceAsset:r,targetAsset:p,sourceAmount:y?.fromAmount,targetAmount:y?.toAmount,sourceWallet:e,feeWallet:t,routePath:y?.routePath,updateFormData:I,onSuccess:N,onNotEnoughBalanceForMinerFee:k,onNotEnoughData:C,shouldIgnoreSuccessRedirect:f,onError:T});return(0,o.useMemo)((()=>({generateTransactions:A,generateTransactionsError:j,generateDepositAmount:L,isGenerateTransactionsLoading:B})),[A,j,L,B])}},590309:(e,t,r)=>{t.k=void 0;const o=r(202784),n=r(647933),a=r(98660),s=r(382969),i=r(230438),u=r(930830),l=r(735103),c=r(601879),d=r(993199),g=r(720249);t.k=function(){const e=(0,n.useHistory)(),[t,r]=(0,o.useState)(null),{goBack:p,goToStep:f}=(0,l.useStepper)(d.stepper),y=(0,g.useChainDetails)(),m=(0,a.useBridgePhoneConfirmationStepMobileApprove)({chainDetails:y,source:a.Source.EXTENSION}),v=(0,a.useBridgePhoneConfirmationStepMobileCancel)({chainDetails:y,source:a.Source.EXTENSION}),h=(0,a.useBridgePhoneConfirmationStepWalletLinkError)({chainDetails:y,source:a.Source.EXTENSION}),b=(0,s.useSignAndSubmitTransactionViaWalletLink)(),{unsignedBridgeTxResult:{value:S},unsignedApproveTxResult:{value:w}}=(0,c.useFields)(d.form),M=w?.transaction,E=S?.transaction,C=(0,i.useActiveWalletGroupId)(),k=(0,u.useTxFeeWallet)(C,E),x=(0,o.useCallback)((()=>{m(),f("status"),r(null)}),[f,m]),I=(0,o.useCallback)((t=>{"UserRejectedWalletLinkRequest"===t.name?v():h(),r({errorMessage:t.message,onPrimaryButtonPress:()=>{r(null),p()},onSecondaryButtonPress:()=>e.replace("/portfolio"),secondaryButtonText:"Go Back Home",primaryButtonText:"Try Again"})}),[p,e,h,v]),N=(0,o.useCallback)((async()=>{if(!k||!E)return null;if(M)try{await b({unsignedTx:M,wallet:k})}catch(e){I(e)}try{await b({unsignedTx:E,wallet:k}),x()}catch(e){I(e)}}),[I,x,b,M,E,k]);return(0,o.useMemo)((()=>({signAndSubmitViaWalletlink:N,errorStateProps:t})),[t,N])}},846968:(e,t,r)=>{var o=r(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.generateUnsignedBridgeTx=void 0;const n=r(4871),a=r(581823),s=r(266854),i=r(497088),u=r(218705),l=r(178012),c=r(478975);t.generateUnsignedBridgeTx=async function(e,t,r,d){const{tx:g}=t,p=g.value?(0,u.fromHex)(g.value):0n;if(void 0===p)throw new Error("Unable to generate transaction");const f=g.gas?BigInt(g.gas):void 0,y=(0,i.buildMetadataWithTarget)({baseMetadata:c.bridgeMetadata,imageURL:t.quote.toAsset.imageURL,name:t.quote.toAsset.name,currencyCode:t.quote.toAsset.currencyCode.rawValue,decimals:t.quote.toAsset.decimals,amount:t.quote.toAmount});if(d){const a=await(0,s.get1559GasPrice)(Number(t.chainId));return(0,n.generateUnsigned1559Transaction)({wallet:e,recipientAddress:g.to,metadata:y,transactionAmount:{kind:"Amount",value:p},txConfiguration:{txType:"1559",nonce:r,dataBuffer:o.from((0,l.strip0x)(g.data),"hex"),selectedMaxFeePerGas:BigInt(a.normalMaxFeePerGas),selectedMaxPriorityFeePerGas:BigInt(a.normalPriorityFee),selectedGasLimit:f,selectedBaseFeePerGas:BigInt(a.baseFee)}})}return(0,a.generateUnsignedLegacyTransaction)({wallet:e,recipientAddress:g.to,metadata:y,transactionAmount:{kind:"Amount",value:BigInt(g.value)},txConfiguration:{txType:"Legacy",nonce:r,dataBuffer:t.bridgeHexEncodedTxData,selectedGasPrice:BigInt(g.gasPrice),selectedGasLimit:f}})}},617441:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getBridgeTxData=t.BRIDGE_GET_TX_DATA_QUERY_KEY=void 0;const o=r(103184),n=r(86296),a=r(886855),s=r(402330),i=r(49982),u=r(478975),l=r(919449),c=r(846968);t.BRIDGE_GET_TX_DATA_QUERY_KEY="bridge/getTxData",t.getBridgeTxData=async function({sourceWallet:e,feeWallet:r,routePath:d,sourceAmount:g,sourceAssetAddress:p,sourceChainId:f,targetAmount:y,targetAssetAddress:m,targetChainId:v,userAddress:h,is1559Enabled:b}){const S={routePath:d,userAddress:h,fromChainId:f.toString(),toChainId:v.toString(),...m&&{toTokenAddress:m},...p&&{fromTokenAddress:p},fromAmount:g.toString(),toAmount:y.toString()},{result:w}=await(0,i.getJSON)(t.BRIDGE_GET_TX_DATA_QUERY_KEY,S),M=new l.BridgeTxData(w,f),E=await(0,o.getConfirmedEthereumTransactionCount)(h,a.Network.fromChainId({chainId:f}));let C,k=E;M.approveTx&&(C=await(0,s.generateUnsignedApproveTx)(r,M.approveTx,E,b,u.bridgeMetadata),k=E+1n);const x=await(0,c.generateUnsignedBridgeTx)(e,M,k,b);return"Failure"===C?.kind&&((0,n.cbReportError)({context:"bridge",error:new Error(`error building approveTx: ${C.err}`),isHandled:!1,severity:"error"}),Object.assign(C.transaction,{gasLimit:M.approveTx?.gas?BigInt(M.approveTx?.gas):void 0})),"Failure"===x?.kind&&((0,n.cbReportError)({context:"bridge",error:new Error(`error building swapTx: ${x.err}`),isHandled:!1,severity:"error"}),Object.assign(x.transaction,{gasLimit:BigInt(M.tx.gas)})),{bridgeTxData:M,unsignedApproveTx:C,unsignedBridgeTx:x}}},257160:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useBridgeQuote=void 0;const o=r(202784),n=r(663258),a=r(602438),s=r(49982),i=r(122148),u="bridge/quote";t.useBridgeQuote=function(e,t=300){const r=(0,n.useDebounce)(e,t),{data:l,error:c,isFetching:d}=(0,a.useQuery)([u,r],(async()=>{if(r)return async function(e){const{result:t}=await(0,s.getJSON)(u,e,{apiVersion:2});return t.quote}(r)}),{enabled:!!r,staleTime:3e4,retry:!1});return{quote:(0,o.useMemo)((()=>l?new i.BridgeQuote(l):void 0),[l]),isLoading:d,error:c}}},59169:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useBridgeableSourceAssets=t.BRIDGE_SUPPORTED_SOURCE_ASSETS_QUERY_KEY=void 0;const o=r(202784),n=r(946813),a=r(86296),s=r(602438),i=r(49982),u=r(98597);t.BRIDGE_SUPPORTED_SOURCE_ASSETS_QUERY_KEY="bridge/supportedSourceAssets";const l="cacheBust";t.useBridgeableSourceAssets=function({sourceChainId:e,targetChainId:r}){const c=(0,n.useQueryClient)(),d=(0,o.useCallback)((function(o){try{return o?.map((e=>new u.BridgeAsset(e)))??[]}catch(o){return(0,a.cbReportError)(o),c.invalidateQueries([t.BRIDGE_SUPPORTED_SOURCE_ASSETS_QUERY_KEY,e,r,l]),[]}}),[c,e,r]),{data:g}=(0,s.useQuery)([t.BRIDGE_SUPPORTED_SOURCE_ASSETS_QUERY_KEY,e,r,l],(async()=>async function({sourceChainId:e,targetChainId:r}){if(!e||!r)return Promise.resolve([]);try{const{result:o}=await(0,i.getJSON)(t.BRIDGE_SUPPORTED_SOURCE_ASSETS_QUERY_KEY,{fromChainId:e,toChainId:r},{apiVersion:2});return o.assets}catch{return(0,a.cbReportError)({context:"bridge",error:new Error("Error when attempting to fetch bridgeable source assets"),severity:"error",isHandled:!1}),Promise.resolve([])}}({sourceChainId:e,targetChainId:r})),{suspense:!0,staleTime:3e4,notifyOnChangeProps:["data"],select:d});return g??[]}},236215:(e,t,r)=>{t.mP=t.am=void 0;const o=r(202784),n=r(86296),a=r(602438),s=r(49982),i=r(98597);t.am="bridge/supportedTargetAssets",t.mP=function({sourceChainId:e,targetChainId:r,sourceContractAddress:u,sourceCurrencyCode:l}){const c=(0,a.useQuery)([t.am,e,r,u,l],(async()=>async function({sourceChainId:e,targetChainId:r,sourceContractAddress:o,sourceCurrencyCode:a}){if(!e||!r)return Promise.resolve({assets:[]});try{const n={fromChainId:e,toChainId:r,fromContractAddress:o,fromCurrencyCode:a},{result:i}=await(0,s.getJSON)(t.am,n,{apiVersion:2});return i}catch{return(0,n.cbReportError)({context:"bridge",error:new Error("Error when attempting to fetch bridgeable target assets"),isHandled:!1,severity:"error"}),Promise.resolve({assets:[]})}}({sourceChainId:e,targetChainId:r,sourceContractAddress:u,sourceCurrencyCode:l})),{suspense:!0,staleTime:3e4,notifyOnChangeProps:["data"]}).data;return(0,o.useMemo)((()=>c?c.assets.map((e=>new i.BridgeAsset(e))):[]),[c])}},50328:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useSupportedBridgeChainsMap=t.useSupportedBridgeChains=t.SUPPORTED_CHAINS_QUERY_KEY=void 0;const o=r(202784),n=r(108389),a=r(602438),s=r(886855),i=r(49982);function u(e){const{data:r}=(0,a.useQuery)([t.SUPPORTED_CHAINS_QUERY_KEY,e],(async()=>async function(e){const{result:r}=await(0,i.getJSON)(t.SUPPORTED_CHAINS_QUERY_KEY,e?{sourceChainId:e}:{});return r.chains}(e)),{suspense:!0,staleTime:3e4,notifyOnChangeProps:["data"]}),s=r?.map((e=>({...e,prefix:n.ETHEREUM_PREFIX})));return(0,o.useMemo)((()=>s??[]),[s])}t.SUPPORTED_CHAINS_QUERY_KEY="bridge/supportedChains",t.useSupportedBridgeChains=u,t.useSupportedBridgeChainsMap=function(){const e=u();return(0,o.useMemo)((()=>new Map(e.map((function(e){const t=s.Network.fromSupportedChain(e).asChain()?.chainId;return[t,e]})))),[e])}},812341:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useBridgeableWallets=void 0;const o=r(202784),n=r(101620),a=r(929148),s=r(59169),i=r(375277),u=r(158856),l=r(373881);t.useBridgeableWallets=function(e,t,r){const{fiatValue:c}=(0,n.useCurrencyFormatter)(),d=t?.asChain()?.chainId.toString(),g=r?.asChain()?.chainId.toString(),p=(0,s.useBridgeableSourceAssets)({sourceChainId:d,targetChainId:g}),f=(0,u.useWalletsForWalletGroupId)(e,t),y=(0,a.useActiveAccountId)(),m=(0,o.useMemo)((()=>{const e=new Map(f.map((e=>[e.swapId,e])));return p.reduce(((t,r)=>{const o=e.get(r.id);return o?t.push(o):t.push(new l.Wallet({primaryAddress:r.address?.rawValue||"",addresses:[],displayName:r.name,currencyCode:r.currencyCode,imageURL:r.imageURL,balance:0n,decimals:r.decimals,blockchain:r.blockchain,minimumBalance:0n,network:r.network,contractAddress:r.address?.rawValue,selectedIndex:0n,accountId:y})),t}),[])}),[y,p,f]);return(0,o.useMemo)((()=>(0,i.sortWalletsByFiatValue)(m,c)),[m,c])}},676054:(e,t,r)=>{t.b=void 0;const o=r(202784),n=r(886855);t.b=function({wallets:e,network:t}){return(0,o.useMemo)((()=>e.find((e=>{const r=n.Network.isEqual(t,e.network),o=e.currencyCode.code===t.asChain()?.baseAssetCurrencyCode;return r&&o}))),[t,e])}},572133:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useFormatBridgeAmounts=void 0;const o=r(202784),n=r(101620);t.useFormatBridgeAmounts=function(e){const t=(0,n.useCurrencyFormatter)(),{quote:r}=e,a=(0,o.useMemo)((()=>{const e=t.fiatValue(r.fromAsset.currencyCode,r.fromAsset.decimals,r.fromAmount,r.fromAsset.address?.rawValue,r.fromAsset.network,2);if(e)return t.fiatValueString(e)}),[t,r.fromAsset.currencyCode,r.fromAsset.decimals,r.fromAsset.address?.rawValue,r.fromAsset.network,r.fromAmount]),s=(0,o.useMemo)((()=>t.formatToCrypto({currencyCode:r.fromAsset.currencyCode,decimals:r.fromAsset.decimals,value:r.fromAmount,includeCode:!0,maxDisplayDecimals:8n,minDisplayDecimals:0n})),[t,r.fromAmount,r.fromAsset.currencyCode,r.fromAsset.decimals]),i=(0,o.useMemo)((()=>{const e=t.fiatValue(r.toAsset.currencyCode,r.toAsset.decimals,r.toAmount,r.toAsset.address?.rawValue,r.toAsset.network,2);if(e)return t.fiatValueString(e)}),[t,r.toAsset.currencyCode,r.toAsset.decimals,r.toAsset.address?.rawValue,r.toAsset.network,r.toAmount]),u=(0,o.useMemo)((()=>t.formatToCrypto({currencyCode:r.toAsset.currencyCode,decimals:r.toAsset.decimals,value:r.toAmount,includeCode:!0,maxDisplayDecimals:8n,minDisplayDecimals:0n})),[t,r.toAmount,r.toAsset.currencyCode,r.toAsset.decimals]);return(0,o.useMemo)((()=>({sourceFiatAmount:a,sourceCryptoAmount:s,targetFiatAmount:i,targetCryptoAmount:u})),[s,a,u,i])}},4217:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useGenerateTransactions=void 0;const o=r(202784),n=r(239398),a=r(446101),s=r(101620),i=r(978857),u=r(657455),l=r(617441),c=(0,n.defineMessages)({notEnoughBalanceForMinerFeeMessage:{id:"8YvB19",defaultMessage:"You have {fiatTotalAvailableBalance} in {cryptoSymbol}, but you need {fiatTotalTransactionValue} due to gas fees"},depositMinerFeeMessage:{id:"mLulYH",defaultMessage:"You must deposit {fiatDifferenceValue} in {cryptoSymbol} to complete this transaction."}});t.useGenerateTransactions=function({sourceAsset:e,targetAsset:t,sourceAmount:r,targetAmount:d,sourceWallet:g,feeWallet:p,routePath:f,onSuccess:y,updateFormData:m,onNotEnoughData:v,onRefreshFail:h,shouldIgnoreSuccessRedirect:b,onNotEnoughBalanceForMinerFee:S,onError:w}){const M=(0,s.useCurrencyFormatter)(),[E,C]=(0,o.useState)(!1),[k,x]=(0,o.useState)(),[I,N]=(0,o.useState)(),T=(0,u.useRethrowError)(),{formatMessage:A}=(0,n.useIntl)();(0,o.useEffect)((function(){x(void 0)}),[e,t,r,d]);const j=(0,o.useCallback)((function({bridgeTxData:t,unsignedApproveTx:o,unsignedBridgeTx:n}){m?.({bridgeTxData:t,unsignedApproveTx:o,unsignedBridgeTx:n});const a=e?.address===p?.contractAddress?r:0n,{hasEnoughBalance:s,totalFeeAssetRequired:u}=(0,i.checkEnoughBalanceForTx)({feeWallet:p,transactionAmount:a,unsignedTx:n.transaction,unsignedApproveEthTx:o?.transaction});if(s)return void(b||y?.({bridgeTxData:t,unsignedApproveTx:o,unsignedBridgeTx:n}));const l=A(c.notEnoughBalanceForMinerFeeMessage,{cryptoSymbol:p?.currencyCode.code,fiatTotalAvailableBalance:M.formatToFiat(p.currencyCode,p.decimals,p.balance,!1,p.contractAddress,p.network,!0,!0),fiatTotalTransactionValue:M.formatToFiat(p.currencyCode,p.decimals,u,!1,p.contractAddress,p.network)}),d=A(c.depositMinerFeeMessage,{cryptoSymbol:p?.currencyCode.code,fiatDifferenceValue:M.formatToFiat(p.currencyCode,p.decimals,BigInt(u)-(p.balance??0n),!1,p.contractAddress,p.network,!0,!0)}),f=0n===p?.balance?"zeroBalanceForMinerFee":"notEnoughBalanceForMinerFee";S?.({errorMessage:l,balance:Number(g?.balance??0),totalRequired:Number(u)}),N(new Error(d)),x({message:l,code:f})}),[m,e?.address,p,r,b,A,M,S,g?.balance,y]),L=(0,o.useMemo)((()=>Boolean(g?.network&&(0,a.isNetwork1559Enabled)(g?.network))),[g]);return{generateTransactions:(0,o.useCallback)((async function(o=!1){const n=g?.primaryAddress,a=g?.network,s=e?.network.asChain()?.chainId,i=t?.network.asChain()?.chainId,u={network:Boolean(a),wallet:Boolean(g),address:Boolean(n),sourceAsset:Boolean(e),targetAsset:Boolean(t)};if(!(a&&g&&n&&e&&t&&p&&s&&i&&f&&r&&d))return o?void h?.(u):(v?.(u),T(new Error("Not enough data provided to generate transactions")));try{C(!0);const o=await(0,l.getBridgeTxData)({sourceWallet:g,feeWallet:p,routePath:f,sourceAmount:r,targetAmount:d,sourceAssetAddress:e.address?.rawValue,targetAssetAddress:t.address?.rawValue,sourceChainId:BigInt(s),targetChainId:BigInt(i),userAddress:n,is1559Enabled:L});j(o)}catch(e){w?(x(e),w(e)):T(e)}finally{C(!1)}}),[g,e,t,p,v,T,h,f,r,d,L,j,w]),generateTransactionsError:k,generateDepositAmount:I,isGenerateTransactionsLoading:E}}},880143:(e,t,r)=>{t.q8=t.sY=void 0;const o=r(202784),n=r(239398),a=r(707356),s=r(810770);t.sY=(0,n.defineMessages)({routesError:{id:"qCXd0b",defaultMessage:"Bridging isn't available for this amount of {asset}. Try a larger amount instead."},lowLiquidityError:{id:"liUCW1",defaultMessage:"There isn't enough liquidity to bridge this asset right now. Select another asset or try again later."},amountTooLowError:{id:"eSDmmL",defaultMessage:"Amount too low. Enter {amount} or more to use this bridge."},amountTooLowDefaultError:{id:"CZ3jSA",defaultMessage:"Amount too low. Enter a greater amount to use this bridge."}}),t.q8=function({sourceWallet:e,cryptoAmount:r}){const{formatMessage:i}=(0,n.useIntl)(),u=(0,a.useGetFiatValueOrCryptoFallback)();return(0,o.useCallback)((function(o){switch(o.code){case s.QuoteErrorCode.AMOUNT_TOO_LOW:return e&&o.errorDetail?.minAmount?i(t.sY.amountTooLowError,{amount:u({currencyCode:e.currencyCode,network:e.network,currencyDecimal:e.decimals,amount:r+BigInt(o.errorDetail.minAmount),contractAddress:e.contractAddress,error:"Could not calculate min amount"})}):i(t.sY.amountTooLowDefaultError);case s.QuoteErrorCode.LOW_LIQUIDITY:return i(t.sY.lowLiquidityError);case s.QuoteErrorCode.NO_ROUTES_FOUND:return i(t.sY.routesError,{asset:e?.displayName});default:return""}}),[e,i,u,r])}},301043:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useIsBridgeRedesignEligible=void 0;const o=r(415363),n=r(633376);t.useIsBridgeRedesignEligible=function(){return(0,n.useIsExperimentInTreatment)(o.experiments.jul_2023_bridge_redesign)}},810770:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useQuote=t.QuoteErrorCode=void 0;const o=r(202784),n=r(101620),a=r(257160);!function(e){e.NO_ROUTES_FOUND="noRoutesFound",e.LOW_LIQUIDITY="lowLiquidity",e.AMOUNT_TOO_LOW="amountTooLow"}(t.QuoteErrorCode||(t.QuoteErrorCode={})),t.useQuote=function({source:e,target:t,includeCode:r=!0,cryptoAmount:s=0n,userAddress:i,analyticsError:u}){const l=(0,n.useCurrencyFormatter)(),c=(0,o.useMemo)((()=>{if(e&&t&&!(s<=0n))return{fromContractAddress:e.address?.rawValue??"",toContractAddress:t.address?.rawValue??"",fromCurrencyCode:e.currencyCode?.rawValue,toCurrencyCode:t.currencyCode?.rawValue,amount:String(s),fromChainId:e.network.asChain()?.chainId.toString()??"",toChainId:t.network.asChain()?.chainId.toString()??"",userAddress:i}}),[e,t,s,i]),{quote:d,isLoading:g,error:p}=(0,a.useBridgeQuote)(c);(0,o.useEffect)((function(){p&&u?.({error:p})}),[u,p]);const f=(0,o.useMemo)((()=>d?l.formatToCrypto({currencyCode:d.fromAsset.currencyCode,decimals:d.fromAsset.decimals,value:BigInt(d.fromAmount),includeCode:r,maxDisplayDecimals:8n}):""),[l,r,d]),y=(0,o.useMemo)((()=>d?l.formatToCrypto({currencyCode:d.toAsset.currencyCode,decimals:d.toAsset.decimals,value:BigInt(d.toAmount),includeCode:r,maxDisplayDecimals:8n}):""),[l,r,d]),m=(0,o.useMemo)((()=>!g&&p?p:void 0),[p,g]);return{quote:d,isLoading:g,fromCryptoAmount:f,toCryptoAmount:y,error:m}}},351913:(e,t,r)=>{t.K=void 0;const o=r(202784),n=r(812341),a=r(375277);t.K=function(e,{walletId:t,sourceNetwork:r,targetNetwork:s}){const i=(0,n.useBridgeableWallets)(e,r,s),u=(0,a.useBasePortfolioWallets)({wallets:i});return(0,o.useMemo)((()=>{if(!i?.length)return;let e;return t&&(e=i.find((e=>e.id===t))),e||u?.[0]}),[t,i,u])}},672603:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useSupportedChainsWithBalance=void 0;const n=r(202784),a=r(50328),s=r(51950),i=r(886855),u=r(546767),l=r(158856),c=o(r(952180));t.useSupportedChainsWithBalance=function(e,t){const r=(0,l.useWalletsForWalletGroupId)(e),o=(0,s.useNetworkBalances)(r),d=(0,a.useSupportedBridgeChains)(t);return(0,n.useMemo)((()=>d.map((e=>{const t=i.Network.fromSupportedChain(e),r=o.get(t.rawValue)??new c.default(0);return u.NetworkWithBalance.fromSupportedChainWithBalance(e,r)}))),[o,d])}},89902:(e,t,r)=>{t.r=void 0;const o=r(572133);t.r=function(e){const{sourceFiatAmount:t,sourceCryptoAmount:r,targetFiatAmount:n,targetCryptoAmount:a}=(0,o.useFormatBridgeAmounts)(e),{quote:s}=e;if(!r||!a)throw new Error("Could not display overview items on bridge confirmation page, missing crypto amounts");return{primaryItem:{title:s.fromAsset.name,iconSourceOrName:{iconUrl:s.fromAsset.imageURL,currencyCode:s.fromAsset.currencyCode?.code,network:s.fromAsset.network,showNetworkIcon:s.fromAsset.network.asChain()?.isLayer2},detail:t,subDetail:r,isAsset:!0,testID:"primary"},secondaryItem:{title:s.toAsset.name,iconSourceOrName:{iconUrl:s.toAsset.imageURL,currencyCode:s.toAsset.currencyCode?.code,network:s.toAsset.network,showNetworkIcon:s.toAsset.network.asChain()?.isLayer2},detail:n,subDetail:a,isAsset:!0,testID:"secondary"}}}},98597:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BridgeAsset=t.NATIVE_ADDRESS=void 0;const o=r(399389);t.NATIVE_ADDRESS="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee";class n extends o.Asset{constructor(e){super(e.name,e.currencyCode,e.address,e.decimals,e.imageURL,e.chainId,e.blockchain),this.bridgeable=e.bridgeable}}t.BridgeAsset=n},122148:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BridgeQuote=void 0;const n=r(218705),a=o(r(952180)),s=r(98597);t.BridgeQuote=class{constructor(e){this.fromAsset=new s.BridgeAsset(e.fromAsset),this.toAsset=new s.BridgeAsset(e.toAsset),this.fromAmount=BigInt(e.fromAmount),this.toAmount=BigInt(e.toAmount),this.routePath=e.routePath,this.serviceTime=e.serviceTime}get exchangeRate(){return this.fromAmount?(0,n.bigIntToDecimal)(this.toAmount).div((0,n.bigIntToDecimal)(this.fromAmount)):new a.default(0)}}},919449:(e,t,r)=>{var o=r(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.BridgeTxData=void 0;const n=r(178012),a=r(122148);t.BridgeTxData=class{constructor(e,t){this.approveTx=e.approveTx,this.tx=e.tx,this.quote=new a.BridgeQuote(e.quote),this.fee=e.fee,this.protocolFee=e.protocolFee,this.chainId=t}get approveHexEncodedTxData(){return this.approveTx?o.from(this.approveTx.data):void 0}get bridgeHexEncodedTxData(){return o.from((0,n.strip0x)(this.tx.data),"hex")}get chainPrimaryAssetValue(){return this.tx.value?BigInt(this.tx.value):0n}get estimatedBridgeTxMinerFee(){if(!this.tx.gas||!this.tx.gasPrice)return;return BigInt(this.tx.gasPrice)*BigInt(this.tx.gas)}get estimatedApproveTxMinerFee(){if(!this.approveTx?.gas||!this.approveTx.gasPrice)return;return BigInt(this.approveTx.gasPrice)*BigInt(this.approveTx.gas)}get gasPrice(){return this.tx.gasPrice?BigInt(this.tx.gasPrice):void 0}}},974045:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.computeSwapAssetSearchResults=void 0;const n=o(r(634498)),a=r(759470);t.computeSwapAssetSearchResults=function({assets:e,query:t}){if(!t)return Object.values(e);const r=Object.values(e).reduce((function(e,r){return null!==(0,a.calculateSearchScore)(t,r.currencyCode.rawValue,r.name).relevance&&e.push(r),e}),[]);return(0,n.default)(r,["relevance","coverage"],["asc","desc"])}},707356:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useGetFiatValueOrCryptoFallback=void 0;const o=r(202784),n=r(108389),a=r(101620),s=r(886855);t.useGetFiatValueOrCryptoFallback=function(){const e=(0,a.useCurrencyFormatter)();return(0,o.useCallback)((function({currencyCode:t,currencyDecimal:r,network:o,amount:a,error:i,contractAddress:u}){const l=o.asChain()?.chainId;if(!l)throw new Error(`${i} - invalid chainId`);const c=e.formatToFiat(t,r,a,!1,u,s.Network.fromChainId({chainPrefix:n.ETHEREUM_PREFIX,chainId:BigInt(l)}),void 0,!0);if(c)return c;const d=e.formatToCrypto({currencyCode:t,decimals:r,value:a,network:s.Network.fromChainId({chainPrefix:n.ETHEREUM_PREFIX,chainId:BigInt(l)}),includeCode:!0});if(!d)throw new Error(i);return d}),[e])}}}]);
//# sourceMappingURL=9862.js.map