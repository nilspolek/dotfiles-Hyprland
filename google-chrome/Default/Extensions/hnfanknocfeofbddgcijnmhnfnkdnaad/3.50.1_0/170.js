"use strict";(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[170],{950170:(e,t,o)=>{o.r(t),o.d(t,{CollectionDetails:()=>P});var n,r=o(202784),s=o(239398),a=o(783112),i=o(107267),l=o(485233),c=o(833997),d=o(23463),u=o(100427),p=o(267326),f=o(575853),g=o(976974),h=o(446048),b=o(61517),m=o(48972),y=o(738564),C=o(268708),v=o(995412),L=o(680088),I=o(256285),k=o(813464),x=o(249937),w=o(553258),E=o(552322);e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var D="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},T=(0,s.defineMessages)({notAvailable:{id:"U2yCd6",defaultMessage:[{type:0,value:"Description not available"}]}});function j(e){var t=e.collection,o=e.listings,n=e.walletTokens,s=(0,a.Z)().formatMessage;(0,l.useCollectionDetailViewed)({contractAddress:t.contractAddress,chainId:t.chainId});var i=(0,r.useMemo)((function(){return n.length>0}),[n]);return(0,E.jsxs)(m.VStack,{height:b.bf,overflow:"scroll",children:[(0,E.jsx)(h.w,{backButtonEnabled:!0,actionButtons:(0,E.jsx)(v.A,{coinbaseLink:t.coinbaseLink,etherscanLink:t.etherscanLink,raribleLink:t.raribleLink,contractAddress:t.contractAddress,chainId:t.chainId})}),(0,E.jsxs)(m.VStack,{spacingHorizontal:3,gap:2,children:[(0,E.jsx)(L.N,{chainId:t.chainId,cachedCollectionImage:t.cachedCollectionImage,collectionName:t.collectionName,verified:t.verified,creatorAddress:t.creatorAddress||""}),(0,E.jsx)(x.a,{ownerCount:t.ownerCount,totalTokens:t.totalTokens,ethVolumeWeek:t.ethVolumeWeek,floorPriceAmount:t.floorPrices[0].floorPrice.amount}),t.collectionDescription?(0,E.jsx)(y.m,{description:t.collectionDescription}):s(T.notAvailable),i&&(0,E.jsx)(w.Q,{chainId:t.chainId,walletTokens:n}),(0,E.jsx)(I.X,{listings:o,chainId:t.chainId}),(0,E.jsx)(k.M,{tokensPreview:t.tokensPreview,chainId:t.chainId,contractAddress:t.contractAddress,tokenCount:t.totalTokens,verified:t.verified})]})]})}D(j,"useIntl{{ formatMessage }}\nuseCollectionDetailViewed{}\nuseMemo{hasWalletTokens}",(function(){return[a.Z,l.useCollectionDetailViewed]}));var A,M,P=(0,r.memo)(D((function(){var e,t=(0,i.useParams)(),o=t.contractAddress,n=t.chainId,s=null===(e=(0,f.usePrimaryReceiveAddresses)().get("ETH"))||void 0===e?void 0:e.address;if(!s)throw new Error("Unable to get wallet address");(0,C.V)(g.PERF_MARKS.collection_details,g.COLLECTION_MARKS.navigate_to_collection_detail,{type:"end"}),(0,C.V)(g.PERF_MARKS.collection_details,g.COLLECTION_MARKS.load_collection_detail,{type:"start"});var a=(0,d.E)({contractAddress:o,chainId:n}),l=a.data,h=a.isLoading,b=a.isFetching,y=a.isRefetching,v=(0,u.g)({contractAddress:o,chainId:n,limit:c.td}),L=v.listings,I=v.isLoading,k=(0,p.useGetWalletCollectionTokens)({contractAddress:o,walletAddress:s,chainId:n,limit:c._T}),x=k.walletTokens,w=k.isLoading,D=(0,c.LB)({contractAddress:o,chainId:n,walletAddress:s});if(h||b&&!y)return(0,E.jsx)(H,{});if(!l)throw new Error("No collection found for ".concat(o));return(0,E.jsx)(r.Suspense,{fallback:(0,E.jsx)(m.Fallback,{height:8,width:8}),children:(0,E.jsx)(j,{collection:l,listings:L,walletTokens:x,isCollectiblesLoading:I||w,refreshCollectionDetails:D})})}),"useParams{{ contractAddress, chainId }}\nusePrimaryReceiveAddresses{}\nusePerfMarkOnMount{}\nusePerfMarkOnMount{}\nuseGetCollectionDetails{{\n    data: collection,\n    isLoading: isCollectionLoading,\n    isFetching,\n    isRefetching,\n  }}\nuseGetCollectionListings{{ listings, isLoading: isListingsLoading }}\nuseGetWalletCollectionTokens{{ walletTokens, isLoading: isWalletTokensLoading }}\nuseRefreshCollectionDetails{refreshCollectionDetails}",(function(){return[i.useParams,f.usePrimaryReceiveAddresses,C.V,C.V,d.E,u.g,p.useGetWalletCollectionTokens,c.LB]}))),H=(0,r.memo)((function(){return(0,E.jsxs)(m.VStack,{spacingTop:10,gap:2,spacingHorizontal:3,testID:"collection-details-loader",children:[(0,E.jsx)(L.l,{}),(0,E.jsx)(x.t,{}),(0,E.jsx)(m.Fallback,{width:"100%",height:24})]})}));(A="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(A.register(T,"messages","/workspaces/apps/extension/src/screens/Explore/CollectionDetails.tsx"),A.register(j,"CollectionDetailsContent","/workspaces/apps/extension/src/screens/Explore/CollectionDetails.tsx"),A.register(P,"CollectionDetails","/workspaces/apps/extension/src/screens/Explore/CollectionDetails.tsx"),A.register(H,"CollectionDetailsLoader","/workspaces/apps/extension/src/screens/Explore/CollectionDetails.tsx")),(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&M(e)},995412:(e,t,o)=>{o.d(t,{A:()=>v});var n,r=o(202784),s=o(239398),a=o(783112),i=o(485233),l=o(476689),c=o(960723),d=o(268973),u=o(48972),p=o(44605),f=o(986311),g=o(552322);e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var h,b,m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},y=(0,s.defineMessages)({copiedContractAddress:{id:"32WvU1",defaultMessage:[{type:0,value:"Copied contract address"}]}}),C={placement:"bottom-end",gap:2};function v(e){var t=e.coinbaseLink,o=e.etherscanLink,n=e.raribleLink,s=e.contractAddress,h=e.chainId,b=(0,r.useRef)(null),m=(0,r.useRef)(null),v=(0,a.Z)().formatMessage,L=(0,l.useToast)(),I=(0,r.useCallback)((function(){var e;(0,i.logCollectionDetailsCopyAddressClicked)({contractAddress:s,chainId:h}),null===(e=m.current)||void 0===e||e.closeMenu(),navigator.clipboard.writeText(s),L.show(v(y.copiedContractAddress))}),[s,h,L,v]),k=(0,r.useCallback)((function(){(0,i.logCollectionDetailsOpenInClicked)({contractAddress:s,chainId:h})}),[s,h]),x=(0,r.useCallback)((function(){var e;null===(e=m.current)||void 0===e||e.closeMenu()}),[]);return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(u.HStack,{gap:.5,children:[(0,g.jsx)(d.Dropdown,{ref:b,contentPosition:C,testID:"collection-details-external-links-popover-menu",content:(0,g.jsx)(f.O,{coinbaseLink:t,etherscanLink:o,raribleLink:n,contractAddress:s,chainId:h,closeDropdown:x}),children:(0,g.jsx)(c.IconButton,{transparent:!0,name:"externalLink",variant:"secondary",testID:"collection-details-external-button",onPress:k})},"collection-detail-actions-dropdown"),(0,g.jsx)(u.Box,{background:"background",children:(0,g.jsx)(d.Dropdown,{ref:m,contentPosition:C,testID:"collection-details-more-popover-menu",content:(0,g.jsx)(p.h,{handleCopyClick:I}),children:(0,g.jsx)(c.IconButton,{transparent:!0,name:"more",variant:"secondary",testID:"collection-details-menu-button"})})})]})})}m(v,"useRef{externalDropDownRef}\nuseRef{moreDropDownRef}\nuseIntl{{ formatMessage }}\nuseToast{toast}\nuseCallback{handleCopyClick}\nuseCallback{handlePressExternal}\nuseCallback{handleCloseDropdown}",(function(){return[a.Z,l.useToast]})),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(y,"messages","/workspaces/apps/extension/src/screens/Explore/components/CollectionDetailsActions/CollectionDetailsActions.tsx"),h.register(C,"dropdownContentPosition","/workspaces/apps/extension/src/screens/Explore/components/CollectionDetailsActions/CollectionDetailsActions.tsx"),h.register(v,"CollectionDetailsActions","/workspaces/apps/extension/src/screens/Explore/components/CollectionDetailsActions/CollectionDetailsActions.tsx")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},44605:(e,t,o)=>{o.d(t,{h:()=>y});var n,r=o(202784),s=o(239398),a=o(783112),i=o(853052),l=o(606058),c=o(48972),d=o(552322);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function p(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function f(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var g,h,b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},m=(0,s.defineMessages)({copyContractAddress:{id:"B2mROE",defaultMessage:[{type:0,value:"Copy contract address"}]}});function y(e){var t=e.handleCopyClick,o=(0,a.Z)().formatMessage,n=[(0,r.useMemo)((function(){return{key:"copy",media:(0,d.jsx)(l.Icon,{name:"copy",size:"s",color:"foreground"}),title:o(m.copyContractAddress),onPress:t,testID:"collection-details-copy-button"}}),[o,t])];return(0,d.jsx)(c.VStack,{testID:"more-menu-content",children:n.map((function(e){return(0,d.jsx)(i.ListCell,function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?p(Object(o),!0).forEach((function(t){f(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},e))}))})}b(y,"useIntl{{ formatMessage }}\nuseMemo{copyAddress}",(function(){return[a.Z]})),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(m,"messages","/workspaces/apps/extension/src/screens/Explore/components/CollectionDetailsActions/CollectionDetailsDropdownContent.tsx"),g.register(y,"CollectionDetailsDropdownContent","/workspaces/apps/extension/src/screens/Explore/components/CollectionDetailsActions/CollectionDetailsDropdownContent.tsx")),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)},986311:(e,t,o)=>{o.d(t,{O:()=>T});var n,r=o(202784),s=o(239398),a=o(783112),i=o(485233),l=o(428345),c=o(160417),d=o.n(c),u=o(853052),p=o(48972),f=o(110029),g=o(625417),h=o(101058),b=o(361567),m=o(797226),y=o(820562),C=o(552322);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function L(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function I(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var k,x,w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},E=(0,s.defineMessages)({coinbaseNFT:{id:"Zhz9VD",defaultMessage:[{type:0,value:"Coinbase NFT"}]},etherscan:{id:"2nO5YY",defaultMessage:[{type:0,value:"Etherscan"}]},rarible:{id:"TUljlI",defaultMessage:[{type:0,value:"Rarible"}]},opensea:{id:"Po3K4n",defaultMessage:[{type:0,value:"Opensea"}]},openIn:{id:"SDCe0Y",defaultMessage:[{type:0,value:"Open in..."}]}}),D=function(e){return e.COINBASE="coinbase",e.OPENSEA="opeansea",e.RARIBLE="rarible",e.ETHERSCAN="etherscan",e}(D||{});function T(e){var t=e.coinbaseLink,o=e.etherscanLink,n=e.raribleLink,s=e.contractAddress,c=e.chainId,v=e.closeDropdown,k=(0,a.Z)().formatMessage,x=(0,l.m)({contractAddress:s,chainId:c,includeMarketplaceLinks:!0}),w=x.openseaLink,T=x.isLoading,j=(0,r.useCallback)((function(e,t){return function(){(0,i.logCollectionDetailsOpenInLinkClicked)({context:t,contractAddress:s,chainId:c}),chrome.tabs.create({url:e,active:!1}),v()}}),[s,c,v]),A=(0,r.useMemo)((function(){return d()([t?{key:t,media:(0,C.jsx)(f.RemoteImage,{alt:"coinbase",source:g,shape:"squircle",width:"32",height:"32"}),title:k(E.coinbaseNFT),onPress:j(t,D.COINBASE),testID:"collection-details-open-tray-coinbase"}:void 0,w||T?{key:w,media:T?(0,C.jsx)(p.Fallback,{width:y.EXTERNAL_LINK_ICON_WIDTH,height:y.EXTERNAL_LINK_ICON_WIDTH,shape:"squircle",testID:"opensea-icon-loader"}):(0,C.jsx)(f.RemoteImage,{alt:"opensea",source:b,shape:"squircle",width:"32",height:"32"}),title:T?(0,C.jsx)(p.Fallback,{width:y.EXTERNAL_LINK_TITLE_WIDTH,height:y.EXTERNAL_LINK_TITLE_HEIGHT,testID:"opensea-title-loader"}):k(E.opensea),onPress:j(w,D.OPENSEA),testID:"collection-details-open-tray-opensea"}:void 0,n?{key:n,media:(0,C.jsx)(f.RemoteImage,{alt:"rarible",source:m,shape:"squircle",width:"32",height:"32"}),title:k(E.rarible),onPress:j(n,D.RARIBLE),testID:"collection-details-open-tray-rarible"}:void 0,o?{key:o,media:(0,C.jsx)(f.RemoteImage,{alt:"etherscan",source:h,shape:"squircle",width:"32",height:"32"}),title:k(E.etherscan),onPress:j(o,D.ETHERSCAN),testID:"collection-details-open-tray-etherscan"}:void 0])}),[t,k,j,w,T,n,o]);return(0,C.jsx)(p.VStack,{testID:"external-links-menu-content",children:A.map((function(e){return e?(0,C.jsx)(u.ListCell,function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?L(Object(o),!0).forEach((function(t){I(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):L(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},e)):null}))})}w(T,"useIntl{{ formatMessage }}\nuseGetCollectionOpenseaLink{{ openseaLink, isLoading }}\nuseCallback{handlePressLink}\nuseMemo{links}",(function(){return[a.Z,l.m]})),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(k.register(E,"messages","/workspaces/apps/extension/src/screens/Explore/components/CollectionDetailsActions/ExternalLinkDropdownContent.tsx"),k.register(T,"ExternalLinkDropdownContent","/workspaces/apps/extension/src/screens/Explore/components/CollectionDetailsActions/ExternalLinkDropdownContent.tsx")),(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&x(e)},256285:(e,t,o)=>{o.d(t,{X:()=>C});var n,r=o(202784),s=o(239398),a=o(783112),i=o(107267),l=o(485233),c=o(412581),d=o(48972),u=o(661641),p=o(820562),f=o(617736),g=o(552322);e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var h,b,m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},y=(0,s.defineMessages)({forSale:{id:"kPytPe",defaultMessage:[{type:0,value:"For sale"}]},seeAll:{id:"SmtUIl",defaultMessage:[{type:0,value:"See all"}]}});function C(e){var t=e.listings,o=e.chainId,n=(0,a.Z)().formatMessage,s=(0,i.useHistory)(),h=(0,r.useCallback)((function(){var e=t[0].contractAddress;(0,l.logCollectionDetailsListingsSeeAllClicked)({contractAddress:e,chainId:o}),s.push("/explore/".concat(e,"/").concat(o))}),[t,o,s]),b=(0,c.useIsNFTNativeBuyEnabled)();return 0===t.length?null:(0,g.jsxs)(d.VStack,{gap:2,borderedTop:!0,width:"100%",spacingVertical:2,testID:"collection-details-listings",children:[(0,g.jsxs)(d.HStack,{width:"100%",alignItems:"center",justifyContent:"space-between",children:[(0,g.jsx)(u.TextTitle3,{as:"h3",testID:"collection-details-listings-title",children:n(y.forSale)}),(0,g.jsx)(u.Link,{variant:"headline",onPress:h,testID:"collection-details-listings-see-all-link",children:n(y.seeAll)})]}),(0,g.jsx)(d.HStack,{width:"100%",height:p.COLLECTIBLE_ASSET_HEIGHT,gap:2,justifyContent:"space-between",children:t.map((function(e,t){return(0,g.jsx)(f.e,{item:e,chainId:o,index:t,isNFTNativeBuyEnabled:b},e.tokenId)}))})]})}m(C,"useIntl{{ formatMessage }}\nuseHistory{history}\nuseCallback{handlePressLink}\nuseIsNFTNativeBuyEnabled{isNFTNativeBuyEnabled}",(function(){return[a.Z,i.useHistory,c.useIsNFTNativeBuyEnabled]})),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(y,"messages","/workspaces/apps/extension/src/screens/Explore/components/CollectionDetailsListings/CollectionDetailsListings.tsx"),h.register(C,"CollectionDetailsListings","/workspaces/apps/extension/src/screens/Explore/components/CollectionDetailsListings/CollectionDetailsListings.tsx")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},813464:(e,t,o)=>{o.d(t,{M:()=>I});var n,r=o(202784),s=o(239398),a=o(783112),i=o(107267),l=o(485233),c=o(412581),d=o(622021),u=o(976974),p=o(48972),f=o(661641),g=o(268708),h=o(820562),b=o(617736),m=o(552322);e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var y,C,v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},L=(0,s.defineMessages)({exploreCollection:{id:"WZTWQs",defaultMessage:[{type:0,value:"Explore collection"}]},seeAll:{id:"EB9w1p",defaultMessage:[{type:0,value:"See all"}]},emptyCollectionMessage:{id:"SS5inw",defaultMessage:[{type:0,value:"There's nothing here yet"}]},emptyCollectionDescription:{id:"E5IgiC",defaultMessage:[{type:0,value:"When NFTs are added to this collection, they'll show up here."}]}});function I(e){var t=e.contractAddress,o=e.tokensPreview,n=e.chainId,s=e.verified,y=e.tokenCount,C=(0,a.Z)().formatMessage,v=(0,i.useHistory)();(0,g.V)(u.PERF_MARKS.collection_details,u.COLLECTION_MARKS.load_collection_detail,{type:"end"});var I=(0,r.useCallback)((function(){(0,l.logCollectionDetailsPreviewSeeAllClicked)({contractAddress:t,chainId:n}),v.push("/explore/all/".concat(t,"/").concat(n,"/").concat(s,"/").concat(y))}),[n,t,v,y,s]),k=(0,r.useMemo)((function(){return(0,d.createSubArrays)(o,h.COLLECTIBLES_PER_ROW)}),[o]),x=(0,c.useIsNFTNativeBuyEnabled)();return 0===k.length?(0,m.jsxs)(p.VStack,{alignItems:"center",gap:2,spacingHorizontal:6,testID:"collection-details-preview-empty-state",children:[(0,m.jsx)(f.TextTitle3,{as:"p",children:C(L.emptyCollectionMessage)}),(0,m.jsx)(f.TextBody,{as:"p",color:"foregroundMuted",align:"center",children:C(L.emptyCollectionDescription)})]}):(0,m.jsxs)(p.VStack,{gap:2,borderedTop:!0,width:"100%",spacingVertical:2,testID:"collection-details-preview",children:[(0,m.jsxs)(p.HStack,{width:"100%",alignItems:"center",justifyContent:"space-between",children:[(0,m.jsx)(f.TextTitle3,{as:"h3",testID:"collection-details-preview-title",children:C(L.exploreCollection)}),(0,m.jsx)(f.Link,{variant:"headline",onPress:I,testID:"collection-details-preview-see-all-link",children:C(L.seeAll)})]}),(0,m.jsx)(p.VStack,{width:"100%",justifyContent:"space-between",children:k.map((function(e,t){return(0,m.jsx)(p.HStack,{gap:2,children:e.map((function(e){return(0,m.jsx)(b.e,{item:e,chainId:n,index:t,isNFTNativeBuyEnabled:x},e.tokenId)}))},"row-container-".concat(t))}))})]})}v(I,"useIntl{{ formatMessage }}\nuseHistory{history}\nusePerfMarkOnMount{}\nuseCallback{handlePressSeeAll}\nuseMemo{tokens}\nuseIsNFTNativeBuyEnabled{isNFTNativeBuyEnabled}",(function(){return[a.Z,i.useHistory,g.V,c.useIsNFTNativeBuyEnabled]})),(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(y.register(L,"messages","/workspaces/apps/extension/src/screens/Explore/components/CollectionDetailsPreview/CollectionDetailsPreview.tsx"),y.register(I,"CollectionDetailsPreview","/workspaces/apps/extension/src/screens/Explore/components/CollectionDetailsPreview/CollectionDetailsPreview.tsx")),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&C(e)},553258:(e,t,o)=>{o.d(t,{Q:()=>C});var n,r=o(202784),s=o(239398),a=o(783112),i=o(107267),l=o(485233),c=o(670327),d=o(48972),u=o(252163),p=o(661641),f=o(552322);e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var g,h,b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},m=(0,s.defineMessages)({myNFTs:{id:"ZU6/qG",defaultMessage:[{type:0,value:"My NFTs"}]}}),y=3;function C(e){var t=e.walletTokens,o=e.chainId,n=(0,a.Z)().formatMessage,s=(0,i.useHistory)().push,g=(0,r.useCallback)((function(){var e=t[0].contractAddress;(0,l.logCollectionDetailsWalletTokensSeeAllClicked)({contractAddress:e,chainId:o}),s("/explore/myNFTs/".concat(e,"/").concat(o))}),[t,o,s]),h=(0,r.useMemo)((function(){if(t.length>y)return t.length-y}),[t.length]),b=t.slice(0,y);return(0,f.jsx)(d.Box,{spacingBottom:3,testID:"collection-details-wallet-tokens",width:"100%",children:(0,f.jsx)(u.PressableOpacity,{width:"100%",onPress:g,testID:"collection-details-wallet-tokens-button",children:(0,f.jsxs)(d.HStack,{background:"secondary",borderRadius:"rounded",spacingHorizontal:2,justifyContent:"space-between",alignItems:"center",height:56,width:"100%",children:[(0,f.jsx)(p.TextBody,{as:"p",children:n(m.myNFTs)}),(0,f.jsxs)(d.HStack,{position:"relative",spacingEnd:1,children:[b.map((function(e,t){return(0,f.jsx)(d.Box,{offsetEnd:1,zIndex:b.length-t,borderRadius:"rounded",borderColor:"secondary",bordered:!0,overflow:"hidden",testID:"collection-details-wallet-token",children:(0,f.jsx)(c.Vp,{width:"35px",height:"35px",cachedImageUrl:e.cachedImageUrl,contractAddress:e.contractAddress,emptyVariant:"avatar",chainId:o,hasBackground:!0,preview:!0,hasUnretrievableMetadata:e.hasUnretrievableMetadata})},e.tokenId)})),h?(0,f.jsx)(d.Box,{offsetEnd:1,borderRadius:"rounded",borderColor:"secondary",background:"backgroundOverlay",bordered:!0,overflow:"hidden",testID:"overflow-item",children:(0,f.jsx)(d.Box,{width:"35px",height:"35px",justifyContent:"center",alignItems:"center",children:(0,f.jsx)(p.TextLabel2,{as:"p",align:"center",children:"+".concat(h)})})},"overflow-item"):null]})]})})})}b(C,"useIntl{{ formatMessage }}\nuseHistory{{ push }}\nuseCallback{handlePressSection}\nuseMemo{walletTokenOverflow}",(function(){return[a.Z,i.useHistory]})),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(m,"messages","/workspaces/apps/extension/src/screens/Explore/components/CollectionDetailsWalletTokens/CollectionDetailsWalletTokens.tsx"),g.register(y,"MAX_WALLET_TOKENS","/workspaces/apps/extension/src/screens/Explore/components/CollectionDetailsWalletTokens/CollectionDetailsWalletTokens.tsx"),g.register(C,"CollectionDetailsWalletTokens","/workspaces/apps/extension/src/screens/Explore/components/CollectionDetailsWalletTokens/CollectionDetailsWalletTokens.tsx")),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)},617736:(e,t,o)=>{o.d(t,{e:()=>G});var n,r=o(202784),s=o(107267),a=o(485233),i=o(108389),l=o(101620),c=o(524801),d=o(759843),u=o(308315),p=o(32679),f=o(886855),g=o(976974),h=o(553476),b=o(40217),m=o(670327),y=o(606058),C=o(48972),v=o(110029),L=o(252163),I=o(661641),k=o(265065),x=o(820562),w=o(552322);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function D(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function T(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?D(Object(o),!0).forEach((function(t){j(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):D(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function j(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===E(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,s,a,i=[],l=!0,c=!1;try{if(s=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;l=!1}else for(;!(l=(n=s.call(o)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=o.return&&(a=o.return(),Object(a)!==a))return}finally{if(c)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var P,H,S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},O="12px";function _(){return(0,w.jsx)(C.Box,{testID:"empty-generic-collection-item",width:"30%"})}function G(e){var t,o=e.item,n=e.chainId,E=e.isNFTNativeBuyEnabled,D=(0,l.useCurrencyFormatter)(),j=D.formatToCrypto,M=D.formatToFiat,P=(0,s.useHistory)().push,H=A((0,h.useRecoilState)(p.collectionListingsCurrencyAtom),1)[0],S=(0,b.useExtensionPerfMark)(g.PERF_MARKS.nft_listing_detail,g.EXPLORE_MARKS.load_collectible_listing_detail,{logMetric:!0}).start,_=(0,r.useCallback)((function(e){return function(){if((0,a.logCollectionDetailsListingClicked)({contractAddress:e.contractAddress,tokenId:e.tokenId,chainId:n}),e instanceof d.CollectionListing)return E?(S(),void P("/explore/collectibleBuyListing/".concat(e.contractAddress,"/").concat(encodeURIComponent(e.tokenId),"/1/").concat(e.marketplace,"/").concat(e.offchainOrderId))):void chrome.tabs.create({url:e.externalLink,active:!0});e instanceof u.WalletCollectionToken?P("/portfolio/nftcommerce/".concat(encodeURIComponent(e.contractAddress),"/").concat(encodeURIComponent(e.tokenId),"/1/").concat(encodeURIComponent(n.toString()))):P("/portfolio/nftcommerce/".concat(encodeURIComponent(e.contractAddress),"/").concat(encodeURIComponent(e.tokenId),"/1/").concat(encodeURIComponent(n.toString()),"/collectionDetails"))}}),[n,P,E,S]),G=(0,r.useMemo)((function(){return H===p.CollectionListingsCurrency.ETH}),[H]),N=(0,r.useCallback)((function(e){return G?j({currencyCode:c.CurrencyCode.ETH,decimals:i.ETHEREUM_CURRENCY_DECIMAL,value:BigInt(e),maxDisplayDecimals:x.MAX_DISPLAY_DECIMALS,includeCode:!1,overridePrivacy:!0}):M(c.CurrencyCode.ETH,i.ETHEREUM_CURRENCY_DECIMAL,BigInt(e),!0,"",f.Network.fromChainId({chainPrefix:i.ETHEREUM_PREFIX,chainId:1n}),!0,!1,!0)}),[j,G,M]);return(0,w.jsx)(C.Box,{testID:"generic-collection-item",flexBasis:.33,spacingBottom:2,children:(0,w.jsx)(L.PressableOpacity,{testID:"generic-collection-item-pressable",onPress:_(o),children:(0,w.jsxs)(C.VStack,{gap:.5,children:[(0,w.jsx)(m.Vp,T(T({},o),{},{height:"".concat(x.COLLECTIBLE_ASSET_WIDTH,"px"),width:"".concat(x.COLLECTIBLE_ASSET_WIDTH,"px"),radius:"roundedLarge",chainId:n,preview:!0,hasBackground:!0,hasUnretrievableMetadata:o.hasUnretrievableMetadata})),(0,w.jsxs)(C.VStack,{width:x.COLLECTIBLE_ASSET_WIDTH,alignItems:"flex-start",children:[(0,w.jsx)(I.TextBody,{as:"p",overflow:"truncate",testID:"generic-collection-item-token-id",children:"# ".concat(o.tokenId)}),o instanceof d.CollectionListing?(0,w.jsxs)(C.HStack,{alignItems:"center",gap:.5,children:[(0,w.jsxs)(C.HStack,{alignItems:"center",justifyContent:"flex-start",children:[(0,w.jsx)(y.Icon,{testID:"generic-collection-item-icon",size:"xs",name:G?"ethereum":"cashUSD",color:"foreground"}),(0,w.jsx)(C.Box,{maxWidth:x.COLLECTIBLE_LISTING_PRICE_WIDTH,children:(0,w.jsx)(I.TextHeadline,{as:"p",overflow:"truncate",testID:"generic-collection-item-price",children:null!==(t=N(o.listingPrice))&&void 0!==t?t:x.STATS_FALLBACK})})]}),(0,w.jsx)(v.RemoteImage,{width:O,height:O,alt:"platform",source:(0,k.getPlatformIcon)(o.marketplace),shape:"squircle"})]}):null]})]})})},o.tokenId)}S(G,"useCurrencyFormatter{{ formatToCrypto, formatToFiat }}\nuseHistory{{ push }}\nuseRecoilState{[priceCurrency]}\nuseExtensionPerfMark{{ start: startLoadListingDetailPerfMark }}\nuseCallback{handlePressCollectible}\nuseMemo{isETHSelected}\nuseCallback{getListingPrice}",(function(){return[l.useCurrencyFormatter,s.useHistory,h.useRecoilState,b.useExtensionPerfMark]})),(P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(P.register(O,"ICON_SIZE","/workspaces/apps/extension/src/screens/Explore/components/GenericCollectionList/components/GenericCollectionItem.tsx"),P.register(_,"EmptyGenericCollectionItem","/workspaces/apps/extension/src/screens/Explore/components/GenericCollectionList/components/GenericCollectionItem.tsx"),P.register(G,"GenericCollectionItem","/workspaces/apps/extension/src/screens/Explore/components/GenericCollectionList/components/GenericCollectionItem.tsx")),(H="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&H(e)},833997:(e,t,o)=>{o.d(t,{LB:()=>f,_T:()=>p,td:()=>u});var n,r=o(202784),s=o(68333),a=o(465192),i=o(732385);e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var l,c,d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},u=3,p=4;function f(e){var t=e.contractAddress,o=e.chainId,n=e.walletAddress,l=(0,i.useCollectionDetails)({contractAddress:t,chainId:o}).refetch,c=(0,s.useCollectionListings)({contractAddress:t,chainId:o,limit:u}).refetch,d=(0,a.useWalletCollectionTokens)({contractAddress:t,chainId:o,walletAddress:n,limit:p}).refetch;return(0,r.useCallback)((function(){l(),c(),d()}),[l,c,d])}d(f,"useCollectionDetails{{ refetch: refetchCollectionDetails }}\nuseCollectionListings{{ refetch: refetchListings }}\nuseWalletCollectionTokens{{ refetch: refetchWalletCollectionTokens }}\nuseCallback{}",(function(){return[i.useCollectionDetails,s.useCollectionListings,a.useWalletCollectionTokens]})),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(u,"INIT_LISTINGS_LIMIT","/workspaces/libs/data/stores/Collection/hooks/useRefreshCollectionDetails.tsx"),l.register(p,"INIT_WALLET_TOKENS_LIMIT","/workspaces/libs/data/stores/Collection/hooks/useRefreshCollectionDetails.tsx"),l.register(f,"useRefreshCollectionDetails","/workspaces/libs/data/stores/Collection/hooks/useRefreshCollectionDetails.tsx")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},68333:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useCollectionListings=void 0;const n=o(202784),r=o(946813),s=o(29588),a=o(945135);t.useCollectionListings=function({contractAddress:e,chainId:t,page:o="",limit:i=18}){const l=(0,a.useIsAggregateListingsEnabled)(),c=(0,n.useMemo)((()=>l?"ALL":"CBNFT"),[l]);return(0,r.useInfiniteQuery)([s.FETCH_COLLECTION_LISTINGS,i,e],(async({pageParam:n=o})=>(0,s.getCollectionListings)(t,e,n||"",`${i}`,c)),{keepPreviousData:!0,getNextPageParam:e=>!!e.nextPage&&e.nextPage})}},935997:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useCollectionOpenseaLink=void 0;const n=o(602438),r=o(29588);t.useCollectionOpenseaLink=function({contractAddress:e,chainId:t,includeMarketplaceLinks:o}){return(0,n.useQuery)([r.FETCH_COLLECTION_OPENSEA_LINK,e,t],(async()=>(0,r.getCollectionOpenseaLink)(t,e)),{enabled:o})}},945135:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useIsAggregateListingsEnabled=void 0;const n=o(202784),r=o(214390),s=o(916589),a=o(990656),i=o(412581);t.useIsAggregateListingsEnabled=function(){const e=(0,r.useOverridableKillSwitch)((0,s.getKillSwitchByPlatform)("kill_switch_aggregate_listings")),t=(0,i.useIsNFTNativeBuyEnabled)(),o=(0,n.useMemo)((()=>(0,a.getPlatformName)()),[]);return"ios"===o||"android"===o?!e:!e&&t}},412581:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useIsNFTNativeBuyEnabled=void 0;const n=o(415363),r=o(214390),s=o(245556),a=o(633376);t.useIsNFTNativeBuyEnabled=function(){const e=(0,r.useOverridableKillSwitch)((0,s.getKillSwitchForPlatform)("kill_nft_native_buy"));return(0,a.useIsExperimentInTreatment)(n.experiments.jan_2023_wallet_nft_native_buy)&&!e}},759843:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionListing=void 0;t.CollectionListing=class{constructor(e){this.tokenId=e.tokenId,this.contractAddress=e.contractAddress,this.imageUrl=e.imageUrl,this.listingPrice=e.listingPrice,this.externalLink=e.externalLink,this.name=e.name,this.cachedImageUrl=e.cachedImageUrl,this.marketplace=e.marketplace,this.offchainOrderId=e.offchainOrderId,this.hasUnretrievableMetadata=e.hasUnretrievableMetadata}}},100427:(e,t,o)=>{t.g=void 0;const n=o(202784),r=o(68333),s=o(759843);t.g=function({contractAddress:e,chainId:t,page:o="",limit:a}){const{data:i,isLoading:l,isFetching:c,isFetchingNextPage:d,fetchNextPage:u,hasNextPage:p}=(0,r.useCollectionListings)({contractAddress:e,chainId:t,page:o,limit:a}),f=(0,n.useMemo)((()=>(i?.pages??[]).flatMap((e=>e.listings??[])).map((e=>new s.CollectionListing(e)))),[i?.pages]);return(0,n.useMemo)((()=>({listings:f,isLoading:l,isFetching:c,isFetchingNextPage:d,fetchNextPage:u,hasNextPage:p})),[l,d,u,f,c,p])}},428345:(e,t,o)=>{t.m=void 0;const n=o(202784),r=o(935997);t.m=function({contractAddress:e,chainId:t,includeMarketplaceLinks:o}){const{data:s,isInitialLoading:a}=(0,r.useCollectionOpenseaLink)({contractAddress:e,chainId:t,includeMarketplaceLinks:o});return(0,n.useMemo)((()=>({openseaLink:s?.link??"",isLoading:a})),[a,s])}},622021:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createSubArrays=void 0,t.createSubArrays=function(e,t){let o=[];return e.reduce(((e,n,r,s)=>(o.push(n),o.length!==t&&r!==s.length-1||(e.push(o),o=[]),e)),[])}}}]);
//# sourceMappingURL=170.js.map