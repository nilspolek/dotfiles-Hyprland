/*! For license information please see 6586.js.LICENSE.txt */
"use strict";(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[6586],{186387:(e,t,n)=>{n.d(t,{N:()=>I});var r,a=n(202784),o=n(239398),i=n(783112),s=n(348910),c=n(46290),u=n(404770),l=n(61517),d=n(255058),g=n(960723),f=n(941368),p=n(48972),h=n(661641),y=n(738244),m=n(391754),v=n(310666),b=n(749730),w=n(552322);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var S,M,E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},x="hw-trouble-connecting",L=(0,o.defineMessages)({tryAgainCTA:{id:"FazwRl",defaultMessage:[{type:0,value:"Try again"}]},backButtonAriaLabel:{id:"p72mKW",defaultMessage:[{type:0,value:"Go back"}]},errorMessage:{id:"29gmtd",defaultMessage:[{type:0,value:"Error: "},{type:1,value:"error"}]},havingTrouble:{id:"sPl3k8",defaultMessage:[{type:0,value:"Having trouble?"}]},gotIt:{id:"NYTGIb",defaultMessage:[{type:0,value:"Got it"}]}});function I(e){var t=e.statusCode,n=e.errorMessage,r=e.errorId,o=e.handleBack,S=(0,i.Z)().formatMessage,M=(0,y.useOnboardingStepper)().goBack,E=(0,s.L)();(0,v.log)("errorMessage:",n,"statusCode:",t,"errorId:",r);var I=(0,b.mapErrorToCopy)(t,r),T=(0,a.useCallback)((function(){o?o():M()}),[M,o]),O=(0,a.useCallback)((function(){(0,m.handleHavingTrouble)(c.AccountType.LEDGER)}),[]);return(0,w.jsxs)(p.VStack,{height:l.UV,justifyContent:"space-between",testID:"".concat(x,"-container"),children:[(0,w.jsxs)(p.VStack,{children:[(0,w.jsx)(p.Box,{offsetStart:1,children:(0,w.jsx)(g.IconButton,{testID:"".concat(x,"-back-btn"),name:"backArrow",onPress:T,transparent:!0,accessibilityLabel:S(L.backButtonAriaLabel)})}),(0,w.jsx)(p.VStack,{alignItems:"center",justifyContent:"flex-start",spacingTop:3,children:t===b.REJECTED_BY_USER_ERROR_CODE?(0,w.jsx)(f.SpotRectangle,{name:"ledgerSignatureRejected",scaleMultiplier:1}):(0,w.jsx)(d.m,{})})]}),(0,w.jsxs)(p.VStack,{gap:2,children:[(0,w.jsx)(h.TextTitle3,{as:"p",children:S(I[0])}),(0,w.jsx)(h.TextBody,{as:"p",color:E?"foreground":"foregroundMuted",children:S(I[1])}),void 0!==t&&!(0,b.isKnownError)(t)&&(0,w.jsx)(h.TextLabel2,{as:"p",children:S(L.errorMessage,{error:t})}),n&&(null==n?void 0:n.length)>0&&(0,w.jsx)(h.TextLabel1,{as:"p",children:S(L.errorMessage,{error:n})})]}),(0,w.jsxs)(p.VStack,{alignItems:"center",gap:2,children:[(0,w.jsx)(g.Button,{testID:"".concat(x,"-try-again-btn"),block:!0,onPress:T,children:t===b.UNSUPPORTED_SIGNING_CODE?S(L.gotIt):S(L.tryAgainCTA)}),(0,w.jsx)(u.j,{unset:!0,children:(0,w.jsx)(w.Fragment,{children:t!==b.UNSUPPORTED_SIGNING_CODE&&(0,w.jsx)(h.Link,{testID:"".concat(x,"-having-trouble"),variant:"body",color:"primary",onPress:O,children:S(L.havingTrouble)})})})]})]})}E(I,"useIntl{{ formatMessage }}\nuseOnboardingStepper{{ goBack }}\nuseMiamiIllustrationsEnabled{isMiamiIllustrationsEnabled}\nuseCallback{handleOnBackOrTryAgainPress}\nuseCallback{handleHavingTroublePress}",(function(){return[i.Z,y.useOnboardingStepper,s.L]})),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(S.register(x,"testIDPrefix","/workspaces/apps/extension/src/components/HardwareWallet/HWTroubleConnecting/HWTroubleConnecting.tsx"),S.register(L,"messages","/workspaces/apps/extension/src/components/HardwareWallet/HWTroubleConnecting/HWTroubleConnecting.tsx"),S.register(I,"HWTroubleConnecting","/workspaces/apps/extension/src/components/HardwareWallet/HWTroubleConnecting/HWTroubleConnecting.tsx")),(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&M(e)},834741:(e,t,n)=>{n.d(t,{G:()=>S});var r,a,o,i=n(202784),s=n(919630),c=n(727836),u=n(587617),l=n(178012),d=n(447018),g=n(749730),f=n(90825),p=n(622320),h=n(792329),y=n(552322);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function v(){v=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),s=new _(r||[]);return a(i,"_invoke",{value:O(e,n,s)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var g="suspendedStart",f="suspendedYield",p="executing",h="completed",y={};function b(){}function w(){}function S(){}var M={};u(M,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(C([])));x&&x!==n&&r.call(x,i)&&(M=x);var L=S.prototype=b.prototype=Object.create(M);function I(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(a,o,i,s){var c=d(e[a],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==m(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(l).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function O(t,n,r){var a=g;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var c=j(s,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===g)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=d(t,n,r);if("normal"===u.type){if(a=r.done?h:f,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function j(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,j(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(m(t)+" is not iterable")}return w.prototype=S,a(L,"constructor",{value:S,configurable:!0}),a(S,"constructor",{value:w,configurable:!0}),w.displayName=u(S,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,u(e,c,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},I(T.prototype),u(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new T(l(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},I(L),u(L,c,"Generator"),u(L,i,(function(){return this})),u(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(D),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return s.type="throw",s.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),D(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;D(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function b(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,s,"next",e)}function s(e){b(o,r,a,i,s,"throw",e)}i(void 0)}))}}function S(e){var t=e.message,n=e.typedDataJson,r=e.signSuccess,a=e.signError,o=e.derivationPath,m=(0,u.e3)(),b=(0,u.Kg)(),S=(0,i.useCallback)(w(v().mark((function e(){var i,u,f,y,m,w,S,M,E,x,L,I;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return",a(new Error("No derivation path was provided for ledger message.")));case 2:return e.prev=2,b(!0),e.next=6,navigator.hid.getDevices();case 6:if(0!==e.sent.filter((function(e){return e.vendorId===p.LEDGER_VENDOR_ID})).length){e.next=10;break}throw new c.LedgerError("TransportError",g.DEVICE_FAILED_TO_OPEN_CODE,void 0);case 10:return e.next=12,(0,h.getAddress)({derivationPath:o});case 12:if(i=e.sent,u=i.address,!n){e.next=25;break}return f=JSON.parse(n),!0,y=s.TypedDataUtils.sanitizeData(f),m=y.domain,w=y.types,S=y.primaryType,M=y.message,E=s.TypedDataUtils.hashStruct("EIP712Domain",m,w,true).toString("hex"),x=s.TypedDataUtils.hashStruct(S,M,w,true).toString("hex"),e.next=22,(0,h.signTypedDataMessage)({address:u,derivationPath:o,domainSeparatorHex:E,hashStructMessageHex:x});case 22:L=e.sent,b(!1),r((0,d.bufferFromHex)(L.signature));case 25:return e.next=27,(0,h.signMessage)({address:u,derivationPath:o,message:(0,l.strip0x)(t)});case 27:I=e.sent,b(!1),r((0,d.bufferFromHex)(I.signature)),e.next=36;break;case 32:e.prev=32,e.t0=e.catch(2),b(!1),a(e.t0);case 36:case"end":return e.stop()}}),e,null,[[2,32]])}))),[n,o,t,b,a,r]),M=(0,i.useMemo)((function(){return m?(0,y.jsx)(f.x,{onResend:S,requestType:"message"}):null}),[m,S]);return(0,i.useMemo)((function(){return{signMessageLedger:S,isSignMessageLedgerLoading:m,hardwareWalletScreen:M}}),[m,M,S])}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(S,"useIsHardwareWalletSigning{isHardwareWalletSigning}\nuseSetIsHardwareWalletSigning{setIsHardwareWalletSigning}\nuseCallback{signMessageLedger}\nuseMemo{hardwareWalletScreen}\nuseMemo{}",(function(){return[u.e3,u.Kg]})),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(S,"useSignMessageLedger","/workspaces/apps/extension/src/hooks/useSignMessageLedger/useSignMessageLedger.tsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},753554:(e,t,n)=>{n.r(t),n.d(t,{SignMessage:()=>de});var r,a=n(202784),o=n(239398),i=n(783112),s=n(60397),c=n(563774),u=n(166902),l=n(108389),d=n(53610),g=n(698431),f=n(21514),p=n(206175),h=n(805173),y=n(587617),m=n(938978),v=n(748991),b=n(518615),w=n(458123),S=n(888016),M=n(24388),E=n(178012),x=n(936803),L=n(687103),I=n(211763),T=n(352871),O=n(526388),j=n(790424),k=n(919166),D=n(854467),_=n(201324),C=n(57179),A=n(689103),P=n(324728),R=n(266332),G=n(960723),H=n(48972),N=n(661641),W=n(395545),B=n(186387),q=n(749730),F=n(732319),U=n(70801),V=n(834741),z=n(448978),Q=n(858508),Z=n(522586),J=n(180158),Y=n(757652),K=n(210449),X=n(310666),$=n(552322);function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(){te=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),s=new k(r||[]);return a(i,"_invoke",{value:I(e,n,s)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var g="suspendedStart",f="suspendedYield",p="executing",h="completed",y={};function m(){}function v(){}function b(){}var w={};u(w,i,(function(){return this}));var S=Object.getPrototypeOf,M=S&&S(S(D([])));M&&M!==n&&r.call(M,i)&&(w=M);var E=b.prototype=m.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function n(a,o,i,s){var c=d(e[a],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==ee(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(l).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function I(t,n,r){var a=g;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===g)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=d(t,n,r);if("normal"===u.type){if(a=r.done?h:f,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function T(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ee(t)+" is not iterable")}return v.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:v,configurable:!0}),v.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},x(L.prototype),u(L.prototype,s,(function(){return this})),t.AsyncIterator=L,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new L(l(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(E),u(E,c,"Generator"),u(E,i,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return s.type="throw",s.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function ne(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ne(o,r,a,i,s,"next",e)}function s(e){ne(o,r,a,i,s,"throw",e)}i(void 0)}))}}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ee(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ee(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var ue="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},le=(0,o.defineMessages)({message:{id:"nV7wyx",defaultMessage:[{type:0,value:"Message"}]},viewMessage:{id:"PtJZK+",defaultMessage:[{type:0,value:"Message data"}]},sign:{id:"rhTc67",defaultMessage:[{type:0,value:"Sign"}]},cancel:{id:"ISJVjg",defaultMessage:[{type:0,value:"Cancel"}]},title:{id:"9aVHbX",defaultMessage:[{type:0,value:"Confirm signature request"}]}});function de(e){var t,n,r=e.data,o=r.request,ee=r.kind,ne=r.dappURL,ae=r.eventId,ie=r.kind,ce=r.dappLogoURLAlt,ue=r.dappLogoURL,de=(0,x.safeParseUrl)(ne).hostname,ge=(0,v.useSanitizeMessageSigningRequest)(r.request,de),fe=(0,I.isEthereumWeb3Request)(ge),he=(0,g.useIsFeatureEnabled)("message_scanner"),ye=fe?l.ETHEREUM_SYMBOL:d.SOLANA_SYMBOL,me=(0,p.o)(r.request),ve=(0,M.N)({accountId:me,address:o.params.address,blockchainSymbol:ye}),be=(0,S.useGetWalletGroupForWallet)(),we=ve?be(ve):void 0,Se=null==we?void 0:we.hardwareDerivationPath,Me=(0,i.Z)().formatMessage,Ee=(0,h.useAccountById)(me),xe=Ee.isLedgerAccount,Le=Ee.hasLocallyStoredKey,Ie=(0,U.useHandleUnlockForTransaction)(),Te=(0,a.useContext)(F.H).disableConfirmButton,Oe=se((0,a.useState)(void 0),2),je=Oe[0],ke=Oe[1],De=(0,Y.useHandleNextQueuedRequest)(),_e=(0,K.B)(),Ce=(0,J.k)(),Ae=(0,y.e3)(),Pe=(0,y.Kg)(),Re=(0,f.Y)(b.ScannerService.MESSAGE_SCANNER).messagePreviewDisclaimer,Ge=(0,a.useMemo)((function(){var e=ge.params.message,t=ge.params,n=t.addPrefix,r=t.typedDataJson;return{addPrefix:n,sanitizedTypedDataJson:fe?r:null,readableMessage:n?(0,E.hexToUtf8)(e):e,sanitizedMessage:e,isSpecialMessage:!n&&!r&&fe}}),[ge,fe]),He=Ge.sanitizedTypedDataJson,Ne=Ge.readableMessage,We=Ge.sanitizedMessage,Be=Ge.isSpecialMessage,qe=Ge.addPrefix,Fe=(0,a.useMemo)((function(){return{dappLogoURL:ue,dappLogoURLAlt:ce,dappURL:ne}}),[ue,ce,ne]),Ue=(0,a.useMemo)((function(){var e,t,n,r,a,i,s,c,u=He?JSON.parse(He):null;return{request:o.method,dappURL:de,blockchain:ye,isMessageScannerEnabled:he,eip712DomainName:null!==(e=null==u||null===(t=u.domain)||void 0===t?void 0:t.name)&&void 0!==e?e:"",eip712DomainVersion:null!==(n=null==u||null===(r=u.domain)||void 0===r?void 0:r.version)&&void 0!==n?n:"",contractAddress:null!==(a=null==u||null===(i=u.domain)||void 0===i?void 0:i.verifyingContract)&&void 0!==a?a:"",chainId:null!==(s=null==u||null===(c=u.domain)||void 0===c?void 0:c.chainId)&&void 0!==s?s:"",eip712OfferType:u?(0,w.getOfferType)(u):""}}),[ye,de,he,o.method,He]);(0,c.useTriggerWeb3SignMessageRequestViewed)(Ue);var Ve=(0,L.is)({request:ge,accountId:me,activeAddress:null==ve?void 0:ve.primaryAddress,activeWalletIndex:null==ve?void 0:ve.selectedIndex});(0,a.useEffect)((function(){Te||(0,z.triggerWeb3RequestConfirmButtonEnabled)({dappURL:ne,request:ee,blockchain:ye})}),[ye,ne,Te,ee]);var ze=(0,a.useCallback)((function(e){Ce({eventId:ae,error:e,dappURL:ne,blockchain:ye,request:ie}),_e()?De():((0,W.sendScheduledEvents)(),window.close())}),[Ce,ae,ne,ye,ie,_e,De]),Qe=(0,a.useCallback)((function(e){(0,c.triggerWeb3SignMessageError)(oe(oe({},Ue),{},{errorName:e.name,errorMessage:e.message})),(0,X.log)(e),ze(e)}),[ze,Ue]),Ze=(0,a.useCallback)((function(){(0,c.triggerWeb3CancelMessageClicked)(Ue),ze(s.standardErrors.provider.userRejectedRequest({}))}),[ze,Ue]),Je=(0,u.useTriggerWeb3RequestSendingSuccessResponse)(Ue),Ye=(0,a.useCallback)(function(){var e=re(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fe){e.next=5;break}return e.next=3,(0,Q.y)(r,t,Je);case 3:e.next=7;break;case 5:return e.next=7,(0,Z.y)(r,t,Je);case 7:_e()?De():((0,W.sendScheduledEvents)(),window.close());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,De,_e,fe,Je]),Ke=(0,a.useCallback)((function(e){e.name.startsWith("Transport")?((0,X.log)(e),ke(e)):Qe(e)}),[Qe]),Xe=(0,V.G)({message:We,typedDataJson:He,signSuccess:Ye,signError:Ke,derivationPath:Se}),$e=Xe.signMessageLedger,et=Xe.isSignMessageLedgerLoading,tt=Xe.hardwareWalletScreen,nt=(0,a.useCallback)(re(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,c.triggerWeb3SignMessageClicked)(Ue),t=function(){Ve().then((function(e){Ye(e)})).catch((function(e){Qe(e)}))},!Le){e.next=6;break}Ie({accountId:me,unlockSuccess:t,unlockError:function(e){Qe(new Error("Unknown please try again"))}}),e.next=10;break;case 6:if(!xe){e.next=10;break}if(!fe){e.next=9;break}return e.abrupt("return",$e());case 9:Qe(new Error("Cannot sign request for Ledger: Unsupported blockchain"));case 10:case"end":return e.stop()}}),e)}))),[Ue,Le,xe,Ve,Ye,Qe,Ie,me,fe,$e]),rt=(0,a.useCallback)((function(){ke(void 0),Pe(!1)}),[Pe]),at=(0,a.useCallback)((function(e){return(0,$.jsx)(N.TextLabel2,{as:"span",color:"primary",children:e})}),[]),ot=(0,m.G)({signerAddress:null==ve?void 0:ve.primaryAddress,request:r.request,dappHostname:de,typedDataJson:He,addPrefix:qe,analyticsData:Ue,wrapInnerWarningText:at,chainId:null==ve||null===(t=ve.network.asChain())||void 0===t?void 0:t.chainId}),it=ot.messageScannerLoadStartTime,st=ot.resetLoadTimer,ct=ot.messageScannerData,ut=ot.warningMessage,lt=ot.isMessageScannerLoading,dt=ot.isMessageScannerError,gt=!!ct&&(ct.preAuthorizeOperations.length>0||ct.assetChangeOperations.length>0),ft=(0,a.useMemo)((function(){return ut||gt?"180px":"220px"}),[gt,ut]),pt=(0,a.useMemo)((function(){return(0,$.jsx)(H.Box,{bordered:!0,borderRadius:"roundedSmall",borderColor:"secondary",spacingHorizontal:1,spacingTop:1,flexGrow:1,overflow:"scroll",children:(0,$.jsx)(N.TextLabel2,{as:"div",color:"foregroundMuted",testID:"message-content",children:(0,$.jsx)("pre",{style:{whiteSpace:He?"pre-wrap":"normal",maxHeight:ft},className:pe,children:He||Ne})})})}),[ft,Ne,He]);if((Be||je||!fe)&&xe){var ht=q.UNSUPPORTED_SIGNING_CODE;return null!=je&&je.statusCode&&(ht=je.statusCode),(0,$.jsx)(H.VStack,{spacingHorizontal:3,spacingTop:3,children:(0,$.jsx)(B.N,{statusCode:ht,handleBack:rt})})}if(Ae)return tt;var yt=he&&!lt&&gt&&!dt,mt=he&&dt,vt=he&&lt;return(0,$.jsx)(j.lL,{height:"100%",header:(0,$.jsx)(T.l2,{variant:"secondary",title:Me(le.title)}),footer:(0,$.jsxs)(H.VStack,{background:"background",width:"100%",spacingBottom:2,spacingTop:2,children:[ut?(0,$.jsx)(A.r,{spacingBottom:.5,message:ut,isDismissible:!1,showErrorIcon:!0,testID:"sign-message-warning"}):null,(0,$.jsx)(H.VStack,{gap:2,testID:"button-area",spacingHorizontal:3,children:(0,$.jsxs)(G.ButtonGroup,{accessibilityLabel:"Group",block:!0,children:[(0,$.jsx)(G.Button,{testID:"cancel-message",onPress:Ze,block:!0,variant:"secondary",children:Me(le.cancel)}),(0,$.jsx)(G.Button,{testID:"sign-message",onPress:nt,block:!0,loading:et,disabled:Te,children:Me(le.sign)})]})})]}),children:(0,$.jsxs)(H.VStack,{height:"100%",testID:"signature-request-component",overflow:"auto",children:[we&&(0,$.jsx)(k.M,{walletGroup:we,signingAddress:ge.params.address}),(0,$.jsx)(D.F,{dappInfo:Fe}),(0,$.jsxs)(H.VStack,{spacingHorizontal:he?void 0:3,spacingBottom:1,height:"100%",children:[mt&&(0,$.jsx)(O.y,{analyticsData:Ue}),vt&&(0,$.jsx)(C.B,{operationSource:b.ScannerService.MESSAGE_SCANNER}),yt&&(0,$.jsx)(_.e,{parsedOperations:ct,userWalletAddress:null!==(n=null==ve?void 0:ve.primaryAddress)&&void 0!==n?n:"",analyticsData:Ue,resetLoadTimer:st,operationSource:b.ScannerService.MESSAGE_SCANNER,txScannerLoadStartTime:null==it?void 0:it.current}),yt?(0,$.jsx)(P.U,{testID:"message-container-accordion",children:(0,$.jsx)(R.Q,{itemKey:"1",title:Me(le.viewMessage),children:pt})}):(0,$.jsxs)(H.VStack,{spacingHorizontal:3,children:[(0,$.jsxs)(N.TextHeadline,{as:"p",spacingTop:1,spacingBottom:1,spacingEnd:1,children:[Me(le.message),":"]}),pt]}),yt&&(0,$.jsx)(N.TextLegal,{as:"p",color:"foregroundMuted",spacingTop:2,spacingBottom:1,spacingHorizontal:2,testID:"message-scanner-disclaimer",children:Re}),(0,$.jsx)(H.VStack,{})]})]})})}ue(de,"useSanitizeMessageSigningRequest{sanitizedRequest}\nuseIsFeatureEnabled{isMessageScannerEnabled}\nuseAccountIdFromWeb3Request{accountIdFromWeb3Request}\nuseSpecificWalletForAccountId{walletFromWeb3Request}\nuseGetWalletGroupForWallet{getWalletGroupForWallet}\nuseIntl{{\n    formatMessage\n  }}\nuseAccountById{{\n    isLedgerAccount,\n    hasLocallyStoredKey\n  }}\nuseHandleUnlockForTransaction{handleUnlockForTransaction}\nuseContext{{\n    disableConfirmButton\n  }}\nuseState{[ledgerError, setLedgerError](undefined)}\nuseHandleNextQueuedRequest{handleNextQueuedRequest}\nuseHasNextQueuedRequest{hasNextQueuedRequest}\nuseCancel{web3Cancel}\nuseIsHardwareWalletSigning{isHardwareWalletSigning}\nuseSetIsHardwareWalletSigning{setIsHardwareWalletSigning}\nuseTxPreviewMessages{{\n    messagePreviewDisclaimer\n  }}\nuseMemo{{\n    sanitizedTypedDataJson,\n    readableMessage,\n    sanitizedMessage,\n    isSpecialMessage,\n    addPrefix\n  }}\nuseMemo{dappInfo}\nuseMemo{analyticsData}\nuseTriggerWeb3SignMessageRequestViewed{}\nuseBuildDappMessageSignature{signMessage}\nuseEffect{}\nuseCallback{onCancel}\nuseCallback{onError}\nuseCallback{onReject}\nuseTriggerWeb3RequestSendingSuccessResponse{triggerWeb3RequestSendingSuccessResponse}\nuseCallback{onSignSuccess}\nuseCallback{signLedgerError}\nuseSignMessageLedger{{\n    signMessageLedger,\n    isSignMessageLedgerLoading,\n    hardwareWalletScreen\n  }}\nuseCallback{onSignMessage}\nuseCallback{handleLedgerErrorOnBack}\nuseCallback{wrapInnerWarningText}\nuseMessageScanner{{\n    messageScannerLoadStartTime,\n    resetLoadTimer,\n    messageScannerData,\n    warningMessage,\n    isMessageScannerLoading,\n    isMessageScannerError\n  }}\nuseMemo{messageContentHeight}\nuseMemo{messageContent}",(function(){return[v.useSanitizeMessageSigningRequest,g.useIsFeatureEnabled,p.o,M.N,S.useGetWalletGroupForWallet,i.Z,h.useAccountById,U.useHandleUnlockForTransaction,Y.useHandleNextQueuedRequest,K.B,J.k,y.e3,y.Kg,f.Y,c.useTriggerWeb3SignMessageRequestViewed,L.is,u.useTriggerWeb3RequestSendingSuccessResponse,V.G,m.G]}));var ge,fe,pe="pmv46nh";n(853977),(ge="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(ge.register(le,"messages","/workspaces/apps/extension/src/screens/Web3/SignMessage/SignMessage.tsx"),ge.register(de,"SignMessage","/workspaces/apps/extension/src/screens/Web3/SignMessage/SignMessage.tsx"),ge.register(pe,"preSpacing","/workspaces/apps/extension/src/screens/Web3/SignMessage/SignMessage.tsx")),(fe="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&fe(e)},122902:(e,t,n)=>{n.r(t),n.d(t,{triggerWeb3CancelMessageClicked:()=>p,triggerWeb3SignMessageClicked:()=>f,triggerWeb3SignMessageError:()=>h,useTriggerWeb3SignMessageRequestViewed:()=>g});var r,a,o,i=n(395545),s=n(160593);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){(0,s.useLogEventOnMount)("web3_request.sign_message.request_viewed",l({componentType:i.ComponentType.page,action:i.ActionType.view},e))}function f(e){(0,s.logEvent)("web3_request.sign_message.sign_message_clicked",l({componentType:i.ComponentType.button,action:i.ActionType.click},e),i.AnalyticsEventImportance.high)}function p(e){(0,s.logEvent)("web3_request.sign_message.cancel_message_clicked",l({componentType:i.ComponentType.button,action:i.ActionType.click},e),i.AnalyticsEventImportance.high)}function h(e){(0,s.logEvent)("web3_request.sign_message.error",l({componentType:i.ComponentType.unknown,action:i.ActionType.measurement},e),i.AnalyticsEventImportance.high)}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(g,"useLogEventOnMount{}",(function(){return[s.useLogEventOnMount]})),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(a.register(g,"useTriggerWeb3SignMessageRequestViewed","/workspaces/libs/analytics/sign-message/SignMessage.tsx"),a.register(f,"triggerWeb3SignMessageClicked","/workspaces/libs/analytics/sign-message/SignMessage.tsx"),a.register(p,"triggerWeb3CancelMessageClicked","/workspaces/libs/analytics/sign-message/SignMessage.tsx"),a.register(h,"triggerWeb3SignMessageError","/workspaces/libs/analytics/sign-message/SignMessage.tsx")),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},938978:(e,t,n)=>{n.d(t,{G:()=>H});var r,a=n(202784),o=n(239398),i=n(783112),s=n(196535),c=n(805719),u=n(101620),l=n(698431),d=n(214390),g=n(602438),f=n(211763),p=n(405634),h=n(160417),y=n.n(h),m=n(525492),v=n(518615),b=n(305798),w=n(458123),S=n(894185),M=n(752996),E=n(609085),x=n(748991),L=n(311520);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function T(){T=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),s=new _(r||[]);return a(i,"_invoke",{value:O(e,n,s)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var g="suspendedStart",f="suspendedYield",p="executing",h="completed",y={};function m(){}function v(){}function b(){}var w={};u(w,i,(function(){return this}));var S=Object.getPrototypeOf,M=S&&S(S(C([])));M&&M!==n&&r.call(M,i)&&(w=M);var E=b.prototype=m.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function n(a,o,i,s){var c=d(e[a],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==I(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(l).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function O(t,n,r){var a=g;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var c=j(s,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===g)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=d(t,n,r);if("normal"===u.type){if(a=r.done?h:f,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function j(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,j(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(I(t)+" is not iterable")}return v.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:v,configurable:!0}),v.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},x(L.prototype),u(L.prototype,s,(function(){return this})),t.AsyncIterator=L,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new L(l(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(E),u(E,c,"Generator"),u(E,i,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(D),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return s.type="throw",s.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),D(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;D(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function O(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function j(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==I(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===I(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var A,P,R="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},G=(0,o.defineMessages)({specialSignatureDisclaimer:{id:"iQc2re",defaultMessage:[{type:0,value:"This type of request is sometimes used for malicious purposes. Only sign if you fully trust this site with access to your account"}]},seaportDisclaimer:{id:"RjXE/h",defaultMessage:[{type:0,value:"Warning: this dapp will remove crypto and NFTs from your wallet. Be sure you trust it."}]},forkWarningDisclaimer:{id:"m5H7GR",defaultMessage:[{type:0,value:"This request could possibly be replayed on a fork of Ethereum. Please verify the dapp."}]},variableAmountSendWarning:{id:"/7heCM",defaultMessage:[{type:0,value:"This order has a variable amount of "},{type:1,value:"variableAmount"},{type:0,value:". If the order is not immediately filled you may send less than the estimate above."}]},variableAmountReceiveWarning:{id:"bAd/Ws",defaultMessage:[{type:0,value:"This order has a variable amount of "},{type:1,value:"variableAmount"},{type:0,value:". If the order is not immediately filled you may receive less than the estimate above."}]},variableQuantitySendWarning:{id:"yDVVNn",defaultMessage:[{type:0,value:"This order has a variable quantity of "},{type:1,value:"variableAmount"},{type:0,value:" items. If the order is not immediately filled you may send less than the estimate above."}]},variableQuantityReceiveWarning:{id:"y0HD9o",defaultMessage:[{type:0,value:"This order has a variable quantity of "},{type:1,value:"variableAmount"},{type:0,value:" items. If the order is not immediately filled you may receive less than the estimate above."}]}});function H(e){var t=e.signerAddress,n=e.request,r=e.dappHostname,o=e.typedDataJson,h=e.addPrefix,I=e.analyticsData,k=e.wrapInnerWarningText,D=e.chainId,C=(0,s.NL)(),A=(0,E.A)(),P=(0,i.Z)().formatMessage,R=(0,l.useIsFeatureEnabled)("message_scanner"),H=!(0,d.useOverridableKillSwitch)("kill_switch_eth_pow_fork_warning"),N=(0,l.useIsFeatureEnabled)("seaport_warning"),W=(0,u.useCurrencyFormatter)().formatToCrypto,B=(0,a.useRef)(),q=(0,a.useCallback)((function(){B.current=void 0}),[B]),F=(0,f.isEthereumWeb3Request)(n),U=(0,a.useMemo)((function(){if(o&&""!==o){var e=JSON.parse(o);return{typedDataJsonParsed:e,encodedJsonMessage:JSON.stringify(e,null,0),signTypedDataVersion:(0,x.getSignTypedDataVersion)(e,n.params.message)}}return{typedDataJsonParsed:void 0,encodedJsonMessage:void 0,messageType:void 0}}),[o,n]),V=U.typedDataJsonParsed,z=U.encodedJsonMessage,Q=U.signTypedDataVersion,Z=(0,a.useMemo)((function(){return R&&F&&!!z&&!!t&&!!Q}),[R,z,F,t,Q]),J=(0,a.useMemo)((function(){return["MESSAGE_SCANNER_API_RESULT",p.createHash("md5").update(null!=z?z:"").digest("hex")]}),[z]),Y=(0,L.d)({queryClient:C,queryKey:J,logTimeout:c.logMessageScanTimeout,scannerService:v.ScannerService.MESSAGE_SCANNER}),K=Y.startRequestTimeout,X=Y.clearRequestTimeout,$=Y.hasRequestTimedOut,ee=(0,a.useCallback)((function(e){var t,n,r=_(_({},I),{},{errorMessage:null==e||null===(t=e.message)||void 0===t?void 0:t.toString(),errorCode:null==e?void 0:e.code.toString(),errorStatus:null==e||null===(n=e.status)||void 0===n?void 0:n.toString()});(0,c.logMessageScanError)(r)}),[I]),te=(0,a.useCallback)((function(e){var n=(0,M.parseOperations)(e.decodedMessage.operations||[],I),r=(0,b.s)(n,t),a=(0,S.getOperationAnalyticsType)(r);return A(r.assetChangeOperations,D),(0,c.logMessageScanSuccessfullyParsedOperations)(_(_({},I),{},{numberOfOperations:a.numberOfOperations,operationType:a.operationType})),{operations:r}}),[I,A,t,D]),ne=(0,a.useCallback)((function(e){var t=(null==e?void 0:e.operations)||{},n=t.preAuthorizeOperations,r=t.assetChangeOperations;if(null!=n&&n.length||null!=r&&r.length){var a=y()([].concat(j(n),j(r))).map((function(e){return e.operationType})),o=_(_({},I),{},{operationTypes:a.join(",")});a.length?(0,c.logMessageScanSuccess)(o):(0,c.logMessageScanInvalidQuery)(o)}}),[I]),re=(0,g.useQuery)(J,function(){var e,n=(e=T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B.current=Date.now(),(0,c.logMessageScanInvoked)(I),K(I),e.abrupt("return",(0,m.ND)(null!=t?t:"",null!=z?z:"",null!=Q?Q:"v1"));case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,s,"next",e)}function s(e){O(o,r,a,i,s,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}(),{staleTime:6e4,enabled:Z,retry:!1,refetchOnWindowFocus:!1,onError:ee,onSuccess:ne,select:te,onSettled:X}),ae=re.data,oe=re.isInitialLoading,ie=re.isError,se=(0,a.useMemo)((function(){if(F){if(!h&&!V)return P(G.specialSignatureDisclaimer);if(!V)return;var e=(0,w.isSeaportType)(V)&&(0,w.hasOffersOrConsiderations)(V)&&N,n=(0,w.shouldShowForkWarning)(V)&&H;if((0,c.logMessageScannerData)(_(_({},I),{},{forkWarningShown:n})),e&&"opensea.io"!==r)return P(G.seaportDisclaimer);if(n)return P(G.forkWarningDisclaimer);if(!R)return;if(null!=ae&&ae.operations.assetChangeOperations){var a=ae.operations.assetChangeOperations.find((function(e){return e.operationType===v.OperationType.BALANCE_TRANSFER_RANGE&&e.startAmountValue!==e.endAmountValue})),o=ae.operations.assetChangeOperations.find((function(e){return e.operationType===v.OperationType.ITEM_TRANSFER&&"undefined"!==e.startQuantity&&"undefined"!==e.endQuantity&&e.startQuantity!==e.endQuantity}));if(a){var i=a.fromAddress.toLowerCase()===(null==t?void 0:t.toLowerCase()),s=Number(a.startAmountValue),u=Number(a.endAmountValue),l=BigInt(Math.min(s,u)),d=BigInt(Math.max(s,u)),g=W({currencyCode:a.currencyCode,decimals:a.decimals,value:l,includeCode:!1}),f=W({currencyCode:a.currencyCode,decimals:a.decimals,value:d,includeCode:!1}),p="".concat(g," - ").concat(f," ").concat(a.currencyCode.code),y=k(p),m=i?G.variableAmountSendWarning:G.variableAmountReceiveWarning;return P(m,{variableAmount:y})}if(o){var b=o.fromAddress.toLowerCase()===(null==t?void 0:t.toLowerCase()),S=Number(o.startQuantity),M=Number(o.endQuantity),E=BigInt(Math.min(S,M)),x=BigInt(Math.max(S,M)),L="".concat(E," - ").concat(x),T=k(L),O=b?G.variableQuantitySendWarning:G.variableQuantityReceiveWarning;return P(O,{variableAmount:T})}}}}),[F,h,V,N,H,I,R,null==ae?void 0:ae.operations.assetChangeOperations,P,r,t,W,k]);return{messageScannerLoadStartTime:B,resetLoadTimer:q,messageScannerData:null==ae?void 0:ae.operations,warningMessage:se,isMessageScannerLoading:oe,isMessageScannerError:ie||$}}R(H,"useQueryClient{queryClient}\nuseFetchExchangeRatesForOperations{fetchExchangeRatesForOperations}\nuseIntl{{ formatMessage }}\nuseIsFeatureEnabled{isMessageScannerEnabled}\nuseKillSwitch{}\nuseIsFeatureEnabled{isSeaportWarningEnabled}\nuseCurrencyFormatter{{ formatToCrypto }}\nuseRef{messageScannerLoadStartTime}\nuseCallback{resetLoadTimer}\nuseMemo{{ typedDataJsonParsed, encodedJsonMessage, signTypedDataVersion }}\nuseMemo{shouldRunMessageScanner}\nuseMemo{queryKey}\nuseStartRequestTimeout{{ startRequestTimeout, clearRequestTimeout, hasRequestTimedOut }}\nuseCallback{onMessageScanError}\nuseCallback{onMessageScanSelect}\nuseCallback{onMessageScanSuccess}\nuseQuery{{ data, isInitialLoading, isError }}\nuseMemo{warningMessage}",(function(){return[s.NL,E.A,i.Z,l.useIsFeatureEnabled,d.useOverridableKillSwitch,l.useIsFeatureEnabled,u.useCurrencyFormatter,L.d,g.useQuery]})),(A="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(A.register(G,"messages","/workspaces/libs/data/stores/TxScanner/hooks/useMessageScanner.tsx"),A.register(H,"useMessageScanner","/workspaces/libs/data/stores/TxScanner/hooks/useMessageScanner.tsx")),(P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&P(e)},526388:(e,t,n)=>{n.d(t,{y:()=>p});var r,a=n(202784),o=n(805719),i=n(106921),s=n(586421),c=n(48972),u=n(661641),l=n(552322);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var d,g,f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},p=(0,a.memo)(f((function(e){(0,o.useLogMessageScannerErrorLoaded)(e.analyticsData);var t=(0,i.w)(),n=t.mainTitle,r=t.textBody;return(0,l.jsx)(c.Box,{flexDirection:"column",background:"backgroundAlternate",spacingHorizontal:2,spacingVertical:2,testID:"message-scanner-error",children:(0,l.jsx)(c.VStack,{children:(0,l.jsxs)(c.HStack,{justifyContent:"space-between",children:[(0,l.jsx)(s.Icon,{testID:"dapp-message-safety-tooltip-icon",name:"visibleActive",size:"s",color:"foregroundMuted",spacingEnd:2,spacingTop:.5}),(0,l.jsxs)(c.VStack,{children:[(0,l.jsx)(u.TextHeadline,{as:"h4",children:n}),(0,l.jsx)(u.TextBody,{as:"p",color:"foregroundMuted",spacingTop:1,children:r})]})]})})})}),"useLogMessageScannerErrorLoaded{}\nuseMessageScannerErrorCopy{{ mainTitle, textBody }}",(function(){return[o.useLogMessageScannerErrorLoaded,i.w]})));(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&d.register(p,"MessageScannerError","/workspaces/libs/wallet-cds-extension/components/MessageScannerError/MessageScannerError.tsx"),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)},689103:(e,t,n)=>{n.d(t,{r:()=>w});var r=n(202784),a=n(960723),o=n(586421),i=n(48972),s=n(661641),c=n(552322);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}e=n.hmd(e);var l,d,g,f=["isDismissible","showErrorIcon","message","learnMore","testID","showTextInRed"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function w(e){var t=e.isDismissible,n=e.showErrorIcon,u=e.message,l=e.learnMore,d=e.testID,g=e.showTextInRed,p=b(e,f),y=m((0,r.useState)(!0),2),v=y[0],w=y[1],S=(0,r.useCallback)((function(){w(!1)}),[]),M=(0,r.useCallback)((function(){chrome.tabs.create({url:null==l?void 0:l.url,active:!1})}),[l]),E=(0,r.useMemo)((function(){return(0,c.jsxs)(s.TextLabel2,{testID:d,as:"p",color:g?"negative":void 0,children:[u,l&&(0,c.jsxs)(c.Fragment,{children:["\xa0",(0,c.jsx)(s.Link,{variant:"label2",onClick:M,children:l.label})]})]})}),[l,d,g,u,M]);return v?(0,c.jsxs)(i.VStack,h(h({},p),{},{testID:"warning-banner",children:[(0,c.jsx)(i.Divider,{direction:"horizontal",width:"100%"}),(0,c.jsx)(i.HStack,{alignItems:"center",spacingVertical:.5,spacingHorizontal:3,children:(0,c.jsxs)(i.HStack,{alignItems:"center",spacingVertical:1,tabIndex:0,children:[n&&(0,c.jsx)(o.Icon,{name:"warning",size:"s",color:"negative",spacingEnd:2,testID:"warning-icon"}),E,t&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.Spacer,{}),(0,c.jsx)(a.IconButton,{testID:"close-icon-button",transparent:!0,name:"close",variant:"foregroundMuted",onPress:S})]})]})})]})):null}(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&l(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(w,"useState{[isErrorVisible, setIsErrorVisible](true)}\nuseCallback{onDismissError}\nuseCallback{onClickLearnMore}\nuseMemo{description}"),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&d.register(w,"WarningBanner","/workspaces/libs/wallet-cds-extension/components/WarningBanner/WarningBanner.tsx"),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)},255058:(e,t,n)=>{n.d(t,{m:()=>u});const r="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQwIiBoZWlnaHQ9IjEyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBjbGlwLXBhdGg9InVybCgjYSkiPjxwYXRoIGQ9Ik0yIDg4aDIxMGMxNS41IDAgMjgtMTIuNSAyOC0yOHMtMTIuNS0yOC0yOC0yOEgyYy0xLjEgMC0yIC45LTIgMnY1MmMwIDEuMS45IDIgMiAyWiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik02NCAxMjBoMTEyVjBINjR2MTIwWiIgZmlsbD0idXJsKCNiKSIvPjxwYXRoIGQ9Ik0xNzYgMzJINjR2NTZoMTEyVjMyWiIgZmlsbD0iIzBBMEIwRCIvPjxwYXRoIGQ9Ik0yMTIgODBjMTEuMDQ2IDAgMjAtOC45NTQgMjAtMjBzLTguOTU0LTIwLTIwLTIwLTIwIDguOTU0LTIwIDIwIDguOTU0IDIwIDIwIDIwWiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0yMTIgNzJjNi42MjcgMCAxMi01LjM3MyAxMi0xMnMtNS4zNzMtMTItMTItMTItMTIgNS4zNzMtMTIgMTIgNS4zNzMgMTIgMTIgMTJaIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIi8+PHBhdGggZD0ibTIxMi4wNjcgNTUuODI2LTQuMTcxIDQuMTcyIDQuMTcxIDQuMTcyIDQuMTcyLTQuMTcyLTQuMTcyLTQuMTcyWiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik01NiA3MkgyNE01NiA2My45SDI0TTU2IDU2SDI0TTU2IDQ4SDI0TTE2IDg4VjMyIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIi8+PHBhdGggZD0iTTE2MCA4OEg4MGw0MC01NiA0MCA1NloiIGZpbGw9IiNGRkQyMDAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTExOC41IDczVjQ3aDN2MjZoLTNaTTExOC41IDgydi01aDN2NWgtM1oiIGZpbGw9IiMwQTBCMEQiLz48L2c+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJiIiB4MT0iNzcuNSIgeTE9IjcyIiB4Mj0iMTY2LjUiIHkyPSIxMS41IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agc3RvcC1jb2xvcj0iI0VCQ0VGOCIvPjxzdG9wIG9mZnNldD0iLjkwNSIgc3RvcC1jb2xvcj0iI0E1MjRGQyIvPjwvbGluZWFyR3JhZGllbnQ+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDI0MHYxMjBIMHoiLz48L2NsaXBQYXRoPjwvZGVmcz48L3N2Zz4=";var a,o=n(386744),i=n(552322);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var s,c;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function u(e){var t=e.alt,n=e.scaleMultiplier,a=void 0===n?1:n,s=a*o.zB.width,c=a*o.zB.height;return(0,i.jsx)("img",{src:r,alt:t,"data-testid":"ledger-error-miami",width:s,height:c})}(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&s.register(u,"LedgerErrorMiami","/workspaces/libs/wallet-cds-web/components/MiamiIllustrationWrapper/MiamiIllustrations/LedgerErrorMiami.tsx"),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},853977:(e,t,n)=>{n.r(t)},437168:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WalletLinkExtensionConnectionResponse=void 0,function(e){e.web3RequestCanceled="web3RequestCanceled",e.parentDisconnected="parentDisconnect"}(t.WalletLinkExtensionConnectionResponse||(t.WalletLinkExtensionConnectionResponse={}))},441090:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionConnectionResponse=void 0,function(e){e.requestEthereumAccountsResponse="requestEthereumAccountsResponse",e.addEthereumChainDeny="addEthereumChainDeny",e.addEthereumChainApprove="addEthereumChainApprove",e.switchEthereumChainDeny="switchEthereumChainDeny",e.switchEthereumChainApprove="switchEthereumChainApprove",e.signEthereumMessageSuccess="signEthereumMessageSuccess",e.signEthereumTransactionSuccess="signEthereumTransactionSuccess",e.submitEthereumTransactionSuccess="submitEthereumTransactionSuccess",e.watchAssetApprove="watchAssetApprove",e.watchAssetDeny="watchAssetDeny",e.selectProviderApprove="selectProviderApprove",e.selectProviderDeny="selectProviderDeny",e.dappChainSwitched="dappChainSwitched"}(t.ExtensionConnectionResponse||(t.ExtensionConnectionResponse={}))},70801:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useHandleUnlockForTransaction=void 0;const a=n(929148),o=r(n(334291)),i=n(870769),s=n(892254),c=n(427052);t.useHandleUnlockForTransaction=function(){const e=(0,a.useActiveAccountId)();return(0,s.useObservableCallback)(((t,{accountId:n,unlockSuccess:r,unlockError:a=o.default})=>{t&&t.unsubscribe();const s=n||e;return c.appLockRepository.unlock({...i.AppLockTypes.TransactionAccess,accountId:s}).subscribe((({status:e})=>{"SUCCESS"===e?r?.():a(new Error("Unlock Failed"))}),(e=>{a(e)}))}),[e])}},720126:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OnboardingSteps=void 0;const r=n(735103),a=["loading","entry","username","backup","verify","password","success","import","importOrLink","link","scanQr","select-device","select-account","ledger-signing","ledger-connect-device","trezor-connect-device","ledger-success","hwTroubleConnecting","subdomain-cta","subdomain-education","subdomain-claim-success","subdomain-avatar","subdomain-basic-profile"],o=new URLSearchParams(window.location.search).get("step"),i=a.find((e=>e===o));t.OnboardingSteps=(0,r.createStepper)({steps:a,defaultStep:i??"loading"})},738244:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useOnboardingStepper=void 0;const r=n(735103),a=n(720126);t.useOnboardingStepper=function(){return(0,r.useStepper)(a.OnboardingSteps)}},858508:(e,t,n)=>{t.y=void 0;const r=n(263678),a=n(108389),o=n(447018),i=n(441090);t.y=async function(e,t,n){n({request:i.ExtensionConnectionResponse.signEthereumMessageSuccess,dappURL:e.dappURL,blockchain:a.ETHEREUM_SYMBOL}),await chrome.runtime.sendMessage({type:"extensionUIResponse",data:{id:e.eventId,action:i.ExtensionConnectionResponse.signEthereumMessageSuccess,signature:(0,r.ensureHexString)((0,o.hexFromBuffer)(t),!0),blockchain:a.ETHEREUM_SYMBOL}})}},522586:(e,t,n)=>{t.y=void 0;const r=n(53610),a=n(46668);t.y=async function(e,t,n){n({request:a.SolanaWeb3Response.signMessageSuccess,dappURL:e.dappURL,blockchain:r.SOLANA_SYMBOL}),await chrome.runtime.sendMessage({type:"extensionUIResponse",data:{id:e.eventId,action:a.SolanaWeb3Response.signMessageSuccess,response:{signature:[...new Uint8Array(t)]},blockchain:r.SOLANA_SYMBOL}})}},180158:(e,t,n)=>{t.k=void 0;const r=n(202784),a=n(60397),o=n(437168),i=n(448978);t.k=function(){return(0,r.useCallback)((async function({eventId:e,error:t,dappURL:n,blockchain:r,request:s}){return new Promise((c=>{(0,i.triggerWeb3RequestSendingCancelledResponse)({request:s,dappURL:n,errorMessage:t.message,errorName:t.name,blockchain:r}),chrome.runtime.sendMessage({type:"extensionUIResponse",data:{id:e,action:o.WalletLinkExtensionConnectionResponse.web3RequestCanceled,error:(0,a.serializeError)(t,s),blockchain:r}},(()=>c()))}))}),[])}},210449:(e,t,n)=>{t.B=void 0;const r=n(202784),a=n(553476),o=n(757652);t.B=function(){const e=(0,a.useRecoilValue)(o.queuedRequestsAtom);return(0,r.useCallback)((()=>e.length>0),[e])}},951797:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useLogMessageScannerErrorLoaded=t.logMessageScannerData=t.logMessageScanInvalidQuery=t.logMessageScanTimeout=t.logMessageScanError=t.logMessageScanSuccessfullyParsedOperations=t.logMessageScanSuccess=t.logMessageScanInvoked=t.triggerMismatchedSanitizedData=t.triggerMismatchedMessageForTypedData=void 0;const r=n(395545),a=n(175747),o=n(160593),i="scan_message.web3_request.mismatched_message_for_type_data",s="scan_message.web3_request.mismatched_sanitized_data_for_type_data",c="scan_message.web3_request.scanned_message_info",u="scan_message.web3_request.scan_message_error_component_loaded",l="scan_message.web3_request.scan_message_invoked",d="scan_message.web3_request.scan_message_success",g="scan_message.web3_request.scan_message_successfully_parsed_operations",f="scan_message.web3_request.scan_message_timeout",p="scan_message.web3_request.scan_message_invalid_query",h="scan_message.web3_request.scan_message_error";t.triggerMismatchedMessageForTypedData=function(e){(0,o.logDataEvent)(i,{dappURL:(0,a.getHostNameForDapp)(e)})},t.triggerMismatchedSanitizedData=function(e){(0,o.logDataEvent)(s,{dappURL:(0,a.getHostNameForDapp)(e)})},t.logMessageScanInvoked=function(e){(0,o.logDataEvent)(l,{action:r.ActionType.measurement,componentType:r.ComponentType.unknown,...e})},t.logMessageScanSuccess=function(e){(0,o.logDataEvent)(d,{action:r.ActionType.measurement,componentType:r.ComponentType.unknown,...e})},t.logMessageScanSuccessfullyParsedOperations=function(e){(0,o.logDataEvent)(g,{action:r.ActionType.measurement,componentType:r.ComponentType.unknown,...e})},t.logMessageScanError=function(e){(0,o.logDataEvent)(h,{action:r.ActionType.measurement,componentType:r.ComponentType.unknown,...e})},t.logMessageScanTimeout=function(e){(0,o.logDataEvent)(f,{action:r.ActionType.measurement,componentType:r.ComponentType.unknown,...e})},t.logMessageScanInvalidQuery=function(e){(0,o.logDataEvent)(p,{action:r.ActionType.measurement,componentType:r.ComponentType.unknown,...e})},t.logMessageScannerData=function(e){(0,o.logDataEvent)(c,{action:r.ActionType.measurement,componentType:r.ComponentType.unknown,...e})},t.useLogMessageScannerErrorLoaded=function(e){(0,o.useLogEventOnMount)(u,{action:r.ActionType.render,componentType:r.ComponentType.unknown,...e})}},805719:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(951797),t)},563774:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(122902),t)},175747:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getHostNameForDapp=void 0,t.getHostNameForDapp=function(e,t=!1){let n="";try{n=new URL(e).hostname.toLocaleLowerCase(),t&&(n=n.replace("www.",""))}catch{n=""}return n}},687103:(e,t,n)=>{var r=n(348834).Buffer;t.is=t.kQ=void 0;const a=n(202784),o=n(446101),i=n(529225),s=n(163785),c=n(211519),u=n(671210),l=n(211763),d=n(447018);t.kQ=66,t.is=function({activeAddress:e,activeWalletIndex:n,request:g,accountId:f}){const p=(0,c.useEthMainnetWallets)(),h=(0,u.useSolanaWallets)();return(0,a.useCallback)((async function(){const{address:a}=g.params,c=(0,l.isEthereumWeb3Request)(g);let u;const y=c?p:h;let m=n;if(a.toLowerCase()!==e?.toLowerCase()){const e=y?.find((e=>e.primaryAddress.toLowerCase()===a.toLowerCase()));if(void 0===e)throw new Error("Could not find a valid wallet when searching for the address");m=e.selectedIndex}if(null==m)throw new Error("Active index is undefined");if(c){const{message:e,typedDataJson:n,addPrefix:r}=g.params;if(n&&e.length>t.kQ)throw new Error(`Refusing to sign a typed data message of length ${e.length}`);const a=(0,o.ethereumAddressDerivationPath)(BigInt(m)),i=(0,s.getSigningOrDerivationMethodForAccount)(f,"signEthereumMessage");u=await i({message:(0,d.bufferFromHex)(e),derivationPath:a,accountId:f,addPrefix:r})}else{const{message:e}=g.params,t=(0,i.solanaAddressDerivationPath)(BigInt(m)),n=(0,s.getSigningOrDerivationMethodForAccount)(f,"signSolanaMessage");u=await n({message:r.from(e),derivationPath:t,accountId:f})}return u}),[g,p,h,n,e,f])}},211763:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isSolanaWeb3Request=t.isEthereumWeb3Request=void 0;const r=n(608814);t.isEthereumWeb3Request=function(e){return["addEthereumChain","ethereumAddressFromSignedMessage","requestEthereumAccounts","signEthereumMessage","signEthereumTransaction","switchEthereumChain","watchAsset"].includes(e.method)},t.isSolanaWeb3Request=function(e){return[r.SolanaWeb3Method.signMessage,r.SolanaWeb3Method.sendTransaction,r.SolanaWeb3Method.signTransaction,r.SolanaWeb3Method.signAllTransactions].includes(e.method)}},206175:(e,t,n)=>{t.o=void 0;const r=n(211519),a=n(671210),o=n(991876),i=n(822754),s=n(885197),c=n(211763);t.o=function(e){const t=(0,c.isEthereumWeb3Request)(e),n=t?i.EVM_PROVIDER_ID:s.SOLANA_PROVIDER_ID,u=o.DAPP_PROVIDER_PRIMARY_BLOCKCHAIN_MAPPING[t?i.EVM_PROVIDER_ID:s.SOLANA_PROVIDER_ID],l=(0,r.useEthMainnetWallets)(),d=(0,a.useSolanaWallets)(),{address:g}=e.params,f=t?l:d;if(!f)throw new Error("No wallets founds");const p=f?.find((e=>e.primaryAddress.toLowerCase()===g.toLocaleLowerCase()));if(!p)throw new Error(`Could not find a valid "${u}" wallet index when searching for the "${g}" address for the "${n}" dapp provider`);return p.accountId}},106921:(e,t,n)=>{t.w=void 0;const r=n(202784),a=n(239398),o=(0,a.defineMessages)({mainTitle:{id:"hXAvR/",defaultMessage:"Message preview unavailable"},fallbackTextBody:{id:"hQZOjA",defaultMessage:"Unable to estimate asset changes. Please make sure you trust this dapp."}});t.w=function(){const{formatMessage:e}=(0,a.useIntl)();return(0,r.useMemo)((()=>({mainTitle:e(o.mainTitle),textBody:e(o.fallbackTextBody)})),[e])}},748991:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useSanitizeMessageSigningRequest=t.getSignTypedDataVersion=void 0;const s=n(202784),c=o(n(919630)),u=n(805719),l=i(n(818149)),d=n(447018);function g(e,t){const n=(0,d.bufferFromHex)(t);try{if(c.default.hashForSignTypedDataLegacy({data:e}).equals(n))return"v1"}catch(e){}try{if(c.default.hashForSignTypedData_v3({data:e}).equals(n))return"v3"}catch(e){}try{if(c.default.hashForSignTypedData_v4({data:e}).equals(n))return"v4"}catch(e){}}t.getSignTypedDataVersion=g,t.useSanitizeMessageSigningRequest=function(e,t){return(0,s.useMemo)((function(){if("signEthereumMessage"!==e.method)return e;const{message:n,typedDataJson:r}=e.params;if(!r)return e;const a=JSON.parse(r);if(!g(a,n))throw(0,u.triggerMismatchedMessageForTypedData)(t),new Error("Illegal typed data for messsage");const o=c.TypedDataUtils.sanitizeData(a);return(0,l.default)(o,a)||(0,u.triggerMismatchedSanitizedData)(t),{...e,params:{...e.params,typedDataJson:JSON.stringify(o,null,1)}}}),[e,t])}},211519:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useEthMainnetWallets=void 0;const r=n(446101),a=n(331409);t.useEthMainnetWallets=function(){return(0,a.useUniqueWalletsByBlockchain)(r.EthereumBlockchain)}},671210:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useSolanaWallets=void 0;const r=n(529225),a=n(331409);t.useSolanaWallets=function(){return(0,a.useUniqueWalletsByBlockchain)(r.SolanaBlockchain)}},24388:(e,t,n)=>{t.N=void 0;const r=n(202784),a=n(484475),o=n(839668),i=n(524801),s=n(886855),c=n(313867);t.N=function({accountId:e,address:t,blockchainSymbol:n,contractAddress:u}){const l=a.blockchainConfigurations[n],d=(0,c.useAllWallets)();return(0,r.useMemo)((()=>{if(d)return d.find((n=>e===n.accountId&&t.toLowerCase()===n.primaryAddress.toLowerCase()&&s.Network.isEqual(n.network,l.networkSetting.defaultMainnet.network)&&o.Blockchain.isEqual(n.blockchain,l.blockchain)&&i.CurrencyCode.isEqual(n.currencyCode,l.currencyCode)&&(!u||n.contractAddress===u)))}),[e,t,u,l.blockchain,l.currencyCode,l.networkSetting.defaultMainnet.network,d])}},331409:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useUniqueWalletsByBlockchain=void 0;const r=n(202784),a=n(839668),o=n(553476),i=n(118912);t.useUniqueWalletsByBlockchain=function(e){const t=(0,o.useRecoilValue)(i.walletsArraySelector);return(0,r.useMemo)((()=>{const n=t.filter((t=>a.Blockchain.isEqual(t.blockchain,e)&&!t.isCustomNetwork()));return n.filter(((e,t)=>n.findIndex((t=>e.primaryAddress===t.primaryAddress))===t)).sort(((e,t)=>void 0!==e.selectedIndex&&void 0!==t.selectedIndex&&e.selectedIndex>t.selectedIndex?1:-1))}),[t,e])}},363218:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.convertWeiToEth=t.convertEthtoWei=t.convertGweiToWei=t.convertWeiToGwei=t.FormatCurrencySymbol=t.checkInsufficientFunds=t.getDownScaledDecimal=t.getScaledDecimal=t.BLACK_HOLE_ADDRESS=void 0;const r=n(218705),a=n(952180);function o(e,t){const n=new a.Decimal(e),r=new a.Decimal(10).pow(Number(t));return n.mul(r)}function i(e,t){const n=new a.Decimal(e||0),r=new a.Decimal(10).pow(Number(t));return n.div(r)}a.Decimal.set({precision:100}),t.BLACK_HOLE_ADDRESS="0x0000000000000000000000000000000000000000",t.getScaledDecimal=o,t.getDownScaledDecimal=i,t.checkInsufficientFunds=function(e,t){const n=(0,r.bigIntToDecimal)(e),a=(0,r.bigIntToDecimal)(t);return n.greaterThan(a)},t.FormatCurrencySymbol=function(e){return t.BLACK_HOLE_ADDRESS,"ETH"},t.convertWeiToGwei=function(e){const t=o(e.toString(),BigInt(-9));return t.greaterThan(10)?t.toFixed(0,a.Decimal.ROUND_HALF_UP):t.greaterThan(1)?t.toDecimalPlaces(1,a.Decimal.ROUND_HALF_UP).toString():t.toSignificantDigits(2,a.Decimal.ROUND_HALF_UP).toFixed(9,a.Decimal.ROUND_HALF_UP).toString().replace(/0+$/,"").replace(/\.$/,"")},t.convertGweiToWei=function(e){if(""===e)return 0n;const t=Number(e).toFixed(9);return BigInt(o(t,9n).toFixed(0))},t.convertEthtoWei=function(e){if(""===e)return 0n;const t=Number(e).toFixed(18);return BigInt(o(t,18n).toFixed(0))},t.convertWeiToEth=function(e){return i(e.toString(),18n).toString()}},46668:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SolanaWeb3Response=void 0,function(e){e.connectionSuccess="solanaConnectionSuccess",e.connectionDeny="solanaConnectionDeny",e.signMessageSuccess="signSolanaMessageSuccess",e.signMessageDeny="signSolanaMessageDeny",e.sendTransactionSuccess="sendSolanaTransactionSuccess",e.sendTransactionDeny="sendSolanaTransactionDeny",e.signTransactionSuccess="signSolanaTransactionSuccess",e.signTransactionDeny="signaSolanaTransactionDeny",e.signAllTransactionsSuccess="signAllSolanaTransactionsSuccess",e.signAllTransactionsDeny="signAllSolanaTransactionsDeny",e.parentDisconnected="parentDisconnected",e.featureFlagOff="featureFlagOff",e.web3RequestCanceled="web3RequestCanceled"}(t.SolanaWeb3Response||(t.SolanaWeb3Response={}))}}]);
//# sourceMappingURL=6586.js.map