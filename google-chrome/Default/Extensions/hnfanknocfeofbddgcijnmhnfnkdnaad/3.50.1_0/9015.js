"use strict";(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[9015],{4871:(e,t,n)=>{var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.generateUnsigned1559Transaction=void 0;const a=n(587952),o=n(214546),i=n(446101),s=n(697893),c=n(306915),u=n(333501),d=n(859857),l=n(447018),m=n(266854);t.generateUnsigned1559Transaction=async function({wallet:e,recipientAddress:t,metadata:n,transactionAmount:h,txConfiguration:y}){const{selectedBaseFeePerGas:f,selectedMaxFeePerGas:k,selectedMaxPriorityFeePerGas:p,selectedGasLimit:b,dataBuffer:w,nonce:A}=y,{primaryAddress:g,network:P,currencyCode:T,blockchain:S,selectedIndex:I}=e,_=P.asChain();if(!_)throw d.NetworkError.invalidNetwork(P);const v=n.get(i.TxMetadataKey_txSource)?.toLocaleString()??"",D=w??r.from(new Uint8Array(0));if(void 0===I)throw s.EthereumError.unableToFindWallet;const N=i.EthereumWalletConfiguration.currencyCodeForNetwork(P),O=i.EthereumWalletConfiguration.feeDecimalForNetwork(P),{weiValue:C,baseFeePerGas:F,maxFeePerGas:E,maxPriorityFeePerGas:M,gasLimit:x,gasEstimationStatus:G}=await(0,m.get1559GasAndTxValue)({transactionAmount:h,data:D,wallet:e,recipientAddress:t,selectedBaseFeePerGas:f,selectedMaxFeePerGas:k,selectedMaxPriorityFeePerGas:p,selectedGasLimit:b,txSource:v});let R=0n;if(_.isOvmNetwork)try{const e=D.length?(0,l.hexFromBuffer)(D):"0x00";R=await(0,o.getOvmL1GasFee)({chain:_,recipientAddress:t,nonce:A??1n,gasPrice:E,gasLimit:x,calldata:e,type:2})}catch(t){throw(0,a.logConfirmTransactionGasPriceFailure)({blockchain:e.blockchain.rawValue,chainName:_.displayName,chainId:_.chainId.toString(10),errorType:"OptimismL1FeeCalculationFailed",errorMessage:t?.message,txSource:v.toLocaleString()}),t}const L="EntireBalance"===h.kind?C-R:C,[W,z]=await(0,u.fetchDomains)([g,t]),B=c.EthereumUnsigned1559Tx.createEtherTx({fromAddress:g,fromDomain:W,walletIndex:I,toAddress:t,toDomain:z,nonce:A,weiValue:L,data:D,maxFeePerGas:E,maxPriorityFeePerGas:M,gasLimit:x,network:P,currencyCode:T,feeCurrencyCode:N,feeCurrencyDecimal:O,blockchain:S,metadata:n,baseFeePerGas:F,l1GasFee:R});return"Success"===G?{kind:"Success",transaction:B,wallet:e,err:void 0}:{kind:"Failure",wallet:e,transaction:B,err:s.EthereumError.unableToEstimateGas}}},581823:(e,t,n)=>{var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.generateUnsignedLegacyTransaction=void 0;const a=n(587952),o=n(214546),i=n(446101),s=n(697893),c=n(759301),u=n(333501),d=n(859857),l=n(447018),m=n(266854);t.generateUnsignedLegacyTransaction=async function({wallet:e,recipientAddress:t,transactionAmount:n,metadata:h,txConfiguration:y}){const{dataBuffer:f,selectedGasPrice:k,selectedGasLimit:p,nonce:b,erc20ContractAddress:w}=y,{primaryAddress:A,network:g,currencyCode:P,blockchain:T,selectedIndex:S}=e,I=g.asChain();if(!I)throw d.NetworkError.invalidNetwork(g);const _=f??r.from(new Uint8Array(0)),v=h.get(i.TxMetadataKey_txSource)?.toLocaleString()??"",{gasLimit:D,gasPrice:N,weiValue:O,gasEstimationStatus:C}=await(0,m.getLegacyGasAndTxValue)({transactionAmount:n,wallet:e,data:_,recipientAddress:t,selectedGasPrice:k,selectedGasLimit:p,contractAddress:w,txSource:v});let F;if(I.isOvmNetwork){let e="0x00";f&&(e=(0,l.hexFromBuffer)(f));try{F=await(0,o.getOvmL1GasFee)({chain:I,recipientAddress:t,nonce:b??1n,gasPrice:N,gasLimit:D,calldata:e,type:1})}catch(e){throw(0,a.logConfirmTransactionGasPriceFailure)({blockchain:T.rawValue,chainName:I.displayName,chainId:I.chainId.toString(10),errorType:"OptimismL1FeeCalculationFailed",errorMessage:e?.message,txSource:v.toLocaleString()}),e}}if(void 0===S)throw s.EthereumError.unableToFindWallet;const E=i.EthereumWalletConfiguration,M=E.currencyCodeForNetwork(g),x=E.feeDecimalForNetwork(g),[G,R]=await(0,u.fetchDomains)([A,t]),L=c.EthereumUnsignedLegacyTx.createEtherTx({fromAddress:A,fromDomain:G,walletIndex:S,toAddress:t,toDomain:R,nonce:b,weiValue:O,data:_,l1GasFee:F,gasPrice:N,gasLimit:D,network:g,currencyCode:P,feeCurrencyCode:M,feeCurrencyDecimal:x,blockchain:T,metadata:h});return"Success"===C?{kind:"Success",transaction:L,wallet:e,err:void 0}:{kind:"Failure",transaction:L,wallet:e,err:s.EthereumError.unableToEstimateGas}}},214546:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getOvmL1GasFee=void 0;const i=n(313390),s=n(178012),c=n(447018),u=n(592323),d=n(103184);t.getOvmL1GasFee=async function({chain:e,recipientAddress:t,nonce:r,gasPrice:a,gasLimit:l,calldata:m,type:h}){const{getContractFactory:y,predeploys:f}=await Promise.resolve().then((()=>o(n(891666))));if(!e.isOvmNetwork)throw Error("getOptimismL1GasFee should only be called for optimism mainnet, optimism testnet, or base mainnet, base testnet");const k=y("OVM_GasPriceOracle").attach(f.OVM_GasPriceOracle),p=(0,i.serialize)({chainId:e.chainId,nonce:Number(r),gasLimit:`0x${l.toString(16)}`,to:t,data:m,type:h,[1===h?"gasPrice":"maxFeePerGas"]:`0x${a.toString(16)}`}),b=k.interface.encodeFunctionData("getL1Fee",[p]),w=await(0,u.callEthereumJSONRPC)("eth_call",[{to:k.address.toLowerCase(),data:b},"latest"],(0,d.getEthereumRPCURL)(e.chainId));if(null===w?.result)throw Error("l1 gas cost contract not deployed yet");const A=(0,s.strip0x)(w.result).slice(0,64),g=10**18;return(0,c.bigIntFromHex)(A)*BigInt(0xff59ee833b2ff80)/BigInt(g)}},306915:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumUnsigned1559Tx=void 0;const r=n(697893),a=n(115818),o=n(937529),i=n(736213),s=n(91427),c=n(410189);class u{constructor(e,t,n,r,a,o,i,s,c,u,d,l,m,h,y,f,k,p,b,w,A=new Map,g,P){this.toAddress=e,this.toDomain=t,this.fromAddress=n,this.fromDomain=r,this.walletIndex=a,this.nonce=o,this.weiValue=i,this.erc20Value=s,this.data=c,this.maxFeePerGas=u,this.maxPriorityFeePerGas=d,this.gasLimit=l,this.network=m,this.currencyCode=h,this.blockchain=y,this.transferValue=f,this.feeCurrencyCode=k,this.feeCurrencyDecimal=p,this.recipientAddress=b,this.recipientDomain=w,this.metadata=A,this.baseFeePerGas=g,this.l1GasFee=P}get estimatedFee(){throw r.EthereumError.unsupportedAccessToEstimatedFeeOn1559Tx}get lowerBoundFee(){return(this.baseFeePerGas+this.maxPriorityFeePerGas)*this.gasLimit+(this.l1GasFee??0n)}get upperBoundFee(){return this.maxFeePerGas*BigInt(this.gasLimit)+(this.l1GasFee??0n)}static createEtherTx({fromAddress:e,fromDomain:t,walletIndex:n,toAddress:r,toDomain:a,nonce:o,weiValue:i,data:s,maxFeePerGas:c,maxPriorityFeePerGas:d,gasLimit:l,network:m,currencyCode:h,feeCurrencyCode:y,feeCurrencyDecimal:f,blockchain:k,metadata:p,baseFeePerGas:b,l1GasFee:w}){return new u(r,a,e,t,n,o,i,void 0,s,c,d,l,m,h,k,i,y,f,r??"",a,p,b,w)}static createERC20Tx({fromAddress:e,fromDomain:t,walletIndex:n,contractAddress:r,contractDomain:a,recipientAddress:o,recipientDomain:i,nonce:s,erc20Value:c,data:d,maxFeePerGas:l,maxPriorityFeePerGas:m,gasLimit:h,network:y,currencyCode:f,feeCurrencyCode:k,feeCurrencyDecimal:p,blockchain:b,metadata:w=new Map,baseFeePerGas:A,l1GasFee:g}){return new u(r,a,e,t,n,s,0n,c,d,l,m,h,y,f,b,c,k,p,o,i,w,A,g)}asTransaction(e,t,n,r,u="original",d){return new o.Transaction({id:(0,c.v4)(),createdAt:new Date,blockchain:this.blockchain,currencyCode:this.currencyCode,feeCurrencyCode:this.feeCurrencyCode,feeCurrencyDecimal:this.feeCurrencyDecimal,toAddress:this.recipientAddress,toDomain:this.recipientDomain,fromAddress:this.fromAddress,fromDomain:this.fromDomain,amount:this.transferValue,fee:this.upperBoundFee,state:s.TxState.PENDING,metadata:new i.TxMetadata(r),network:this.network,txHash:e,isSent:!0,contractAddress:n.contractAddress,tokenName:n.displayName,tokenDecimal:n.decimals,walletId:n.id,nonce:t,pendingEthTxData:new a.PendingEthTxState(this.baseFeePerGas,this.data,this.gasLimit,this.maxFeePerGas,this.maxPriorityFeePerGas,u,this.l1GasFee),type:d,transfers:[],deleted:!1})}}t.EthereumUnsigned1559Tx=u},759301:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumUnsignedLegacyTx=void 0;const r=n(697893),a=n(937529),o=n(736213),i=n(91427),s=n(410189);class c{constructor(e,t,n,r,a,o,i,s,c,u,d,l,m,h,y,f,k,p,b,w,A=new Map){this.toAddress=e,this.toDomain=t,this.fromAddress=n,this.fromDomain=r,this.walletIndex=a,this.nonce=o,this.weiValue=i,this.erc20Value=s,this.data=c,this.l1GasFee=u,this.gasPrice=d,this.gasLimit=l,this.network=m,this.currencyCode=h,this.blockchain=y,this.transferValue=f,this.feeCurrencyCode=k,this.feeCurrencyDecimal=p,this.recipientAddress=b,this.recipientDomain=w,this.metadata=A,this.estimatedFee=d*l+(u??0n)}get maxFeePerGas(){throw r.EthereumError.unsupported1559Property}get baseFeePerGas(){throw r.EthereumError.unsupported1559Property}get maxPriorityFeePerGas(){throw r.EthereumError.unsupported1559Property}static createEtherTx({fromAddress:e,fromDomain:t,walletIndex:n,toAddress:r,toDomain:a,nonce:o,weiValue:i,data:s,l1GasFee:u,gasPrice:d,gasLimit:l,network:m,currencyCode:h,feeCurrencyCode:y,feeCurrencyDecimal:f,blockchain:k,metadata:p}){return new c(r,a,e,t,n,o,i,void 0,s,u,d,l,m,h,k,i,y,f,r??"",a,p)}static createERC20Tx({fromAddress:e,fromDomain:t,walletIndex:n,contractAddress:r,contractDomain:a,recipientAddress:o,recipientDomain:i,nonce:s,erc20Value:u,data:d,l1GasFee:l,gasPrice:m,gasLimit:h,network:y,currencyCode:f,feeCurrencyCode:k,feeCurrencyDecimal:p,blockchain:b,metadata:w}){return new c(r,a,e,t,n,s,0n,u,d,l,m,h,y,f,b,u,k,p,o,i,w)}asTransaction(e,t,n,r,c,u){return new a.Transaction({id:(0,s.v4)(),createdAt:new Date,confirmedAt:void 0,blockchain:this.blockchain,currencyCode:this.currencyCode,feeCurrencyCode:this.feeCurrencyCode,feeCurrencyDecimal:this.feeCurrencyDecimal,toAddress:this.recipientAddress,toDomain:this.recipientDomain,fromAddress:this.fromAddress,fromDomain:this.fromDomain,amount:this.transferValue,fee:this.estimatedFee,state:i.TxState.PENDING,metadata:new o.TxMetadata(r),network:this.network,txHash:e,isSent:!0,contractAddress:n.contractAddress,tokenName:n.displayName,tokenDecimal:n.decimals,walletId:n.id,nonce:t,type:u})}}t.EthereumUnsignedLegacyTx=c},171484:(e,t,n)=>{var r=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.generateUnsignedTransactionFromDapp=t.generateUnsignedTransaction=void 0;const a=n(143817),o=n(529225),i=n(389934),s=n(206087),c=n(722996),u=n(86296),d=n(333501),l=n(79596);async function m({wallet:e,nativeDappTransaction:t,metadata:n,shouldSavePendingTransaction:c,recipientAddress:m,transactionAmount:h,submissionParams:y}){try{const u=(0,l.decodeInstructions)(t.instructions),f=await(0,a.getNetworkFee)(),k="Amount"===h.kind?h.value:0n,[p,b]=await(0,d.fetchDomains)([e.primaryAddress,m]),w=t?.feePayer?.toBase58()??e.primaryAddress,A=new s.SolanaUnsignedTransaction(e.primaryAddress,p,m??"",b,0n,e.network,e.currencyCode,e.blockchain,k,o.SolanaWalletConfiguration.currencyCodeForNetwork(),o.SolanaWalletConfiguration.feeDecimalForNetwork(),f.networkFee??0n,r.from(""),n,t.instructions,void 0,t,u,c,w,y);return"Success"===f.kind?{kind:"Success",transaction:A,wallet:e,err:void 0}:{kind:"Failure",transaction:A,wallet:e,err:i.SolanaError.unableToGetNetworkFee}}catch(e){throw(0,u.cbReportError)({error:e,context:"solana-error",isHandled:!1,severity:"error"}),e}}t.generateUnsignedTransaction=async function(e){return e.nativeDappTransaction?m(e):e.wallet.contractAddress?async function({wallet:e,transactionAmount:t,recipientAddress:n,metadata:l,submissionParams:m}){try{if(!e.contractAddress)throw new Error("Invalid wallet for sending");const u=e.primaryAddress,h=await(0,c.findAssociatedTokenAddress)({walletAddress:u,tokenMintAddress:e.contractAddress});let y=0n,f=0n;y="EntireBalance"===t.kind?await(0,a.getSPLBalanceOfATA)(h.toBase58()):t.value;const k=[],p=await(0,a.getNetworkFee)(),b=await(0,c.findAssociatedTokenAddress)({walletAddress:n,tokenMintAddress:e.contractAddress});(await(0,a.getAccountInfo)(b.toBase58())).value||(f=await(0,a.getSolRequiredForRentExempt)(),k.push((0,c.createTokenAccountInstruction)({payerAddress:e.primaryAddress,mintAddress:e.contractAddress,receiverAddress:n,ataPubkey:b}))),k.push((0,c.transferChecked)({sourceAta:h,receiverAta:b,mintAddress:e.contractAddress,owner:e.primaryAddress,amount:Number(y),decimals:Number(e.decimals)}));const[w,A]=await(0,d.fetchDomains)([e.primaryAddress,n]),g=new s.SolanaUnsignedTransaction(e.primaryAddress,w,n,A,0n,e.network,e.currencyCode,e.blockchain,y,o.SolanaWalletConfiguration.currencyCodeForNetwork(),o.SolanaWalletConfiguration.feeDecimalForNetwork(),p.networkFee??0n,r.from(""),l,k,f,void 0,void 0,!0,e.primaryAddress,m);return"Success"===p.kind?{kind:"Success",transaction:g,wallet:e,err:void 0}:{kind:"Failure",transaction:g,wallet:e,err:i.SolanaError.unableToGenerateUnsignedTransaction}}catch(e){throw(0,u.cbReportError)({error:e,context:"solana-error",severity:"error",isHandled:!1}),e}}(e):async function({wallet:e,transactionAmount:t,recipientAddress:n,metadata:c,nativeDappTransaction:l,submissionParams:m}){try{const u=e.primaryAddress;let h;const y=await(0,a.getNetworkFee)();"EntireBalance"===t.kind?(h=await(0,a.getBalance)(u),"Success"===y.kind&&(h-=y.networkFee)):h=t.value;const[f,k]=await(0,d.fetchDomains)([e.primaryAddress,n]),p=new s.SolanaUnsignedTransaction(e.primaryAddress,f,n,k,0n,e.network,e.currencyCode,e.blockchain,h,o.SolanaWalletConfiguration.currencyCodeForNetwork(),o.SolanaWalletConfiguration.feeDecimalForNetwork(),y.networkFee??0n,r.from(""),c,l?.instructions??void 0,void 0,l??void 0,void 0,!0,e.primaryAddress,m);return"Success"===y.kind?{kind:"Success",transaction:p,err:void 0,wallet:e}:{kind:"Failure",transaction:p,err:i.SolanaError.unableToGenerateUnsignedTransaction}}catch(e){throw(0,u.cbReportError)({error:e,context:"solana-error",severity:"error",isHandled:!1}),e}}(e)},t.generateUnsignedTransactionFromDapp=m},206087:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SolanaUnsignedTransaction=void 0;const r=n(937529),a=n(736213),o=n(91427),i=n(410189);t.SolanaUnsignedTransaction=class{constructor(e,t,n,r,a,o,i,s,c,u,d,l,m,h=new Map,y,f,k,p,b=!0,w,A){this.fromAddress=e,this.fromDomain=t,this.recipientAddress=n,this.recipientDomain=r,this.walletIndex=a,this.network=o,this.currencyCode=i,this.blockchain=s,this.transferValue=c,this.feeCurrencyCode=u,this.feeCurrencyDecimal=d,this.estimatedFee=l,this.data=m,this.metadata=h,this.instructions=y,this.extraFee=f,this.nativeDappTransaction=k,this.dappInstructionMetaData=p,this.shouldSavePendingTransaction=b,this.feePayerAddress=w,this.submissionParams=A}asTransaction(e,t,n,s){return new r.Transaction({id:(0,i.v4)(),createdAt:new Date,blockchain:this.blockchain,currencyCode:this.currencyCode,feeCurrencyCode:this.feeCurrencyCode,feeCurrencyDecimal:this.feeCurrencyDecimal,toAddress:this.recipientAddress,toDomain:this.recipientDomain,fromAddress:this.fromAddress,fromDomain:this.fromDomain,amount:this.transferValue,fee:this.estimatedFee,state:o.TxState.PENDING,metadata:new a.TxMetadata(s),network:this.network,txHash:e,isSent:!0,contractAddress:n.contractAddress,tokenName:n.displayName,tokenDecimal:n.decimals,walletId:n.id})}}},722996:function(e,t,n){var r=n(348834).Buffer,a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.findAssociatedTokenAddress=t.transferChecked=t.SPL_INSTRUCTION_LAYOUTS=t.createTokenAccountInstruction=void 0;const s=i(n(996346)),c=n(935265),u=n(749529),d=n(76486);t.createTokenAccountInstruction=function(e){const t=new c.PublicKey(e.payerAddress),n=new c.PublicKey(e.receiverAddress),a=new c.PublicKey(e.mintAddress),o=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:e.ataPubkey,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:u.SYSTEM_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:u.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:u.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new c.TransactionInstruction({keys:o,programId:u.ASSOCIATED_TOKEN_PROGRAM_ID,data:r.from([])})},t.SPL_INSTRUCTION_LAYOUTS=Object.freeze({Transfer:{index:12,layout:s.struct([s.u8("instruction"),s.nu64("amount"),s.u8("decimals")]),property:"transferChecked"}}),t.transferChecked=function(e){const n=[{pubkey:e.sourceAta,isSigner:!1,isWritable:!0},{pubkey:new c.PublicKey(e.mintAddress),isSigner:!1,isWritable:!1},{pubkey:e.receiverAta,isSigner:!1,isWritable:!0},{pubkey:new c.PublicKey(e.owner),isSigner:!0,isWritable:!1}],r=(0,d.encodeData)(t.SPL_INSTRUCTION_LAYOUTS.Transfer,{amount:e.amount,decimals:e.decimals});return new c.TransactionInstruction({keys:n,data:r,programId:u.TOKEN_PROGRAM_ID})},t.findAssociatedTokenAddress=async function(e){return(await c.PublicKey.findProgramAddress([new c.PublicKey(e.walletAddress).toBuffer(),u.TOKEN_PROGRAM_ID.toBuffer(),new c.PublicKey(e.tokenMintAddress).toBuffer()],u.ASSOCIATED_TOKEN_PROGRAM_ID))[0]}},749529:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.STAKE_PROGRAM_ID=t.VOTE_PROGRAM_ID=t.SYSTEM_PROGRAM_ID=t.SYSVAR_RENT_PUBKEY=t.TOKEN_PROGRAM_ID=t.ASSOCIATED_TOKEN_PROGRAM_ID=void 0;const r=n(935265);t.ASSOCIATED_TOKEN_PROGRAM_ID=new r.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),t.TOKEN_PROGRAM_ID=new r.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),t.SYSVAR_RENT_PUBKEY=new r.PublicKey("SysvarRent111111111111111111111111111111111"),t.SYSTEM_PROGRAM_ID=new r.PublicKey("11111111111111111111111111111111"),t.VOTE_PROGRAM_ID=new r.PublicKey("Vote111111111111111111111111111111111111111"),t.STAKE_PROGRAM_ID=new r.PublicKey("Stake11111111111111111111111111111111111111")},411478:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StakeInstructionDecoder=void 0;const r=n(935265),a=n(53610),o=n(523031);t.StakeInstructionDecoder=class{static decodeInstruction(e){const t=r.StakeInstruction.decodeInstructionType(e);let n;switch(t){case"Authorize":n=this.decodeAuthorize(e);break;case"AuthorizeWithSeed":n=this.decodeAuthorizeWithSeed(e);break;case"Deactivate":n=this.decodeDeactivate(e);break;case"Delegate":n=this.decodeDelegate(e);break;case"Initialize":n=this.decodeInitialize(e);break;case"Merge":n=this.decodeMerge(e);break;case"Split":n=this.decodeSplit(e);break;case"Withdraw":n=this.decodeWithdraw(e);break;default:n={}}return{instructionType:t,instructionParams:(0,o.fromInstructionToParams)(n)}}static decodeInitialize(e){const t=r.StakeInstruction.decodeInitialize(e);return{staker:t.authorized.staker,withdrawer:t.authorized.withdrawer,custodian:t.lockup?.custodian}}static decodeDelegate(e){const t=r.StakeInstruction.decodeDelegate(e);return{stake:t.stakePubkey,vote:t.votePubkey,authorized:t.authorizedPubkey}}static decodeAuthorize(e){const t=r.StakeInstruction.decodeAuthorize(e),n={stake:t.stakePubkey,newAuthority:t.newAuthorizedPubkey};return t.custodianPubkey&&(n.custodian=t.custodianPubkey),n}static decodeAuthorizeWithSeed(e){const t=r.StakeInstruction.decodeAuthorizeWithSeed(e),n={stake:t.stakePubkey,newAuthority:t.newAuthorizedPubkey};return t.custodianPubkey&&(n.custodian=t.custodianPubkey),n}static decodeSplit(e){const t=r.StakeInstruction.decodeSplit(e);return{splitStake:t.splitStakePubkey,authorized:t.authorizedPubkey,amount:Number(t.lamports)/Number(a.LAMPORTS_PER_SOL)}}static decodeMerge(e){const t=r.StakeInstruction.decodeMerge(e);return{stake:t.stakePubkey,source:t.sourceStakePubKey,authority:t.authorizedPubkey}}static decodeWithdraw(e){const t=r.StakeInstruction.decodeWithdraw(e),n={authority:t.authorizedPubkey,to:t.toPubkey,amount:Number(t.lamports)/Number(a.LAMPORTS_PER_SOL)};return t.custodianPubkey&&(n.custodian=t.custodianPubkey),n}static decodeDeactivate(e){const t=r.StakeInstruction.decodeDeactivate(e);return{stake:t.stakePubkey,authority:t.authorizedPubkey}}}},584755:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SystemInstructionDecoder=void 0;const r=n(935265),a=n(53610),o=n(523031);t.SystemInstructionDecoder=class{static decodeInstruction(e){const t=r.SystemInstruction.decodeInstructionType(e);let n;switch(t){case"AdvanceNonceAccount":n=this.decodeNonceAdvance(e);break;case"Allocate":n=this.decodeAllocate(e);break;case"AllocateWithSeed":n=this.decodeAllocateWithSeed(e);break;case"Assign":n=this.decodeAssign(e);break;case"AssignWithSeed":n=this.decodeAssignWithSeed(e);break;case"AuthorizeNonceAccount":n=this.decodeNonceAuthorize(e);break;case"Create":n=this.decodeCreateAccount(e);break;case"CreateWithSeed":n=this.decodeCreateWithSeed(e);break;case"InitializeNonceAccount":n=this.decodeNonceInitialize(e);break;case"Transfer":n=this.decodeTransfer(e);break;case"TransferWithSeed":n=this.decodeTransferWithSeed(e);break;case"WithdrawNonceAccount":n=this.decodeNonceWithdraw(e);break;default:n={}}return{instructionType:t,instructionParams:(0,o.fromInstructionToParams)(n)}}static decodeCreateAccount(e){const t=r.SystemInstruction.decodeCreateAccount(e);return{from:t.fromPubkey,newAccount:t.newAccountPubkey,amount:Number(t.lamports)/Number(a.LAMPORTS_PER_SOL),space:t.space}}static decodeTransfer(e){const t=r.SystemInstruction.decodeTransfer(e);return{from:t.fromPubkey,to:t.toPubkey,amount:Number(t.lamports)/Number(a.LAMPORTS_PER_SOL)}}static decodeTransferWithSeed(e){const t=r.SystemInstruction.decodeTransferWithSeed(e);return{from:t.fromPubkey,to:t.toPubkey,amount:Number(t.lamports)/Number(a.LAMPORTS_PER_SOL)}}static decodeAllocate(e){const t=r.SystemInstruction.decodeAllocate(e);return{account:t.accountPubkey,space:t.space}}static decodeAllocateWithSeed(e){const t=r.SystemInstruction.decodeAllocateWithSeed(e);return{account:t.accountPubkey,space:t.space}}static decodeAssign(e){return{account:r.SystemInstruction.decodeAssign(e).accountPubkey}}static decodeAssignWithSeed(e){return{account:r.SystemInstruction.decodeAssignWithSeed(e).accountPubkey}}static decodeCreateWithSeed(e){const t=r.SystemInstruction.decodeCreateWithSeed(e);return{account:t.newAccountPubkey,amount:Number(t.lamports)/Number(a.LAMPORTS_PER_SOL),space:t.space}}static decodeNonceInitialize(e){const t=r.SystemInstruction.decodeNonceInitialize(e);return{nonceAccount:t.noncePubkey,authority:t.authorizedPubkey}}static decodeNonceAdvance(e){const t=r.SystemInstruction.decodeNonceAdvance(e);return{nonceAccount:t.noncePubkey,authority:t.authorizedPubkey}}static decodeNonceWithdraw(e){const t=r.SystemInstruction.decodeNonceWithdraw(e);return{nonceAccount:t.noncePubkey,to:t.toPubkey,authority:t.authorizedPubkey,amount:Number(t.lamports)/Number(a.LAMPORTS_PER_SOL)}}static decodeNonceAuthorize(e){const t=r.SystemInstruction.decodeNonceAuthorize(e);return{nonceAccount:t.noncePubkey,authority:t.authorizedPubkey,newAuthority:t.newAuthorizedPubkey}}}},727471:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VoteInstructionDecoder=void 0;const r=n(935265),a=n(53610),o=n(523031);t.VoteInstructionDecoder=class{static decodeInstruction(e){const t=r.VoteInstruction.decodeInstructionType(e);let n;switch(t){case"Authorize":n=this.decodeAuthorize(e);break;case"InitializeAccount":n=this.decodeInitializeAccount(e);break;case"Withdraw":n=this.decodeWithdraw(e);break;default:n={}}return{instructionType:t,instructionParams:(0,o.fromInstructionToParams)(n)}}static decodeInitializeAccount(e){const t=r.VoteInstruction.decodeInitializeAccount(e);return{vote:t.votePubkey,authorizedVoter:t.voteInit.authorizedVoter,authorizedWithdrawer:t.voteInit.authorizedWithdrawer,commission:t.voteInit.commission}}static decodeAuthorize(e){const t=r.VoteInstruction.decodeAuthorize(e);return{vote:t.votePubkey,authorized:t.authorizedPubkey,newAuthorized:t.newAuthorizedPubkey}}static decodeWithdraw(e){const t=r.VoteInstruction.decodeWithdraw(e);return{vote:t.votePubkey,authorizedWithdrawer:t.authorizedWithdrawerPubkey,amount:Number(t.lamports)/Number(a.LAMPORTS_PER_SOL),to:t.toPubkey}}}},79596:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeInstructions=t.PROGRAM_ID=void 0;const a=n(252828),o=r(n(817022)),i=n(749529),s=n(749466),c=n(411478),u=n(584755),d=n(727471);t.PROGRAM_ID="Program ID",t.decodeInstructions=function(e){const n=[];for(const r of e){let e;switch(r.programId.toString()){case i.STAKE_PROGRAM_ID.toString():e=c.StakeInstructionDecoder.decodeInstruction(r);break;case i.SYSTEM_PROGRAM_ID.toString():e=u.SystemInstructionDecoder.decodeInstruction(r);break;case i.VOTE_PROGRAM_ID.toString():e=d.VoteInstructionDecoder.decodeInstruction(r);break;case a.TOKEN_PROGRAM_ID.toString():e=(0,s.decodeTokenProgramInstruction)(r);break;case a.ASSOCIATED_TOKEN_PROGRAM_ID.toString():e={instructionType:"Create Token Account",instructionParams:[{paramKey:t.PROGRAM_ID,paramValue:r.programId.toString()}]};break;default:e={instructionType:"Unknown",instructionParams:[{paramKey:t.PROGRAM_ID,paramValue:r.programId.toString()}]},r.data.length&&e.instructionParams.push({paramKey:"data",paramValue:o.default.encode(r.data)})}n.push(e)}return n}},749466:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.decodeTokenProgramInstruction=void 0;const r=n(252828),a=n(523031);t.decodeTokenProgramInstruction=function(e){const t=(0,r.decodeInstruction)(e),n=r.TokenInstruction[t.data.instruction];let o;return(0,r.isInitializeMintInstruction)(t)?o=function(e){return{mint:e.keys.mint.pubkey,mintAuthority:e.data.mintAuthority}}(t):(0,r.isInitializeAccountInstruction)(t)?o=function(e){return{account:e.keys.account.pubkey,mint:e.keys.mint.pubkey,owner:e.keys.owner.pubkey}}(t):(0,r.isCloseAccountInstruction)(t)?o=function(e){return{source:e.keys.account.pubkey,destination:e.keys.destination.pubkey,authority:e.keys.authority.pubkey}}(t):(0,r.isInitializeMultisigInstruction)(t)?o=function(e){return{account:e.keys.account.pubkey,requiredSignatures:e.data.m}}(t):(0,r.isTransferInstruction)(t)?o=function(e){return{from:e.keys.source.pubkey,to:e.keys.destination.pubkey,amount:Number(e.data.amount)}}(t):(0,r.isApproveInstruction)(t)?o=function(e){return{account:e.keys.account.pubkey,delegate:e.keys.delegate.pubkey,owner:e.keys.owner.pubkey,amount:Number(e.data.amount)}}(t):(0,r.isRevokeInstruction)(t)?o=function(e){return{account:e.keys.account.pubkey,owner:e.keys.owner.pubkey}}(t):(0,r.isSetAuthorityInstruction)(t)?o=function(e){return{account:e.keys.account.pubkey,currentAuthority:e.keys.currentAuthority.pubkey,newAuthority:e.data.newAuthority,authorityType:r.AuthorityType[e.data.authorityType]}}(t):(0,r.isMintToInstruction)(t)?o=function(e){return{mint:e.keys.mint.pubkey,destination:e.keys.destination.pubkey,authority:e.keys.authority.pubkey,amount:Number(e.data.amount)}}(t):(0,r.isBurnInstruction)(t)?o=function(e){return{account:e.keys.account.pubkey,mint:e.keys.mint.pubkey,owner:e.keys.owner.pubkey,amount:Number(e.data.amount)}}(t):(0,r.isFreezeAccountInstruction)(t)||(0,r.isThawAccountInstruction)(t)?o=function(e){return{account:e.keys.account.pubkey,mint:e.keys.mint.pubkey,authority:e.keys.authority.pubkey}}(t):(0,r.isTransferCheckedInstruction)(t)?o=function(e){return{owner:e.keys.owner.pubkey,from:e.keys.source.pubkey,to:e.keys.destination.pubkey,amount:Number(e.data.amount),mint:e.keys.mint.pubkey}}(t):(0,r.isApproveCheckedInstruction)(t)?o=function(e){return{account:e.keys.account.pubkey,mint:e.keys.mint.pubkey,delegate:e.keys.delegate.pubkey,owner:e.keys.owner.pubkey,amount:Number(e.data.amount)}}(t):(0,r.isMintToCheckedInstruction)(t)?o=function(e){return{mint:e.keys.mint.pubkey,destination:e.keys.destination.pubkey,authority:e.keys.authority.pubkey,amount:Number(e.data.amount)}}(t):(0,r.isBurnCheckedInstruction)(t)?o=function(e){return{account:e.keys.account.pubkey,mint:e.keys.mint.pubkey,owner:e.keys.owner.pubkey,amount:Number(e.data.amount)}}(t):(0,r.isInitializeAccount2Instruction)(t)?o=function(e){return{account:e.keys.account.pubkey,mint:e.keys.mint.pubkey,owner:e.data.owner}}(t):(0,r.isSyncNativeInstruction)(t)?o=function(e){return{account:e.keys.account.pubkey}}(t):(0,r.isInitializeAccount3Instruction)(t)?o=function(e){return{account:e.keys.account.pubkey,mint:e.keys.mint.pubkey,owner:e.data.owner}}(t):(0,r.isInitializeMint2Instruction)(t)&&(o=function(e){return{mint:e.keys.mint.pubkey,mintAuthority:e.data.mintAuthority,freezeAuthority:e.data.freezeAuthority}}(t)),{instructionType:n,instructionParams:o?(0,a.fromInstructionToParams)(o):[]}}},76486:function(e,t,n){var r=n(348834).Buffer,a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeData=t.encodeData=void 0;const s=i(n(254477));t.encodeData=function(e,t){const n=e.layout.span>=0?e.layout.span:s.getAlloc(e,t),a=r.alloc(n),o={instruction:e.index,...t};return e.layout.encode(o,a),a},t.decodeData=function(e,t){let n;try{n=e.layout.decode(t)}catch(e){throw new Error(`invalid instruction; ${e}`)}if(n.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${e.index}`);return n}},254477:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.voteInit=t.getAlloc=t.lockup=t.authorized=t.rustString=t.uint64=t.publicKey=void 0;const i=o(n(996346)),s=n(348834);function c(e="publicKey"){return i.blob(32,e)}t.publicKey=c,t.uint64=function(e="uint64"){return i.blob(8,e)},t.rustString=function(e="string"){const t=i.struct([i.u32("length"),i.u32("lengthPadding"),i.blob(i.offset(i.u32(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t);return t.decode=(e,t)=>n(e,t).chars.toString("utf8"),t.encode=(e,t,n)=>{const a={chars:s.Buffer.from(e,"utf8")};return r(a,t,n)},t.alloc=e=>i.u32().span+i.u32().span+s.Buffer.from(e,"utf8").length,t},t.authorized=function(e="authorized"){return i.struct([c("staker"),c("withdrawer")],e)},t.lockup=function(e="lockup"){return i.struct([i.ns64("unixTimestamp"),i.ns64("epoch"),c("custodian")],e)},t.getAlloc=function(e,t){let n=0;return e.layout.fields.forEach((e=>{e.span>=0?n+=Number(e.span):"function"==typeof e.alloc&&(n+=Number(e.alloc(t[e.property])))})),n},t.voteInit=function(e="voteInit"){return i.struct([c("nodePubkey"),c("authorizedVoter"),c("authorizedWithdrawer"),i.u8("commission")],e)}},301940:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useNetworkFeeTooltipMessages=void 0;const r=n(202784),a=n(239398),o=n(698859),i=(0,a.defineMessages)({networkFeeTooltip:{id:"MnkMuK",defaultMessage:"Applies to all transactions. Not paid to Coinbase."},networkAndApprovalFeeTooltip:{id:"pmYfiH",defaultMessage:"For approval & conversion. Applies to all transactions. Not paid to Coinbase."},web3ActivationBuyNFTNetworkFeeDescription:{id:"rTr16h",defaultMessage:"This is for network fees. Not paid to Coinbase."},web3ActivationSwapNetworkFeeDescription:{id:"CVtApE",defaultMessage:"Each step will require a network fee. This fee is not paid to Coinbase. {learnMore}"},nftCollectionNetworkFeeTooltip:{id:"+CfSUd",defaultMessage:"This sale requires a network fee to process as well as a one-time fee to approve this NFT collection for sale on {platform}. Not paid to Coinbase."},tokenApprovalNuxNetworkFeeDescription:{id:"9Zulof",defaultMessage:"This fee goes to the network\u2019s validators, not Coinbase."},generateTransactionDefaultZeroBalanceTrayText2:{id:"m1qUXQ",defaultMessage:"The network fee goes to network participants who process transactions, not Coinbase."},generateTransactionDefaultNotEnoughBalanceTrayText:{id:"HK8qU0",defaultMessage:"The network fee (also called a gas fee) goes to network participants who process transactions, not Coinbase. It may be less than our estimate."},swapNetworkFeeEstimateTooltip:{id:"VD9qh5",defaultMessage:"The network fee (also called a gas fee) goes to network participants who process transactions, not Coinbase. It may be less than our estimate."},swapGaslessNetworkFeeEstimateTooltip:{id:"j7SlmX",defaultMessage:"The network fee (also called a gas fee) goes to network participants, not Coinbase. It's charged in {gasToken}. If you don't have {gasToken}, you can deduct the fee from the swap, which is more convenient but also more expensive."}}),s=(0,a.defineMessages)({networkFeeTooltip:{id:"derWOp",defaultMessage:"Applies to all transactions."},networkAndApprovalFeeTooltip:{id:"c6U3Td",defaultMessage:"For approval & conversion. Applies to all transactions."},web3ActivationBuyNFTNetworkFeeDescription:{id:"V/Jo28",defaultMessage:"This is for network fees."},web3ActivationSwapNetworkFeeDescription:{id:"bExL4T",defaultMessage:"Each step will require a network fee. {learnMore}"},nftCollectionNetworkFeeTooltip:{id:"zvxSIW",defaultMessage:"This sale requires a network fee to process as well as a one-time fee to approve this NFT collection for sale on {platform}."},tokenApprovalNuxNetworkFeeDescription:{id:"XHNssL",defaultMessage:"This fee goes to the network\u2019s validators."},generateTransactionDefaultZeroBalanceTrayText2:{id:"ILLTay",defaultMessage:"The network fee goes to network participants who process transactions."},generateTransactionDefaultNotEnoughBalanceTrayText:{id:"diOAFn",defaultMessage:"The network fee (also called a gas fee) goes to network participants who process transactions. It may be less than our estimate."},swapNetworkFeeEstimateTooltip:{id:"g3I7IU",defaultMessage:"The network fee (also called a gas fee) goes to network participants who process transactions. It may be less than our estimate."},swapGaslessNetworkFeeEstimateTooltip:{id:"TwxfKO",defaultMessage:"The network fee (also called a gas fee) goes to network participants. It's charged in {gasToken}. If you don't have {gasToken}, you can deduct the fee from the swap, which is more convenient but also more expensive."}});t.useNetworkFeeTooltipMessages=function(e){return(0,r.useMemo)((()=>{switch(Number(e)){case o.allEthNetworkChainIds.BASE:case o.allEthNetworkChainIds.BASE_SEPOLIA:return s;default:return i}}),[e])}},363218:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.convertWeiToEth=t.convertEthtoWei=t.convertGweiToWei=t.convertWeiToGwei=t.FormatCurrencySymbol=t.checkInsufficientFunds=t.getDownScaledDecimal=t.getScaledDecimal=t.BLACK_HOLE_ADDRESS=void 0;const r=n(218705),a=n(952180);function o(e,t){const n=new a.Decimal(e),r=new a.Decimal(10).pow(Number(t));return n.mul(r)}function i(e,t){const n=new a.Decimal(e||0),r=new a.Decimal(10).pow(Number(t));return n.div(r)}a.Decimal.set({precision:100}),t.BLACK_HOLE_ADDRESS="0x0000000000000000000000000000000000000000",t.getScaledDecimal=o,t.getDownScaledDecimal=i,t.checkInsufficientFunds=function(e,t){const n=(0,r.bigIntToDecimal)(e),a=(0,r.bigIntToDecimal)(t);return n.greaterThan(a)},t.FormatCurrencySymbol=function(e){return t.BLACK_HOLE_ADDRESS,"ETH"},t.convertWeiToGwei=function(e){const t=o(e.toString(),BigInt(-9));return t.greaterThan(10)?t.toFixed(0,a.Decimal.ROUND_HALF_UP):t.greaterThan(1)?t.toDecimalPlaces(1,a.Decimal.ROUND_HALF_UP).toString():t.toSignificantDigits(2,a.Decimal.ROUND_HALF_UP).toFixed(9,a.Decimal.ROUND_HALF_UP).toString().replace(/0+$/,"").replace(/\.$/,"")},t.convertGweiToWei=function(e){if(""===e)return 0n;const t=Number(e).toFixed(9);return BigInt(o(t,9n).toFixed(0))},t.convertEthtoWei=function(e){if(""===e)return 0n;const t=Number(e).toFixed(18);return BigInt(o(t,18n).toFixed(0))},t.convertWeiToEth=function(e){return i(e.toString(),18n).toString()}}}]);
//# sourceMappingURL=9015.js.map