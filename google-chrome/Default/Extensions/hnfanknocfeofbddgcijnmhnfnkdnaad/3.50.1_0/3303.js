"use strict";(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[3303],{43888:(e,t,s)=>{s.r(t),s.d(t,{useFormattedTransactionListItem:()=>_});var a,n,r,o=s(202784),d=s(783112),i=s(446101),c=s(583152),l=s(101620),u=s(924628),f=s(38438),C=s(266016),m=s(477474),A=s(199059),p=s(866799),g=s(511803),S=s(91427),E=s(603758);function _(e,t){var s,a,n=(0,d.Z)(),r=n.formatMessage,_=n.formatDate,w=(0,l.useCurrencyFormatter)(),T=(0,p.getTruncatedAddress)(null!==(s=t.toAddress)&&void 0!==s?s:""),y=(0,p.getTruncatedAddress)(null!==(a=t.fromAddress)&&void 0!==a?a:""),L=t.isSent,b=(0,C.usePrivacyMode)(),D=(0,f.useIsSwapTransaction)(t),I=(0,m.useGetActiveWallet)(e)({currencyCode:t.currencyCode,network:t.network,blockchain:t.blockchain,contractAddress:t.contractAddress}),M=(0,c.q)()(t),k=t.isSponsored()||M,v=t.isGaslessSwap(),h=(0,E.getTransactionFiatTotal)(t,w,k||v),N=(0,o.useMemo)((function(){return b?h:h?"".concat(t.isSent?"-":"+").concat(h):void 0}),[b,h,t.isSent]),R=(0,u.useIsAdvancedModeEnabled)(),x=w.formatToCrypto({currencyCode:t.currencyCode,decimals:t.tokenDecimal,value:t.amount,includeCode:!0,maxDisplayDecimals:6n}),P=t.state===S.TxState.PENDING,U=!t.confirmedAt&&t.state===S.TxState.CONFIRMED,O=(0,o.useMemo)((function(){if(!P){if(U)return _(new Date,{hour:"numeric",minute:"2-digit"});if(t.confirmedAt)return t.confirmedAt.getTime()>A.Tq?_(t.confirmedAt,{hour:"numeric",minute:"2-digit"}):_(t.confirmedAt,{month:"short",day:"2-digit",year:"numeric"})}}),[_,U,P,t.confirmedAt]),F=(0,o.useMemo)((function(){if(P){var e=D?"".concat(r(g.messages.swap)," \u2022 ").concat(r(g.messages.pending)):"".concat(r(g.messages.send)," \u2022 ").concat(r(g.messages.pending));if(t.pendingEthTxData)switch(t.pendingEthTxData.txSubmissionType){case"cancel":return"".concat(r(g.messages.cancel)," \u2022 ").concat(r(g.messages.pending));case"speedUp":return"".concat(r(g.messages.speedUp)," \u2022 ").concat(r(g.messages.pending));default:return e}return e}return t.state===S.TxState.REPLACED?r(g.messages.replaced):t.state===S.TxState.DROPPED?r(g.messages.dropped):t.state===S.TxState.DROPPED_BY_RELAYER?r(g.messages.droppedByRelayer):t.isRelayed()?r(g.messages.relayed):t.state===S.TxState.FAILED?"".concat(r(g.messages.failed)," \u2022 "):D?"".concat(r(g.messages.swap)," \u2022 "):t.isSent?"".concat(r(k&&R?g.messages.sponsored:g.messages.send)," \u2022 "):"".concat(r(g.messages.receive)," \u2022 ")}),[P,t,D,r,k,R]),B=(0,o.useMemo)((function(){return t.state===S.TxState.FAILED?"failed":t.state===S.TxState.DROPPED?"replaced":t.isRelayed()?"relayed":D?"swap":t.isSent?"send":"receive"}),[t,D]),G=(0,o.useMemo)((function(){return O?"".concat(F," ").concat(O):F}),[F,O]),V=(0,o.useMemo)((function(){return D?t.fromDomain||y:t.entityDisplayName(!0)}),[y,D,t]),K=(0,o.useMemo)((function(){return!!I&&(0,i.isNetwork1559Enabled)(I.network)}),[I]),H=(0,o.useMemo)((function(){if(L&&t.feeCurrencyCode.rawValue===t.currencyCode.rawValue){var e=k?0n:t.fee;return w.formatToCrypto({currencyCode:t.currencyCode,decimals:t.feeCurrencyDecimal,value:t.amount+e,includeCode:!0})}return x}),[L,t.feeCurrencyCode.rawValue,t.currencyCode,t.fee,t.feeCurrencyDecimal,t.amount,x,k,w]);return{walletId:null==I?void 0:I.id,toAddress:T,fromAddress:y,txnTitle:V,txnDescription:G,fiatValueDisplay:N,cryptoValueDisplay:x,totalCrypto:H,transactionIconType:B,is1559Enabled:K}}e=s.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(_,"useIntl{{ formatMessage, formatDate }}\nuseCurrencyFormatter{currencyFormatter}\nusePrivacyMode{isPrivacyModeEnabled}\nuseIsSwapTransaction{isSwapTransaction}\nuseGetActiveWallet{getActiveWallet}\nuseGetIsClaimLinkSend{getIsClaimLinkSendTx}\nuseMemo{fiatValueDisplay}\nuseIsAdvancedModeEnabled{isAdvancedModeEnabled}\nuseMemo{transactionDateTime}\nuseMemo{transactionType}\nuseMemo{transactionIconType: TransactionIconType}\nuseMemo{txnDescription}\nuseMemo{txnTitle}\nuseMemo{is1559Enabled}\nuseMemo{totalCrypto}",(function(){return[d.Z,l.useCurrencyFormatter,C.usePrivacyMode,f.useIsSwapTransaction,m.useGetActiveWallet,c.q,u.useIsAdvancedModeEnabled]})),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(_,"useFormattedTransactionListItem","/workspaces/libs/data/stores/Transactions/hooks/useFormattedTransactionListItem.tsx"),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&r(e)},75757:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultClaimLinkAssets=t.USDC_BASE=t.USDC_AVAX=t.USDC_ARBITRUM=t.USDC_POLYGON=t.USDC_ETH_MAINNET=t.SEND_VIA_LINK_TX_SOURCE=t.CLAIM_LINK_PRESENT_BASE_URL_V2=t.CLAIM_LINK_PRESENT_BASE_URL=t.NATIVE_TOKEN_CONTRACT_ADDRESS=t.LINK_NOT_AVAILABLE_STATUSES=void 0;const a=s(978184);t.LINK_NOT_AVAILABLE_STATUSES=["error","refunded","refunding","cancelled","redeeming","redeemed"],t.NATIVE_TOKEN_CONTRACT_ADDRESS="0x0000000000000000000000000000000000000000",t.CLAIM_LINK_PRESENT_BASE_URL="https://go.cb-w.com/claim",t.CLAIM_LINK_PRESENT_BASE_URL_V2="https://wallet.coinbase.com/claim",t.SEND_VIA_LINK_TX_SOURCE="send_via_link",t.USDC_ETH_MAINNET=new a.ClaimLinkAssetConfig({erc20ContractAddress:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",chainId:1,escrowContractAddress:void 0,escrowContractAddresses:[],isEnabled:!1}),t.USDC_POLYGON=new a.ClaimLinkAssetConfig({erc20ContractAddress:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",chainId:137,escrowContractAddress:"0x3013e9c3a86C23F74c9d885F070e28d69B1E09F5",escrowContractAddresses:["0x3013e9c3a86C23F74c9d885F070e28d69B1E09F5"],isEnabled:!0}),t.USDC_ARBITRUM=new a.ClaimLinkAssetConfig({erc20ContractAddress:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",chainId:42161,escrowContractAddress:void 0,escrowContractAddresses:[],isEnabled:!1}),t.USDC_AVAX=new a.ClaimLinkAssetConfig({erc20ContractAddress:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",chainId:43114,escrowContractAddress:void 0,escrowContractAddresses:[],isEnabled:!1}),t.USDC_BASE=new a.ClaimLinkAssetConfig({erc20ContractAddress:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",chainId:8453,escrowContractAddress:void 0,escrowContractAddresses:[],isEnabled:!1}),t.defaultClaimLinkAssets=[t.USDC_ETH_MAINNET,t.USDC_POLYGON,t.USDC_ARBITRUM,t.USDC_AVAX,t.USDC_BASE]},767409:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.claimLinkConfigsAtom=t.StoreKeys_ClaimLinkConfigs=t.useGetClaimLinkConfigs=void 0;const a=s(202784),n=s(75757),r=s(978184),o=s(672358),d=s(298801),i=s(553476);let c=!1,l=!1;t.useGetClaimLinkConfigs=function(){const e=(0,i.useRecoilValue)(t.claimLinkConfigsAtom),s=(0,i.useSetRecoilState)(t.claimLinkConfigsAtom);return c||async function(e){if(l)return;l=!0;const t=await fetch("https://api.wallet.coinbase.com/rpc/v2/giftlink/config");if(!t.ok)throw l=!1,new Error("Failed to fetch ClaimLinkConfigs");if(c=!0,t.text){e(await t.text())}l=!1}(s),(0,a.useMemo)((()=>{const t=JSON.parse(e),s=new Map;return t.forEach((function(e){const t=new r.ClaimLinkAssetConfig({erc20ContractAddress:e.erc20ContractAddress,chainId:e.chainId,escrowContractAddress:e.escrowContractAddress,escrowContractAddresses:e.escrowContractAddresses,transferLimits:e.transferLimits,isEnabled:e.isEnabled});s.set(t.key(),t)})),s}),[e])},t.StoreKeys_ClaimLinkConfigs=new d.LocalStorageStoreKey("ClaimLinkConfigs"),t.claimLinkConfigsAtom=(0,i.atom)({key:"claimLinkConfigs",default:JSON.stringify(n.defaultClaimLinkAssets),effects:[(0,o.atomLocalStorageEffect)(t.StoreKeys_ClaimLinkConfigs)]})},583152:(e,t,s)=>{t.q=void 0;const a=s(202784),n=s(767409),r=s(978184);t.q=function(){const e=(0,n.useGetClaimLinkConfigs)();return(0,a.useCallback)((function(t,s="v2"){if(!t.network.asChain())return!1;const a=new r.ClaimLinkAssetConfig({erc20ContractAddress:t.contractAddress?.length?t.contractAddress:void 0,chainId:t.network.asChain().chainId,escrowContractAddress:void 0,isEnabled:!1}),n=t.toAddress?.toLowerCase(),o=e.get(a.key()),d=o?.escrowContractAddress?.toLowerCase(),i=o?.escrowContractAddresses?.map((e=>e.toLowerCase())),c=d&&d===n,l=n&&i?.includes(n),u="v2"===s?l:c;return t.isSent&&!!o&&u}),[e])}},978184:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ClaimLinkAssetConfig=void 0;t.ClaimLinkAssetConfig=class{constructor({erc20ContractAddress:e,chainId:t,escrowContractAddress:s,escrowContractAddresses:a,transferLimits:n,isEnabled:r}){this.erc20ContractAddress=e,this.chainId=t,this.escrowContractAddress=s,this.escrowContractAddresses=a,this.transferLimits=n,this.isEnabled=r}key(){return`${this.erc20ContractAddress?.toLowerCase()}-${this.chainId}`}}},256022:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useIsSpeedUpCancelEnabled=void 0;const a=s(202784),n=s(698431),r=s(214390),o=s(21717),d=s(91427),i=s(990656),c=s(193479),l={dex:!0,bridge:!0,stake:!0,unstake:!0,claim:!0,dappBrowser:!0};t.useIsSpeedUpCancelEnabled=function(){const e=(0,o.useActiveAccount)(),t=(0,n.useIsFeatureEnabled)("utxo_transaction_replacement_bip_125"),s=(0,r.useOverridableKillSwitch)("kill_speedup_and_cancel");return(0,a.useCallback)((function(a){const{is1559Enabled:n,transaction:r}=a,{txSource:o}=r,u="BTC"===r.blockchain.rawValue||n,f=(0,i.getPlatformName)(),C=f===c.PlatformName.ios||f===c.PlatformName.android,m="BTC"===r.blockchain.rawValue?t:!s,A=C&&l[o];return m&&!r.isSponsored()&&!r.isGaslessSwap()&&e.signsViaExtension&&u&&r.state===d.TxState.PENDING&&!A}),[e,t,s])}},38438:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useIsSwapTransaction=t.getIsSwapTransaction=void 0;const a=s(202784),n=["0xdb6f1920a889355780af7570773609bd8cb1f498","0xe66b31678d6c16e9ebf358268a790b763c133750","0xdef1c0ded9bec7f1a1670819833240f027b25eff"];function r(e){return!!("SWAP"===e?.primaryAction||"SWAP"===e?.type||e?.toAddress&&n.includes(e.toAddress)||e?.isGaslessSwap())}t.getIsSwapTransaction=r,t.useIsSwapTransaction=function(e){return(0,a.useMemo)((()=>r(e)),[e])}},511803:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.messages=void 0;const a=s(239398);t.messages=(0,a.defineMessages)({pending:{id:"at6uy4",defaultMessage:"Pending"},dropped:{id:"zvtiA7",defaultMessage:"Dropped"},replaced:{id:"cEdlAk",defaultMessage:"Replaced"},relayed:{id:"HWtp1/",defaultMessage:"Relayed"},droppedByRelayer:{id:"+K4RB0",defaultMessage:"Dropped by relayer"},failed:{id:"IEesFr",defaultMessage:"Failed"},completed:{id:"/dwzd+",defaultMessage:"Complete"},send:{id:"HUNADM",defaultMessage:"Send"},sponsored:{id:"RKadQ3",defaultMessage:"Free send"},receive:{id:"ut8OdT",defaultMessage:"Receive"},speedUp:{id:"01GNtO",defaultMessage:"Speed up"},cancel:{id:"WotR2r",defaultMessage:"Cancel"},swap:{id:"MdvQnv",defaultMessage:"Swap"}})},603758:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getTransactionFiatTotal=void 0,t.getTransactionFiatTotal=function(e,t,s){return t.formatToFiatTotalRange({feeCurrencyCode:e.feeCurrencyCode,currencyCode:e.currencyCode,contractAddress:e.contractAddress,network:e.network,fee:s?0n:e.fee,lowerBoundFee:e.pendingEthTxData?.lowerBoundValue,amount:e.amount,isConfirmed:Boolean(e.confirmedAt),decimals:e.tokenDecimal,includeFee:!s&&e.isSent,feeDecimals:e.feeCurrencyDecimal})}}}]);
//# sourceMappingURL=3303.js.map