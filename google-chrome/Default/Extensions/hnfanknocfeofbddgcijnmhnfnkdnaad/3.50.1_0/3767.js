"use strict";(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[3767],{364085:(e,n,t)=>{t.r(n),t.d(n,{TransactionHistory:()=>I,TransactionsFallback:()=>j});var s,a=t(202784),r=t(239398),o=t(783112),i=t(593657),c=t(160593),l=t(405785),u=t(450706),d=t(7560),p=t(543819),f=t(712680),T=t(950766),g=t(109531),y=t(48972),h=t(661641),x=t(395545),m=t(730427),v=t(489597),b=t(525986),H=t(552322);e=t.hmd(e),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&s(e);var w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},M=(0,r.defineMessages)({emptySvgAlt:{id:"aJPhap",defaultMessage:[{type:0,value:"Empty ETH image"}]},noTransactionsHeader:{id:"kTrotB",defaultMessage:[{type:0,value:"No transactions yet"}]},emptyTransactionListMessage:{id:"RGaWXr",defaultMessage:[{type:0,value:"Your transactions will show up here"}]},sendAssetMessage:{id:"ostxOK",defaultMessage:[{type:0,value:"Send an asset to this wallet to view your first transaction"}]},addAssetButton:{id:"DuDfeJ",defaultMessage:[{type:0,value:"Add asset"}]},receiveAssetButton:{id:"taMn/t",defaultMessage:[{type:0,value:"Receive"}]}});function S(){var e=(0,o.Z)().formatMessage,n=(0,a.useContext)(m.J5),t=(0,l.useIsMultiAccountPhase1Enabled)(),s=(0,p.useTransactions)(),r=(0,f.V)(),T=t?r:s,w=(0,u.useDedupeTransactions)(T),S=(0,d.n)(T);return(0,v.c)({eventName:"viewTransactionHistory",eventIsLaunchable:T.length>=3}),(0,v.c)({eventName:"viewTrustedCustomerSurvey",eventIsLaunchable:S.length>=10}),(0,i.useTransactionViewed)(),(0,a.useEffect)((function(){return(0,c.logEvent)("global_tx_history_tab",{action:x.ActionType.click,componentType:x.ComponentType.page,loggingId:"514ddb50-2ed8-491a-a731-f142913e2acf"})}),[]),T.length?(0,H.jsx)(b.P,{transactions:w,networkContext:n}):(0,H.jsxs)(y.VStack,{height:"100%",justifyContent:"center",alignItems:"center",children:[(0,H.jsx)(g.R,{alt:e(M.emptySvgAlt)}),(0,H.jsx)(h.TextTitle3,{as:"p",children:e(M.noTransactionsHeader)}),(0,H.jsx)(h.TextBody,{as:"p",color:"foregroundMuted",children:e(M.emptyTransactionListMessage)})]})}function j(){return(0,H.jsx)(y.VStack,{spacingTop:2,spacingBottom:3,height:"100%",children:(0,H.jsx)(T.F,{})})}w(S,"useIntl{{ formatMessage }}\nuseContext{networkContext}\nuseIsMultiAccountPhase1Enabled{isMultiAccountPhase1Enabled}\nuseTransactions{allTransactions}\nuseTransactionsForPortfolioWallets{activeAddressTransactions}\nuseDedupeTransactions{dedupedTxs}\nuseMonthlyTransactions{monthlyTransactions}\nuseLaunchSprigOnMount{}\nuseLaunchSprigOnMount{}\nuseTransactionViewed{}\nuseEffect{}",(function(){return[o.Z,l.useIsMultiAccountPhase1Enabled,p.useTransactions,f.V,u.useDedupeTransactions,d.n,v.c,v.c,i.useTransactionViewed]}));var k,G,I=(0,a.memo)((function(){return(0,H.jsx)(a.Suspense,{fallback:(0,H.jsx)(j,{}),children:(0,H.jsx)(S,{})})}));(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(k.register(M,"messages","/workspaces/apps/extension/src/screens/TransactionHistory/TransactionHistory.tsx"),k.register(S,"GlobalTransactionHistoryComponent","/workspaces/apps/extension/src/screens/TransactionHistory/TransactionHistory.tsx"),k.register(j,"TransactionsFallback","/workspaces/apps/extension/src/screens/TransactionHistory/TransactionHistory.tsx"),k.register(I,"TransactionHistory","/workspaces/apps/extension/src/screens/TransactionHistory/TransactionHistory.tsx")),(G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&G(e)},525986:(e,n,t)=>{t.d(n,{B:()=>b,P:()=>M});var s,a=t(202784),r=t(239398),o=t(783112),i=t(497814),c=t(487236),l=t(62212),u=t(352871),d=t(790424),p=t(48972),f=t(661641),T=t(854667),g=t(552322);function y(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,a,r,o,i=[],c=!0,l=!1;try{if(r=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(s=r.call(t)).done)&&(i.push(s.value),i.length!==n);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(l)throw a}}return i}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return h(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,s=new Array(n);t<n;t++)s[t]=e[t];return s}e=t.hmd(e),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&s(e);var x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},m=(0,r.defineMessages)({transactionsHeader:{id:"n3H3D1",defaultMessage:[{type:0,value:"Transactions"}]},pendingTransactionsHeader:{id:"SZbDDz",defaultMessage:[{type:0,value:"Pending"}]},historyTransactionsHeader:{id:"IMbfLf",defaultMessage:[{type:0,value:"History"}]}}),v=72;function b(e){var n=e.container,t=e.transactions,s=e.readOnly;return(0,g.jsx)(g.Fragment,{children:n&&(0,g.jsx)(i._K,{scrollElement:n,children:function(e){var n=e.height,a=e.scrollTop;return(0,g.jsx)(i.qj,{disableHeight:!0,children:function(e){var r=e.width;return n?(0,g.jsx)(i.aV,{autoHeight:!0,height:n,scrollTop:a,width:r,rowCount:t.length,rowHeight:v,rowRenderer:(0,T.U)({transactions:t,readOnly:s}),overscanRowCount:10}):null}})}})})}var H,w,M=(0,a.memo)(x((function(e){var n=e.transactions,t=(0,o.Z)().formatMessage,s=(0,c.useIsTestnetsEnabled)(),r=y((0,a.useState)(null),2),i=r[0],h=r[1],x=(0,a.useMemo)((function(){return s?n:n.filter((function(e){return!e.network.isTestnet}))}),[s,n]),v=(0,l.useGroupedPendingTransactions)(x),H=v.pendingOrReplacedTransactionGroups,w=v.pendingTransactions,M=v.remainingTransactions,S=(0,d.q7)(),j=S.isSecondarySticky,k=S.setIsSecondarySticky,G=S.scrollPosition;return(0,g.jsxs)(d.lL,{ref:h,header:(0,g.jsx)(u.l2,{hasPageTitle:!1,title:t(m.transactionsHeader),isSecondarySticky:j,testID:"global-transactions-header"}),children:[(0,g.jsxs)(g.Fragment,{children:[w.length?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.PH,{scrollPosition:G,onSecondaryStickyChange:k,children:(0,g.jsx)(f.TextTitle3,{as:"p",spacingTop:2,spacingStart:3,testID:"pending-transactions-header",children:t(m.pendingTransactionsHeader)})}),(0,g.jsx)(p.Box,{as:"section",flexDirection:"column",flexGrow:1,testID:"pending-transactions-section",children:H.map((function(e){return(0,T.J)({rows:e})}))})]}):null,w.length&&M.length?(0,g.jsx)(u.PH,{scrollPosition:G,onSecondaryStickyChange:k,children:(0,g.jsx)(f.TextTitle3,{as:"p",spacingTop:2,spacingStart:3,children:t(m.historyTransactionsHeader)})}):null]}),(0,g.jsx)(b,{container:i,transactions:M})]})}),"useIntl{{ formatMessage }}\nuseIsTestnetsEnabled{isTestnetsEnabled}\nuseState{[container, setContainer](null)}\nuseMemo{filteredTransactions}\nuseGroupedPendingTransactions{{ pendingOrReplacedTransactionGroups, pendingTransactions, remainingTransactions }}\nuseScreenContext{{ isSecondarySticky, setIsSecondarySticky, scrollPosition }}",(function(){return[o.Z,c.useIsTestnetsEnabled,l.useGroupedPendingTransactions,d.q7]})));(H="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(H.register(m,"messages","/workspaces/apps/extension/src/screens/TransactionHistory/Transactions.tsx"),H.register(v,"LIST_ITEM_SIZE","/workspaces/apps/extension/src/screens/TransactionHistory/Transactions.tsx"),H.register(b,"TransactionScrollContainer","/workspaces/apps/extension/src/screens/TransactionHistory/Transactions.tsx"),H.register(M,"Transactions","/workspaces/apps/extension/src/screens/TransactionHistory/Transactions.tsx")),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&w(e)},450706:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.useDedupeTransactions=void 0;const s=t(202784);n.useDedupeTransactions=function(e){return(0,s.useMemo)((()=>{const n=new Map;for(const t of e){const e=n.get(t.txHash);if(e){if(e.source!==t.source&&"V3"===e.source){n.set(t.txHash,e);continue}if(e.source!==t.source&&"V3"===t.source){n.set(t.txHash,t);continue}const s=Number(e.amount)>Number(t.amount)&&e.isSent?e:t;n.set(t.txHash,s)}else n.set(t.txHash,t)}return Array.from(n.values())}),[e])}},7560:(e,n,t)=>{n.n=void 0;const s=t(202784);n.n=function(e){return(0,s.useMemo)((()=>{const n=new Date;return e.filter((e=>n.getTime()-(e?.confirmedAt?.getTime()??0)<=24192e5))}),[e])}},712680:(e,n,t)=>{n.V=void 0;const s=t(403823),a=t(553476),r=t(915577);n.V=function(){return(0,s.useGetUTXOExperimentGatedTransactions)()((0,a.useRecoilValue)(r.portfolioTransactionsSelector))}},199059:(e,n)=>{n.Wx=n.nT=n.Tq=void 0,BigInt("175000000000"),n.Tq=(new Date).getTime()-864e5,n.nT=(new Date).getTime()+864e5,n.Wx=5}}]);
//# sourceMappingURL=3767.js.map