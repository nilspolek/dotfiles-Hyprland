"use strict";(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[8073],{638073:(e,t,o)=>{o.r(t),o.d(t,{Watchlist:()=>j});var a,r=o(202784),n=o(239398),s=o(783112),l=o(107267),i=o(849495),c=o(753396),d=o(976974),u=o(352871),f=o(790424),p=o(40217),h=o(48972),m=o(661641),b=o(268708),y=o(679626),v=o(268042),x=o(706506),g=o(781462),H=o(552322);e=o.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var w,W,G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},L=(0,n.defineMessages)({title:{id:"PErR1y",defaultMessage:[{type:0,value:"Watchlist"}]}}),j=(0,r.memo)(G((function(){var e=(0,s.Z)().formatMessage,t=(0,l.useHistory)(),o=t.goBack,a=t.push,n=(0,c.Z)(),w=n.watchlist,W=n.isLoading;(0,b.V)(d.PERF_MARKS.watchlist,d.WATCHLIST_MARKS.navigate_to_watchlist,{type:"end"});var G=(0,p.useExtensionPerfMark)(d.PERF_MARKS.watchlist,d.WATCHLIST_MARKS.navigate_to_watchlist_discovery,{logMetric:!0}).start,j=(0,i.useWatchlistButtonEvent)({componentName:"back"}),M=(0,r.useCallback)((function(){j(),o()}),[j,o]),E=(0,r.useCallback)((function(){j({componentName:"explore"}),G(),a("/explore/watchlistDiscovery")}),[j,a,G]),k=(0,r.useMemo)((function(){return W?(0,H.jsx)(g.H,{title:e(L.title),cta:(0,H.jsx)(h.Box,{pin:"bottom",children:(0,H.jsx)(y.E,{})})}):w&&0!==(null==w?void 0:w.length)?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(h.VStack,{overflow:"scroll",flexGrow:1,flexBasis:1,position:"relative",spacingBottom:10,children:[(0,H.jsx)(h.Box,{spacingHorizontal:3,spacingVertical:2,children:(0,H.jsx)(m.TextTitle1,{as:"h1",children:e(L.title)})}),w.map((function(e,t){return(0,H.jsx)(v.o,{watchlistItem:e,index:t})}))]}),(0,H.jsx)(h.Box,{pin:"bottom",children:(0,H.jsx)(y.E,{onPress:E})})]}):(0,H.jsxs)(h.Box,{alignSelf:"center",flexDirection:"column",flexGrow:1,flexBasis:1,children:[(0,H.jsx)(x.m,{}),(0,H.jsx)(h.Box,{pin:"bottom",children:(0,H.jsx)(y.E,{})})]})}),[e,E,W,w]);return(0,H.jsx)(f.lL,{height:"100%",header:(0,H.jsx)(u.l2,{variant:"secondary",title:e(L.title),handleBack:M,hasPageTitle:!0,isSticky:!0}),children:k})}),"useIntl{{ formatMessage }}\nuseHistory{{ goBack, push }}\nuseGetWatchlist{{ watchlist, isLoading }}\nusePerfMarkOnMount{}\nuseExtensionPerfMark{{ start: startNavigateToWatchlistDiscoveryPerfMark }}\nuseWatchlistButtonEvent{clickEvent}\nuseCallback{handleGoBack}\nuseCallback{handleAddMoreAssetsPress}\nuseMemo{content}",(function(){return[s.Z,l.useHistory,c.Z,b.V,p.useExtensionPerfMark,i.useWatchlistButtonEvent]})));(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(w.register(L,"messages","/workspaces/apps/extension/src/screens/Watchlist/Watchlist.tsx"),w.register(j,"Watchlist","/workspaces/apps/extension/src/screens/Watchlist/Watchlist.tsx")),(W="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&W(e)},679626:(e,t,o)=>{o.d(t,{E:()=>h});var a,r=o(202784),n=o(239398),s=o(783112),l=o(960723),i=o(48972),c=o(552322);e=o.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var d,u,f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},p=(0,n.defineMessages)({addMoreAssetsButton:{id:"5PFqBv",defaultMessage:[{type:0,value:"Watch more assets"}]}}),h=(0,r.memo)(f((function(e){var t=e.onPress,o=(0,s.Z)().formatMessage;return(0,c.jsx)(i.Box,{flexDirection:"row",flexGrow:1,justifyContent:"center",spacingHorizontal:3,spacingVertical:2,children:(0,c.jsx)(l.Button,{variant:"secondary",endIcon:"forwardArrow",onPress:t,block:!0,children:o(p.addMoreAssetsButton)})})}),"useIntl{{ formatMessage }}",(function(){return[s.Z]})));(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(p,"messages","/workspaces/apps/extension/src/screens/Watchlist/components/WatchlistAddAssetButton.tsx"),d.register(h,"WatchlistAddAssetButton","/workspaces/apps/extension/src/screens/Watchlist/components/WatchlistAddAssetButton.tsx")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},268042:(e,t,o)=>{o.d(t,{o:()=>M});var a,r=o(202784),n=o(107267),s=o(849495),l=o(93228),i=o(656695),c=o(422997),d=o(889175),u=o(230438),f=o(160756),p=o(599050),h=o(907839),m=o(540380),b=o(661641),y=o(682513),v=o(552322);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function g(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function H(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?g(Object(o),!0).forEach((function(t){w(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):g(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function w(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==x(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,t||"default");if("object"!==x(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===x(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}e=o.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var W,G,L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},j=(0,r.memo)(L((function(e){var t=e.watchlistItem,o=e.index,a=(0,n.useHistory)().push,h=(0,d.q)({address:t.contractAddress,blockchain:t.blockchain,chainId:t.chainId,decimals:t.decimals,name:t.name,symbol:t.symbol,uuid:t.uuid}),x=(0,r.useMemo)((function(){return{chainName:t.blockchain,componentPlacement:s.ComponentPlacementEnum.L2,entityName:t.name,entityType:"OBJECT_TYPE_NFT"===t.type?s.EntityTypeEnum.NFT:s.EntityTypeEnum.ASSET,rankIndex:o}}),[o,t]),g=(0,s.useViewWatchlistCardEvent)(x),H=(0,s.useClickWatchlistCardEvent)(x);(0,i.useOnMount)((function(){g()}));var w=(0,u.useActiveWalletGroupId)(),W=(0,c.useGetExploreAssetWallet)(w)(h.id),G=(0,l.Ct)(t.symbol,t.uuid,!0),L=G.formattedPercent,j=G.percentColor,M=G.percentArrow,E=(0,r.useMemo)((function(){return{currencyCode:h.symbol,iconUrl:h.imageUrl}}),[h.imageUrl,h.symbol]),k=(0,r.useCallback)((function(){var e;H(),a("/portfolio/crypto/".concat(encodeURIComponent(null!==(e=null==W?void 0:W.id)&&void 0!==e?e:h.id),"/").concat(y.FU.Explore))}),[null==W?void 0:W.id,H,a,h.id]),C=(0,f.E)(h);return(0,v.jsx)(m.ListCell,{title:(0,v.jsx)(b.TextHeadline,{as:"h1",noWrap:!0,overflow:"truncate",children:h.name}),description:(0,v.jsx)(b.TextLabel2,{as:"p",color:"foregroundMuted",children:h.symbol}),detail:(0,v.jsx)(b.TextLabel2,{as:"p",align:"end",children:C}),subdetail:(0,v.jsx)(b.TextBody,{as:"p",color:j,align:"end",children:"".concat(M," ").concat(L)}),borderRadius:"roundedLarge",media:(0,v.jsx)(p.Y,{asset:E,width:32,height:32}),onPress:k,testID:"watchlist-cell-".concat(h.symbol)})}),"useHistory{{ push }}\nuseWatchlistItem{watchedAsset}\nuseMemo{eventData}\nuseViewWatchlistCardEvent{viewCardEvent}\nuseClickWatchlistCardEvent{clickCardEvent}\nuseOnMount{}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseGetExploreAssetWallet{getExploreAssetWallet}\nuseGetPriceDetail{{ formattedPercent, percentColor, percentArrow }}\nuseMemo{assetIcon}\nuseCallback{handleOnPress}\nuseWatchedAssetPrice{formattedAmount}",(function(){return[n.useHistory,d.q,s.useViewWatchlistCardEvent,s.useClickWatchlistCardEvent,i.useOnMount,u.useActiveWalletGroupId,c.useGetExploreAssetWallet,l.Ct,f.E]}))),M=(0,r.memo)((function(e){return(0,v.jsx)(h.S,{children:(0,v.jsx)(r.Suspense,{fallback:null,children:(0,v.jsx)(j,H({},e))})})}));(W="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(W.register(j,"WatchlistCellContent","/workspaces/apps/extension/src/screens/Watchlist/components/WatchlistCell.tsx"),W.register(M,"WatchlistCellWithBoundary","/workspaces/apps/extension/src/screens/Watchlist/components/WatchlistCell.tsx")),(G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&G(e)},706506:(e,t,o)=>{o.d(t,{m:()=>m});var a,r=o(202784),n=o(239398),s=o(783112),l=o(349806),i=o(48972),c=o(661641),d=o(552322);e=o.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var u,f,p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},h=(0,n.defineMessages)({detail:{id:"pCYCWi",defaultMessage:[{type:0,value:"Start building your watchlist"}]},subdetail:{id:"CcdFox",defaultMessage:[{type:0,value:"Stay up to date on the assets you care about"}]}}),m=(0,r.memo)(p((function(){var e=(0,s.Z)().formatMessage;return(0,d.jsxs)(i.VStack,{flexGrow:1,flexBasis:1,justifyContent:"center",alignContent:"center",alignItems:"center",alignSelf:"center",spacingHorizontal:6,children:[(0,d.jsx)(l.q,{}),(0,d.jsx)(c.TextHeadline,{as:"h1",align:"center",spacingTop:4,children:e(h.detail)}),(0,d.jsx)(c.TextBody,{as:"p",align:"center",color:"foregroundMuted",children:e(h.subdetail)})]})}),"useIntl{{ formatMessage }}",(function(){return[s.Z]})));(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(h,"messages","/workspaces/apps/extension/src/screens/Watchlist/components/WatchlistEmpty.tsx"),u.register(m,"WatchlistEmpty","/workspaces/apps/extension/src/screens/Watchlist/components/WatchlistEmpty.tsx")),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)},781462:(e,t,o)=>{o.d(t,{H:()=>u});var a,r=o(202784),n=o(544562),s=o(48972),l=o(661641),i=o(552322);e=o.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var c,d,u=(0,r.memo)((function(e){var t=e.cta,o=void 0===t?void 0:t,a=e.description,c=void 0===a?void 0:a,d=e.isDiscovery,u=void 0!==d&&d,f=e.title;return(0,i.jsxs)(s.Box,{flexBasis:1,flexGrow:1,flexDirection:"column",testID:"watchlist-".concat(u?"discovery-":"","loading"),children:[(0,i.jsxs)(s.VStack,{spacingHorizontal:3,spacingVertical:u?0:2,spacingBottom:u?3:0,gap:1,children:[(0,i.jsx)(l.TextTitle1,{as:"h1",children:f}),!!c&&(0,i.jsx)(l.TextBody,{as:"p",color:"foregroundMuted",children:c})]}),Array(4).fill((0,i.jsx)(n.ListCellFallback,{title:!0,description:!0,detail:!0,subdetail:!0,media:"asset",compact:!0})).map((function(e,t){return(0,i.jsx)(r.Fragment,{children:e},"watchlist-".concat(u?"discovery-":"","fallback-").concat(t))})),o]})}));(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&c.register(u,"WatchlistLoading","/workspaces/apps/extension/src/screens/Watchlist/components/WatchlistLoading.tsx"),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)},753396:(e,t,o)=>{t.Z=void 0;const a=o(202784),r=o(632810),n=o(602438),s=o(774710);t.Z=function(){const e=(0,r.usePrimaryReceiveWallets)().get("ETH")?.primaryAddress??"",{data:t,refetch:o,isLoading:l,error:i}=(0,n.useQuery)([s.GET_WATCHLIST_QUERY_KEY,e],(async()=>(0,s.fetchWatchlist)({walletAddress:e})),{notifyOnChangeProps:["data","error"],cacheTime:0}),c=(0,a.useCallback)((function(){e&&o()}),[e,o]),d=(0,a.useMemo)((()=>(t?.watchlist??[]).filter((e=>"OBJECT_TYPE_ASSET"===e.type))),[t?.watchlist]);return(0,a.useMemo)((()=>({watchlist:d,error:i,refetchWatchlist:c,isLoading:l})),[i,d,l,c])}}}]);
//# sourceMappingURL=8073.js.map