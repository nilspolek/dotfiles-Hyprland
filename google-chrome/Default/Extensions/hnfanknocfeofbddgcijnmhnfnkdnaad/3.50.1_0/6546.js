(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[6546],{371796:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.paletteConfigToRgbaStrings=void 0;var s=n(282899);t.paletteConfigToRgbaStrings=(e,t,n)=>Object.keys(e).reduce(((r,o)=>{const a=e[o];return a&&(r[o]=(0,s.paletteValueToRgbaString)(a,t,n)),r}),{})},573399:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeConfigContext=void 0;const s=(0,n(202784).createContext)(void 0);t.ThemeConfigContext=s},193005:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.usePalette=void 0;var s=n(575025);t.usePalette=function(){return(0,s.useThemeConfig)().activeConfig.rgbaStrings}},526077:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createFallbackThemeConfig=function(e){if(e)return c({palette:s.frontierSpectrumPalette,hasFrontier:!0,name:"frontier"});return c({palette:s.defaultPalette,name:"default"})},t.createThemeConfig=void 0;var s=n(698029),r=n(34391),o=n(533552),a=function(e){var t=e.name,n=e.parentThemeConfig;return""+(n?n.name+"-":"")+t},c=(0,r.memoize)((function(e){var t=e.palette,n=e.parentThemeConfig,s=e.name,r=e.hasFrontier,c=a({name:s,parentThemeConfig:n});return{name:c,light:(0,o.createThemeConfigForSpectrum)({name:c,palette:t,parentThemeConfig:n,spectrum:"light",hasFrontier:r}),dark:(0,o.createThemeConfigForSpectrum)({name:c,palette:t,parentThemeConfig:n,spectrum:"dark",hasFrontier:r})}}),a);t.createThemeConfig=c},533552:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createThemeConfigForSpectrum=void 0;var s=n(992259),r=n(30746),o=n(371796),a=Object.assign({},s.defaultPalette,s.frontierSpectrumPalette.light),c=Object.assign({},s.defaultPalette,s.frontierSpectrumPalette.dark),i=function(e){return"light"in e},u=function(e){return"dark"in e};function l(e,t,n){return n?"light"===e?Object.assign({},n.light.palette,t?s.frontierSpectrumPalette.light:{}):Object.assign({},n.dark.palette,t?s.frontierSpectrumPalette.dark:{}):function(e,t){var n=t?a:s.defaultPalette,r=t?c:s.defaultPalette;return"light"===e?n:r}(e,t)}t.createThemeConfigForSpectrum=function(e){var t=e.hasFrontier,n=void 0!==t&&t,s=e.name,a=e.palette,c=e.parentThemeConfig,d=e.spectrum,p=l(d,n,c),m=function(e){return!i(e)&&!u(e)}(a)?a:p,f=i(a)?a.light:m,h=u(a)?a.dark:m,g="light"===d?f:h,T=Object.assign({},p,g);return{palette:T,rgbaStrings:(0,o.paletteConfigToRgbaStrings)(T,d,n),interactableTokens:(0,r.paletteConfigToInteractableTokens)({paletteConfig:T,spectrum:d,hasFrontier:n}),name:s+"-"+d}}},575025:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useThemeConfig=void 0;var s=n(202784),r=n(573399),o=n(526077);t.useThemeConfig=function(){var e=(0,s.useContext)(r.ThemeConfigContext);return(0,s.useMemo)((function(){if(e)return e;var t=(0,o.createFallbackThemeConfig)();return{config:t,activeConfig:t.light}}),[e])}},123013:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useUnwatchableAssetEvent=t.useClickWatchlistDiscoveryCardEvent=t.useViewWatchlistDiscoveryCardEvent=t.useWatchlistDiscoveryButtonEvent=t.useWatchlistNuxCardClickEvent=t.useWatchlistSearchEvent=t.useClickWatchlistCardEvent=t.useViewWatchlistCardEvent=t.useWatchlistButtonEvent=t.EntityTypeEnum=t.ComponentPlacementEnum=void 0;const s=n(395545),r=n(23945),o=n(160593);!function(e){e.L1="l1",e.L2="l2"}(t.ComponentPlacementEnum||(t.ComponentPlacementEnum={})),function(e){e.ASSET="coins",e.NFT="nfts"}(t.EntityTypeEnum||(t.EntityTypeEnum={})),t.useWatchlistButtonEvent=function(e){return(0,o.useEventLogger)("watchlist_button",{...e,action:s.ActionType.click,componentType:s.ComponentType.button,context:r.ExploreContext.WATCHLIST,loggingId:"fbf1ca9e-a59b-4e87-924a-ec8a55a55884"})},t.useViewWatchlistCardEvent=function(e){return(0,o.useEventLogger)("watchlist_card",{...e,action:s.ActionType.view,componentType:s.ComponentType.card,context:r.ExploreContext.WATCHLIST,loggingId:"0c9101be-6954-47f9-b50b-5cbdc929efbb"})},t.useClickWatchlistCardEvent=function(e){return(0,o.useEventLogger)("watchlist_card",{...e,action:s.ActionType.click,componentType:s.ComponentType.card,context:r.ExploreContext.WATCHLIST,loggingId:"0c9101be-6954-47f9-b50b-5cbdc929efbb"})},t.useWatchlistSearchEvent=function(e){return(0,o.useEventLogger)("search_bar",{...e,action:s.ActionType.click,componentType:s.ComponentType.card,context:r.ExploreContext.WATCHLIST,loggingId:"9c641d09-3928-4446-96c3-963a08a7576d"})},t.useWatchlistNuxCardClickEvent=function(e){return(0,o.useEventLogger)("watchlist_null_card",{...e,action:s.ActionType.click,componentType:s.ComponentType.card,context:r.ExploreContext.WATCHLIST,loggingId:"3dd827e3-b2e8-4581-87f6-5cddfca209fd"})},t.useWatchlistDiscoveryButtonEvent=function(){return(0,o.useEventLogger)("watchlist_discover_button",{action:s.ActionType.click,componentType:s.ComponentType.card,context:r.ExploreContext.WATCHLIST,loggingId:"70b8d118-c9e1-493c-9351-e630b37550b7",componentName:"back"})},t.useViewWatchlistDiscoveryCardEvent=function(e){return(0,o.useEventLogger)("watchlist_discover_card",{...e,action:s.ActionType.view,componentType:s.ComponentType.card,context:r.ExploreContext.WATCHLIST,loggingId:"6d497349-1e42-452e-996d-52fef8123392"})},t.useClickWatchlistDiscoveryCardEvent=function(e){return(0,o.useEventLogger)("watchlist_discover_card",{...e,action:s.ActionType.click,componentType:s.ComponentType.card,context:r.ExploreContext.WATCHLIST,loggingId:"6d497349-1e42-452e-996d-52fef8123392"})},t.useUnwatchableAssetEvent=function(e){return(0,o.useEventLogger)("watchlist_asset_unwatchable",{...e,action:s.ActionType.view,componentType:s.ComponentType.button,context:r.ExploreContext.WATCHLIST,loggingId:"6f5d3360-efe6-4a75-b06f-b8cf22f18de0"})}},849495:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(123013),t)},93228:(e,t,n)=>{"use strict";t.Ct=t.TI=t.Td=void 0;const s=n(202784),r=n(239398),o=n(758416),a=n(420378),c=n(234227),i=n(834748),u=n(193005);t.Td="\u2197",t.TI="\u2198",t.Ct=function(e,n,l){const{formatNumber:d}=(0,r.useIntl)(),p=(0,o.useFormatPercent)(),m=(0,u.usePalette)(),{asset:f}=(0,c.useAsset)(e,n),{data:h}=(0,i.usePrices)({assetId:f?.id,onlyPercentChangeResolutions:l?[a.RESOLUTION_DAY]:void 0}),g=h?.prices.latestPrice,T=g?.amount,y=g?.percentChange.day,C=T?d(Math.abs(Number(T?.amount)),{style:"currency",currency:T?.currency,minimumFractionDigits:T?.scale}):"",v=!!y&&y>0,b=void 0!==y&&0===y,_=void 0!==y?p(Math.abs(y),2):"",E=(0,s.useMemo)((()=>b||!y?"":v?t.Td:t.TI),[b,y,v]),A=(0,s.useMemo)((()=>b||!y?"foregroundMuted":v?"positive":"negative"),[b,y,v]);return{formattedPercent:_,formattedAmount:C,color:f?.color??m.primary,prices:l?void 0:h,percentArrow:E,percentColor:A}}},758416:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFormatPercent=void 0;const s=n(202784),r=n(239398);t.useFormatPercent=function(){const{formatNumber:e}=(0,r.useIntl)();return(0,s.useCallback)((function(t,n){return`${e(t,{style:"percent",maximumFractionDigits:n,minimumFractionDigits:n})}`}),[e])}},185353:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSetAssetsMap=t.useAssetsMap=void 0;const s=n(356765),r=n(553476);t.useAssetsMap=function(){return(0,r.useRecoilValue)(s.assetsMapAtom)},t.useSetAssetsMap=function(){return(0,r.useSetRecoilState)(s.assetsMapAtom)}},356765:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assetsMapAtom=void 0;const s=n(553476),r=new Map;t.assetsMapAtom=(0,s.atom)({key:"assetsMap",default:r})},363568:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useAddExploreAsset=void 0;const s=n(202784),r=n(38463),o=n(863312);t.useAddExploreAsset=function(e){const t=(0,r.useSetExploreAssetsMap)(),n=(0,s.useMemo)((()=>new o.ExploreAsset(e)),[e]);return(0,s.useEffect)((()=>{t([n])}),[n,t]),n}},38463:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSetExploreAssetsMap=void 0;const s=n(202784),r=n(185353);t.useSetExploreAssetsMap=function(){const e=(0,r.useSetAssetsMap)();return(0,s.useCallback)((function(t){const n=new Map;for(const e of t)n.set(e.id,e);e((e=>new Map([...e,...n])))}),[e])}},889175:(e,t,n)=>{"use strict";t.q=void 0;const s=n(202784),r=n(363568),o=n(234227),a=n(834748);t.q=function(e){const{data:t}=(0,a.usePrices)({assetId:e.uuid}),{asset:n}=(0,o.useAsset)(e.symbol,e.uuid,!0);if(!n)throw new Error(`useWatchlistItem: unable to get Asset information for ${e.uuid}`);const c=(0,r.useAddExploreAsset)({name:n.name,currencyCode:n.symbol,address:e.address,decimals:e.decimals,imageURL:n.image_url,chainId:e.chainId,blockchain:e.blockchain,uuid:n.id,percentChangeDay:t?.prices.latestPrice.percentChange.day??0});return(0,s.useMemo)((()=>({symbol:n.symbol,name:n.name,imageUrl:n.image_url,priceChange:t?.prices.latestPrice.percentChange.day,latestPrice:t?.prices.latestPrice,uuid:n.id,id:c.id,network:c.network})),[n.id,n.image_url,n.name,n.symbol,c.id,c.network,t?.prices.latestPrice])}},863312:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExploreAsset=void 0;const s=n(399389);class r extends s.Asset{constructor(e){super(e.name,e.currencyCode,e.address,e.decimals,e.imageURL,e.chainId,e.blockchain),this.uuid=e.uuid,this.numOfBuys=e.numOfBuys,this.numOfSells=e.numOfSells}equals(e){return e instanceof r&&(super.equals(e)&&this.uuid===e.uuid)}}t.ExploreAsset=r},834748:(e,t,n)=>{"use strict";var s=n(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.useInvalidatePricesQueries=t.usePrices=t.usePricesV3=void 0;const r=n(202784),o=n(946813),a=n(602438),c=n(566992),i=n(420378),u="coinbase_asset_prices",l=3e4;function d({assetId:e,onlyPercentChangeResolutions:t}){const{code:n}=(0,c.useActiveFiatCurrency)(),r={uuid:e,currency:n.rawValue,resolutions:i.RESOLUTIONS};t&&(r.resolutions=t);const o=s.from(JSON.stringify(r),"utf-8").toString("base64"),{data:d,isFetched:p}=(0,a.useQuery)([u,o],(async function(){const s=await(0,i.getAssetPricesV3)(o,e,n.rawValue);return t&&s?function(e){const t={prices:[],yaxisScalingFactor:1};return{baseId:e.baseId,base:e.base,currency:e.currency,prices:{latest:e.prices.latest,latestPrice:e.prices.latestPrice,hour:t,day:t,month:t,week:t,year:t,all:t},unitPriceScale:e.unitPriceScale}}(s):s}),{enabled:Boolean(e),staleTime:l,notifyOnChangeProps:["data"]});return{data:d,isFetched:p}}t.usePricesV3=d,t.usePrices=function({assetId:e,onlyPercentChangeResolutions:t}){const{data:n,isFetched:s}=d({assetId:e,onlyPercentChangeResolutions:t});return{data:n,isFetched:s}},t.useInvalidatePricesQueries=function(){const e=(0,o.useQueryClient)();return(0,r.useCallback)((function(){e.invalidateQueries([u])}),[e])}},774710:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeFromWatchlist=t.addToWatchlist=t.fetchIsWatching=t.fetchWatchlist=t.REMOVE_FROM_WATCHLIST_QUERY_KEY=t.ADD_TO_WATCHLIST_QUERY_KEY=t.IS_WATCHING_QUERY_KEY=t.GET_WATCHLIST_QUERY_KEY=void 0;const s=n(68729),r=n(49982);function o(e){let t={};return Object.keys(e).forEach((n=>{(e[n]||0===e[n])&&(t={...t,[n]:e[n]})})),t}t.GET_WATCHLIST_QUERY_KEY="watchlist/getWatchlist",t.IS_WATCHING_QUERY_KEY="watchlist/isWatching",t.ADD_TO_WATCHLIST_QUERY_KEY="watchlist/addToWatchlist",t.REMOVE_FROM_WATCHLIST_QUERY_KEY="watchlist/removeFromWatchlist",t.fetchWatchlist=async function({walletAddress:e}){const n={walletAddress:e},{result:o}=await(0,r.getJSON)(t.GET_WATCHLIST_QUERY_KEY,n,{authenticated:!0,setAuthTokens:s.setAuthTokensImperative});return o},t.fetchIsWatching=async function({contractAddress:e,uuid:n,symbol:a,walletAddress:c}){const i={contractAddress:e,uuid:n,symbol:a,walletAddress:c},{result:u}=await(0,r.getJSON)(t.IS_WATCHING_QUERY_KEY,o(i),{authenticated:!0,setAuthTokens:s.setAuthTokensImperative});return u},t.addToWatchlist=async function({blockchain:e,chainId:n,contractAddress:a,symbol:c,type:i,uuid:u,walletAddress:l}){const d={blockchain:e,chainId:n?.toString(),contractAddress:a,symbol:c,type:i,uuid:u,walletAddress:l},{result:p}=await(0,r.postJSON)(t.ADD_TO_WATCHLIST_QUERY_KEY,o(d),{authenticated:!0,setAuthTokens:s.setAuthTokensImperative});return p},t.removeFromWatchlist=async function({contractAddress:e,symbol:n,type:a,walletAddress:c}){const i={contractAddress:e,symbol:n,type:a,walletAddress:c},{result:u}=await(0,r.postJSON)(t.REMOVE_FROM_WATCHLIST_QUERY_KEY,o(i),{authenticated:!0,setAuthTokens:s.setAuthTokensImperative});return u}},160756:(e,t,n)=>{"use strict";t.E=void 0;const s=n(239398);t.E=function(e){const{formatNumber:t}=(0,s.useIntl)();return e.latestPrice?t(Math.abs(Number(e.latestPrice.amount.amount)),{style:"currency",currency:e.latestPrice.amount.currency,minimumFractionDigits:e.latestPrice.amount.scale}):""}}}]);
//# sourceMappingURL=6546.js.map