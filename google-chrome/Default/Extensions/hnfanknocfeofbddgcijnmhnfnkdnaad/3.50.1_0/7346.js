/*! For license information please see 7346.js.LICENSE.txt */
"use strict";(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[7346],{987346:(e,t,r)=>{r.r(t),r.d(t,{Stake:()=>P});var n,a=r(202784),o=r(107267),i=r(160593),s=r(86296),l=r(886855),u=r(334291),c=r.n(u),d=r(907839),f=r(61517),p=r(405263),y=r(48972),g=r(395545),m=r(978741),v=r(799759),h=r(471609),S=r(986882),k=r(969620),b=r(552322);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==w(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===w(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var A,x,M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};function L(){var e=(0,m.useDefaultStep)();return(0,b.jsx)(S.stepper.Provider,{defaultStep:e,children:(0,b.jsx)(k.r,{})})}function P(){var e=(0,o.useParams)(),t=e.stakeType,r=e.currencyCode,n=e.targetCurrencyCode,u=e.chainId,m=e.tokenId,k=(0,a.useMemo)((function(){return C(C({},S.initialValues),{},{stakeType:t,currencyCode:r,targetCurrencyCode:n,network:l.Network.fromChainId({chainId:BigInt(null!=u?u:"1")}),tokenId:null!=m?m:""})}),[u,r,t,n,m]),w=(0,a.useCallback)((function(e){var n=e.error,a=e.errorHash;(0,i.logEvent)("stake.full_screen_error.viewed",{errorHash:a,errorMessage:n.message,action:g.ActionType.view,componentType:g.ComponentType.page,currencyCode:r,chainId:u,context:t});var o=(0,s.coerceError)(n,"stake log global error");(0,s.cbReportError)({error:o,metadata:{error:null==n?void 0:n.message},context:"bridge-error",severity:"error",isHandled:!1})}),[u,r,t]),T=(0,a.useCallback)((function(e){var t=e.error;return(0,b.jsx)(h._,{error:t})}),[]);return(0,b.jsx)(y.VStack,{height:f.IR,children:(0,b.jsx)(d.S,{onError:w,renderFallback:T,children:(0,b.jsx)(p.J,{fallback:(0,b.jsx)(v.T,{}),children:(0,b.jsx)(S.form.Provider,{onSubmit:c(),initialValues:k,children:(0,b.jsx)(L,{})})})})})}M(L,"useDefaultStep{defaultStep}",(function(){return[m.useDefaultStep]})),M(P,"useParams{{ stakeType, currencyCode, targetCurrencyCode, chainId, tokenId }}\nuseMemo{initialFormValues}\nuseCallback{logGlobalError}\nuseCallback{renderFallback}",(function(){return[o.useParams]})),(A="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(A.register(L,"StakeContent","/workspaces/apps/extension/src/screens/Stake/Stake.tsx"),A.register(P,"Stake","/workspaces/apps/extension/src/screens/Stake/Stake.tsx")),(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&x(e)},969620:(e,t,r)=>{r.d(t,{r:()=>h});var n,a=r(735103),o=r(94745),i=r(873723),s=r(490536),l=r(519431),u=r(824591),c=r(269278),d=r(359731),f=r(938397),p=r(598366),y=r(986882),g=r(552322);e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var m,v;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function h(){return(0,g.jsxs)(y.stepper.Steps,{children:[(0,g.jsx)(a.StepperStep,{component:(0,g.jsx)(u.r,{})},"learn"),(0,g.jsx)(a.StepperStep,{component:(0,g.jsx)(l.y,{})},"entry"),(0,g.jsx)(a.StepperStep,{component:(0,g.jsx)(i.m,{})},"confirmationPreview"),(0,g.jsx)(a.StepperStep,{component:(0,g.jsx)(c.F,{})},"phoneConfirmation"),(0,g.jsx)(a.StepperStep,{component:(0,g.jsx)(p._,{})},"status"),(0,g.jsx)(a.StepperStep,{component:(0,g.jsx)(s.e,{})},"depositGas"),(0,g.jsx)(a.StepperStep,{component:(0,g.jsx)(d.E,{})},"selectAsset"),(0,g.jsx)(a.StepperStep,{component:(0,g.jsx)(f.e,{})},"selectProvider"),(0,g.jsx)(a.StepperStep,{component:(0,g.jsx)(o.n,{})},"claimConfirmation")]})}(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&m.register(h,"StakeStepper","/workspaces/apps/extension/src/screens/Stake/StakeStepper.tsx"),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&v(e)},94745:(e,t,r)=>{r.d(t,{n:()=>$});var n,a=r(202784),o=r(239398),i=r(783112),s=r(107267),l=r(184263),u=r(223933),c=r(86296),d=r(619543),f=r(472987),p=r(559440),y=r(123132),g=r(805173),m=r(317039),v=r(55731),h=r(376236),S=r(222493),k=r(614304),b=r(705890),w=r(674017),T=r(230438),C=r(976974),E=r(599050),A=r(401723),x=r(40217),M=r(735103),L=r(95898),P=r(853052),_=r(48972),I=r(111176),G=r(555192),O=r(268708),j=r(340671),D=r(183221),F=r(986882),B=r(929021),R=r(552322);function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){U(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function U(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==H(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===H(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(){K=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),s=new P(n||[]);return a(i,"_invoke",{value:A(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var f="suspendedStart",p="suspendedYield",y="executing",g="completed",m={};function v(){}function h(){}function S(){}var k={};u(k,i,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(_([])));w&&w!==r&&n.call(w,i)&&(k=w);var T=S.prototype=v.prototype=Object.create(k);function C(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(a,o,i,s){var l=d(e[a],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==H(c)&&n.call(c,"__await")?t.resolve(c.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(c).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,s)}))}s(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function A(t,r,n){var a=f;return function(o,i){if(a===y)throw new Error("Generator is already running");if(a===g){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var l=x(s,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=y;var u=d(t,r,n);if("normal"===u.type){if(a=n.done?g:p,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=g,n.method="throw",n.arg=u.arg)}}}function x(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,x(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function _(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(H(t)+" is not iterable")}return h.prototype=S,a(T,"constructor",{value:S,configurable:!0}),a(S,"constructor",{value:h,configurable:!0}),h.displayName=u(S,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,u(e,l,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},C(E.prototype),u(E.prototype,s,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new E(c(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(T),u(T,l,"Generator"),u(T,i,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return s.type="throw",s.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;L(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:_(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function Y(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var q,Q,z="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},X=(0,o.defineMessages)({claimTitle:{id:"ISNPhP",defaultMessage:[{type:0,value:"Claim"}]},unstakeTitle:{id:"dy9tzc",defaultMessage:[{type:0,value:"Unstake"}]},aprLabel:{id:"e4Bven",defaultMessage:[{type:1,value:"rate"},{type:0,value:" APR"}]},questionsLabel:{id:"nZnLXA",defaultMessage:[{type:0,value:"Questions about staking?"}]},readFAQsLabel:{id:"VidkL6",defaultMessage:[{type:0,value:"Read FAQs"}]}});function $(){var e=V((0,a.useState)(!1),2),t=e[0],r=e[1],n=(0,L.Z)(F.form),o=n.stakeType,i=n.network,s=n.tokenId,l=(0,T.useActiveWalletGroupId)(),u=(0,v.useEarnableWallets)(l,{network:i.value,stakeType:h.StakeActionType.STAKE,currencyCodes:[m.MATIC_SYMBOL]}),c=(0,w.useGetFeeWallet)(l,i.value);if(!c)throw new Error("Transaction data was missing in StakeClaimConfirmation");var d=(0,a.useCallback)((function(){r(!0)}),[]),f=(0,B.Q)({sourceWallet:u[0],feeWallet:c,stakeType:o.value,tokenId:s.value,handleSuccess:d}),p=f.generateTransactions,y=f.isGenerateTransactionsLoading;return(0,a.useEffect)((function(){p()}),[]),!t||y?(0,R.jsx)(_.VStack,{alignItems:"center",justifyContent:"center",height:"100%",children:(0,R.jsx)(A.$,{color:"primary"})}):(0,R.jsx)(J,{wallet:u[0]})}function J(e){var t,r,n,o=e.wallet,m=(0,i.Z)().formatMessage,v=(0,s.useHistory)().goBack,h=(0,M.useStepper)(F.stepper).goToStep,A=(0,L.Z)(F.form),H=A.unsignedStakeTxResult,N=A.stakeTxData,U=A.currencyCode,Z=A.stakeType,q=A.network,Q=A.tokenId,z=A.ledgerStakeError,$=(0,T.useActiveWalletGroupId)(),J=(0,w.useGetFeeWallet)($,q.value),ee=V((0,a.useState)(null),2),te=ee[0],re=ee[1],ne=(0,a.useMemo)((function(){var e;return{currencyCode:U.value,chainId:null===(e=q.value.asChain())||void 0===e?void 0:e.chainId}}),[U,q.value]),ae=(0,l.useClaimConfirmationStepViewed)(ne),oe=(0,l.useStakeConfirmationGasFeeViewed1559)(ne),ie=(0,l.useStakeConfirmationGasFeeViewedLegacy)(ne),se=(0,l.useStakeConfirmationGasFeeNotShown)(ne),le=(0,G.q)();if(!(N.value&&null!=H&&null!==(t=H.value)&&void 0!==t&&t.transaction&&null!=H&&null!==(r=H.value)&&void 0!==r&&r.wallet&&J))throw new Error("Transaction data was missing in StakeClaimConfirmation");(0,O.V)((0,C.toExtensionName)(C.PERF_MARKS.stake),C.STAKE_MARKS.load_claim_preview,{type:"end"});var ue=(0,x.useExtensionPerfMark)((0,C.toExtensionName)(C.PERF_MARKS.stake),C.STAKE_MARKS.trigger_claim,{logMetric:!0}).start,ce=(0,g.useAccountById)(H.value.wallet.accountId),de=(0,B.Q)({sourceWallet:o,feeWallet:J,shouldIgnoreSuccessRedirect:!0,stakeType:Z.value,tokenId:Q.value}),fe=de.generateTransactions,pe=de.isGenerateTransactionsLoading,ye=V((0,a.useState)(new Date),2),ge=ye[0],me=ye[1],ve=(0,a.useCallback)(function(){var e,t=(e=K().mark((function e(){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe();case 2:me(new Date);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Y(o,n,a,i,s,"next",e)}function s(e){Y(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),[fe]);(0,p.N)(ve,{interval:D.refetchTimeInterval});var he=(0,a.useCallback)((function(e){(0,l.logClaimConfirmationStepStakeCancel)(W(W({},ne),{},{canceledFromError:e})),v()}),[v,ne]),Se=(0,a.useCallback)((function(){h("status")}),[h]),ke=(0,a.useCallback)((function(e){re(e)}),[]),be=(0,a.useCallback)((function(){(0,l.logClaimConfirmationStepUnlockSuccess)(ne)}),[ne]),we=(0,a.useCallback)((function(e){(0,l.logClaimConfirmationStepUnlockError)(ne),re(e)}),[ne]),Te=(0,y.useSignAndSubmitStandalone)({wallet:H.value.wallet,unsignedTx:H.value.transaction,unlockSuccess:be,unlockError:we,signSuccess:Se,signError:ke,handleUnlock:le(ce.id)}),Ce=Te.signAndSubmitStandalone,Ee=Te.isSignAndSubmitStandaloneLoading,Ae=(0,a.useCallback)((function(){(0,l.logClaimConfirmationStepLedgerConfirm)(ne),h("status")}),[h,ne]),xe=(0,a.useCallback)((function(){(0,l.logClaimConfirmationStepStakeButtonDisabled)(ne)}),[ne]),Me=(0,a.useCallback)((function(e){(0,l.logClaimConfirmationStepLedgerError)(ne),(0,c.cbReportError)({error:new Error(e.message),context:"ledger-error",severity:"error",isHandled:!1}),z.onChange(e),h("status")}),[h,z,ne]),Le=(0,j.T)({unsignedTx:H.value.transaction,onSignSuccess:Ae,onSignError:Me,flow:j.Z.Stake}),Pe=Le.signAndSubmitLedger,_e=Le.isHardwareWalletSigning,Ie=Le.hardwareWalletScreen,Ge=(0,a.useCallback)((function(){h("phoneConfirmation")}),[h]),Oe=pe||Ee||_e,je=(0,k.r)(N.value),De=(0,b.i)(null==H?void 0:H.value.transaction,null==H?void 0:H.value.wallet),Fe=(0,a.useCallback)((function(e){var t=e.networkEstimatedFee,r=e.networkBaseFee,n=e.networkMaxFee;ae({networkEstimatedFee:t,networkBaseFee:r,networkMaxFee:n});try{var a;if((0,u.isETH1559Tx)(null==H||null===(a=H.value)||void 0===a?void 0:a.transaction)){var o=De,i=o.lowerBoundFee,s=o.upperBoundFee;if(!i||!s)throw new Error("No valid lower and upper bound fees for bridge 1559 transaction");oe(De)}else{if(!De.estimatedFee)throw new Error("No valid estimated fee for claim transaction");ie(De)}}catch(e){se(De)}}),[ae,null==H||null===(n=H.value)||void 0===n?void 0:n.transaction,De,oe,ie,se]),Be=(0,S.useTransactionDetailRowItems)({stakeType:Z.value,stakeTxData:N.value,unsignedStakeTx:H.value.transaction,isPageLoading:Oe,lastUpdateTime:ge,rowItemsAnalytics:Fe}),Re=(0,d.w)($,{stakeTxData:N.value,unsignedStakeTx:H.value.transaction}),He=(0,a.useCallback)((function(){(0,l.logClaimConfirmationStepStakeConfirm)(ne)}),[ne]),Ne=(0,f.eY)({account:ce,isLoading:Oe,transactionDetailError:Re,buttonAnalyticsCallbacks:{triggerAnalyticsConfirm:He},onCancelButtonPressed:he,signAndSubmitStandalone:Ce,signAndSubmitLedger:Pe,signAndSubmitWalletlink:Ge,context:f.K4.CLAIM,markStartPerf:ue}),We=je.secondaryItem.iconSourceOrName,Ue=(0,a.useMemo)((function(){return{currencyCode:We.currencyCode,iconUrl:We.iconUrl,showNetworkIcon:!0,network:null==We?void 0:We.network}}),[We.currencyCode,We.iconUrl,null==We?void 0:We.network]);return _e?Ie:(0,R.jsx)(I.O,{headerText:m(X.claimTitle),detailRowItems:Be,error:Re,buttonProps:Ne,onPrimaryButtonDisabled:xe,handleBackButton:v,signAndSubmitError:te,height:"100%",topSection:(0,R.jsx)(_.Box,{bordered:!0,children:(0,R.jsx)(P.ListCell,{title:je.secondaryItem.title,detail:je.secondaryItem.detail,subdetail:je.secondaryItem.subDetail,media:(0,R.jsx)(E.Y,{asset:Ue})})})})}z($,"useState{[isInitialized, setIsInitialized](false)}\nuseFields{{ stakeType, network, tokenId }}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseEarnableWallets{earnableWallets}\nuseGetFeeWallet{feeWallet}\nuseCallback{handleSuccess}\nuseGenerateStakeTransaction{{ generateTransactions, isGenerateTransactionsLoading }}\nuseEffect{}",(function(){return[L.Z,T.useActiveWalletGroupId,v.useEarnableWallets,w.useGetFeeWallet,B.Q]})),z(J,"useIntl{{ formatMessage }}\nuseHistory{{ goBack }}\nuseStepper{{ goToStep }}\nuseFields{{\n    unsignedStakeTxResult,\n    stakeTxData,\n    currencyCode,\n    stakeType,\n    network,\n    tokenId,\n    ledgerStakeError,\n  }}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseGetFeeWallet{feeWallet}\nuseState{[signAndSubmitError, setSignAndSubmitError](null)}\nuseMemo{analyticsMetadata}\nuseClaimConfirmationStepViewed{triggerAnalyticsConfirmationStepViewed}\nuseStakeConfirmationGasFeeViewed1559{triggerAnalyticsGasFeeViewed1559}\nuseStakeConfirmationGasFeeViewedLegacy{triggerAnalyticsGasFeeViewedLegacy}\nuseStakeConfirmationGasFeeNotShown{triggerAnalyticsGasFeeNotShown}\nuseHandleUnlockForSigning{handleUnlock}\nusePerfMarkOnMount{}\nuseExtensionPerfMark{{ start: markStartClaimPerf }}\nuseAccountById{account}\nuseGenerateStakeTransaction{{ generateTransactions, isGenerateTransactionsLoading }}\nuseState{[lastUpdateTime, setLastUpdateTime](new Date())}\nuseCallback{refreshNetworkFeeCallback}\nuseIntervalForPromises{}\nuseCallback{handleCancel}\nuseCallback{onStandaloneSigningSuccess}\nuseCallback{onSigningError}\nuseCallback{handleUnlockSuccess}\nuseCallback{handleUnlockError}\nuseSignAndSubmitStandalone{{ signAndSubmitStandalone, isSignAndSubmitStandaloneLoading }}\nuseCallback{handleLedgerSigningSuccess}\nuseCallback{handlePrimaryButtonDisabled}\nuseCallback{handleLedgerSigningError}\nuseSignAndSubmitLedger{{ signAndSubmitLedger, isHardwareWalletSigning, hardwareWalletScreen }}\nuseCallback{signAndSubmitWalletlink}\nuseTransactionOverviewItems{overViewItems}\nuseAnalyticsFeeData{analyticsFeeData}\nuseCallback{rowItemsAnalytics}\nuseTransactionDetailRowItems{transactionDetailRowItems}\nuseTransactionDetailErrors{transactionDetailError}\nuseCallback{triggerAnalyticsConfirm}\nuseTransactionDetailButtons{buttonProps}\nuseMemo{assetLike}",(function(){return[i.Z,s.useHistory,M.useStepper,L.Z,T.useActiveWalletGroupId,w.useGetFeeWallet,l.useClaimConfirmationStepViewed,l.useStakeConfirmationGasFeeViewed1559,l.useStakeConfirmationGasFeeViewedLegacy,l.useStakeConfirmationGasFeeNotShown,G.q,O.V,x.useExtensionPerfMark,g.useAccountById,B.Q,p.N,y.useSignAndSubmitStandalone,j.T,k.r,b.i,S.useTransactionDetailRowItems,d.w,f.eY]})),(q="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(q.register(X,"messages","/workspaces/apps/extension/src/screens/Stake/steps/ClaimConfirmationStep/ClaimConfirmationStep.tsx"),q.register($,"ClaimConfirmationStep","/workspaces/apps/extension/src/screens/Stake/steps/ClaimConfirmationStep/ClaimConfirmationStep.tsx"),q.register(J,"ClaimConfirmationInitialized","/workspaces/apps/extension/src/screens/Stake/steps/ClaimConfirmationStep/ClaimConfirmationStep.tsx")),(Q="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&Q(e)},873723:(e,t,r)=>{r.d(t,{m:()=>J});var n,a=r(202784),o=r(239398),i=r(783112),s=r(184263),l=r(223933),u=r(101620),c=r(86296),d=r(619543),f=r(472987),p=r(559440),y=r(123132),g=r(805173),m=r(317039),v=r(876350),h=r(376236),S=r(222493),k=r(614304),b=r(705890),w=r(674017),T=r(230438),C=r(976974),E=r(40217),A=r(735103),x=r(95898),M=r(661641),L=r(416794),P=r(111176),_=r(488869),I=r(555192),G=r(268708),O=r(340671),j=r(183221),D=r(861080),F=r(986882),B=r(929021),R=r(552322);function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){U(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function U(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==H(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===H(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(){K=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),s=new P(n||[]);return a(i,"_invoke",{value:A(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var f="suspendedStart",p="suspendedYield",y="executing",g="completed",m={};function v(){}function h(){}function S(){}var k={};u(k,i,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(_([])));w&&w!==r&&n.call(w,i)&&(k=w);var T=S.prototype=v.prototype=Object.create(k);function C(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(a,o,i,s){var l=d(e[a],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==H(c)&&n.call(c,"__await")?t.resolve(c.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(c).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,s)}))}s(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function A(t,r,n){var a=f;return function(o,i){if(a===y)throw new Error("Generator is already running");if(a===g){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var l=x(s,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=y;var u=d(t,r,n);if("normal"===u.type){if(a=n.done?g:p,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=g,n.method="throw",n.arg=u.arg)}}}function x(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,x(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function _(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(H(t)+" is not iterable")}return h.prototype=S,a(T,"constructor",{value:S,configurable:!0}),a(S,"constructor",{value:h,configurable:!0}),h.displayName=u(S,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,u(e,l,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},C(E.prototype),u(E.prototype,s,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new E(c(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(T),u(T,l,"Generator"),u(T,i,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return s.type="throw",s.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;L(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:_(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function Y(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function V(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Y(o,n,a,i,s,"next",e)}function s(e){Y(o,n,a,i,s,"throw",e)}i(void 0)}))}}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var Q,z,X="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},$=(0,o.defineMessages)({earnTitle:{id:"K79kK4",defaultMessage:[{type:0,value:"Earn yield"}]},unstakeTitle:{id:"dy9tzc",defaultMessage:[{type:0,value:"Unstake"}]},questionsLabel:{id:"nZnLXA",defaultMessage:[{type:0,value:"Questions about staking?"}]},seeFAQButton:{id:"1zZBMs",defaultMessage:[{type:0,value:"See FAQ"}]},readFAQsLabel:{id:"wVpK/U",defaultMessage:[{type:0,value:"Read FAQs"}]}});function J(){var e,t,r,n,o,H,N,U,Y,q,Q,z=(0,i.Z)().formatMessage,X=(0,A.useStepper)(F.stepper),J=X.goBack,ee=X.goToStep,te=Z((0,a.useState)(null),2),re=te[0],ne=te[1],ae=(0,u.useCurrencyFormatter)().formatToCrypto,oe=(0,x.Z)(F.form),ie=oe.unsignedApproveTxResult,se=oe.unsignedStakeTxResult,le=oe.stakeTxData,ue=oe.cryptoAmount,ce=oe.currencyCode,de=oe.stakeType,fe=oe.ledgerStakeError,pe=oe.targetCurrencyCode,ye=Z((0,a.useState)(new Date),2),ge=ye[0],me=ye[1],ve=(0,T.useActiveWalletGroupId)(),he=(0,h.useSelectStakeWallet)(ve,{currencyCode:ce.value,targetCurrencyCode:pe.value,stakeType:de.value}),Se=he.sourceWallet,ke=he.targetWallet,be=(0,w.useGetFeeWallet)(ve,null!==(e=null==Se?void 0:Se.network)&&void 0!==e?e:D.ETH_NETWORK),we=(0,v.useGetEarnRate)({targetCurrencyCode:de.value===h.StakeActionType.STAKE?pe.value:ce.value}).earnRate,Te=(0,_.useLaunchSprig)();if(!(le.value&&null!=se&&null!==(t=se.value)&&void 0!==t&&t.transaction&&null!=se&&null!==(r=se.value)&&void 0!==r&&r.wallet&&Se&&be))throw new Error("Transaction data was missing in ConfirmationPreviewStep");var Ce=(0,g.useAccountById)(Se.accountId),Ee=(0,a.useMemo)((function(){var e;return{currencyCode:Se.currencyCode.code,chainId:null===(e=Se.network.asChain())||void 0===e?void 0:e.chainId,contractAddress:Se.contractAddress,cryptoAmount:ae({currencyCode:Se.currencyCode,decimals:Se.decimals,value:ue.value,includeCode:!1}),targetCurrencyCode:pe.value}}),[Se.currencyCode,Se.network,Se.contractAddress,Se.decimals,ae,ue.value,pe]),Ae=(0,s.useConfirmationStepViewed)(Ee),xe=(0,s.useStakeConfirmationGasFeeViewed1559)(Ee),Me=(0,s.useStakeConfirmationGasFeeViewedLegacy)(Ee),Le=(0,s.useStakeConfirmationGasFeeNotShown)(Ee);(0,G.V)((0,C.toExtensionName)(C.PERF_MARKS.stake),C.STAKE_MARKS.load_preview,{type:"end"});var Pe=(0,E.useExtensionPerfMark)((0,C.toExtensionName)(C.PERF_MARKS.stake),C.STAKE_MARKS.trigger_stake,{logMetric:!0}).start,_e=(0,B.Q)({sourceWallet:Se,feeWallet:be,targetWallet:ke,shouldIgnoreSuccessRedirect:!0,amount:ue.value,stakeType:de.value}),Ie=_e.generateTransactions,Ge=_e.isGenerateTransactionsLoading,Oe=(0,I.q)(),je=(0,a.useCallback)((function(){(0,s.logConfirmationStepStandaloneConfirm)(Ee),ee("status")}),[ee,Ee]),De=(0,a.useCallback)((function(e){(0,s.logConfirmationStepStandaloneError)(Ee),ne(e)}),[Ee]),Fe=(0,a.useCallback)((function(){(0,s.logConfirmationStepUnlockSuccess)(Ee),ee("status")}),[Ee,ee]),Be=(0,a.useCallback)((function(e){(0,s.logConfirmationStepUnlockError)(Ee),ne(e)}),[Ee]),Re=(0,y.useSignAndSubmitStandalone)({wallet:se.value.wallet,unsignedTx:se.value.transaction,unsignedApproveTx:null==ie||null===(n=ie.value)||void 0===n?void 0:n.transaction,unlockSuccess:Fe,unlockError:Be,signSuccess:je,signError:De,handleUnlock:Oe(null===(o=se.value)||void 0===o||null===(o=o.wallet)||void 0===o?void 0:o.accountId)}),He=Re.signAndSubmitStandalone,Ne=Re.isSignAndSubmitStandaloneLoading,We=(0,a.useCallback)(V(K().mark((function e(){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie();case 2:me(new Date);case 3:case"end":return e.stop()}}),e)}))),[Ie]);(0,p.N)(We,{interval:j.refetchTimeInterval});var Ue=(0,d.w)(ve,{stakeTxData:le.value,unsignedApproveTx:null===(H=ie.value)||void 0===H?void 0:H.transaction,unsignedStakeTx:se.value.transaction}),Ke=(0,b.i)(null===(N=se.value)||void 0===N?void 0:N.transaction,null===(U=se.value)||void 0===U?void 0:U.wallet),Ye=(0,a.useCallback)((function(e){var t=e.networkEstimatedFee,r=e.networkBaseFee,n=e.networkMaxFee;Ae({networkEstimatedFee:t,networkBaseFee:r,networkMaxFee:n});try{var a;if((0,l.isETH1559Tx)(null===(a=se.value)||void 0===a?void 0:a.transaction)){var o=Ke,i=o.lowerBoundFee,s=o.upperBoundFee;if(!i||!s)throw new Error("No valid lower and upper bound fees for bridge 1559 transaction");xe(Ke)}else{if(!Ke.estimatedFee)throw new Error("No valid estimated fee for bridge transaction");Me(Ke)}}catch(e){Le(Ke)}}),[Ae,null===(Y=se.value)||void 0===Y?void 0:Y.transaction,Ke,xe,Me,Le]),Ve=(0,a.useCallback)((function(e){(0,s.logConfirmationStepStakeCancel)(W(W({},Ee),{},{canceledFromError:e})),Te("abandonStakeConfirmation"),J()}),[J,Ee,Te]),Ze=(0,a.useCallback)((function(){(0,s.logConfirmationStepFAQsPressed)(Ee),chrome.tabs.create({url:m.STAKE_FAQ_URL_MAP[null==Se?void 0:Se.currencyCode.code]})}),[Ee,Se]),qe=(0,a.useCallback)((function(){(0,s.logConfirmationStepStakeConfirm)(Ee)}),[Ee]),Qe=(0,a.useCallback)((function(){(0,s.logConfirmationStepStakeConfirmAnyway)(Ee)}),[Ee]),ze=(0,a.useCallback)((function(){(0,s.logConfirmationStepLedgerConfirm)(Ee),ee("status")}),[ee,Ee]),Xe=(0,a.useCallback)((function(){(0,s.logConfirmationStepStakeButtonDisabled)(Ee)}),[Ee]),$e=(0,a.useCallback)((function(e){(0,s.logConfirmationStepLedgerError)(Ee),(0,c.cbReportError)({error:new Error(e.message),context:"ledger-error",severity:"error",isHandled:!1}),fe.onChange(e),ee("status")}),[ee,fe,Ee]),Je=(0,O.T)({unsignedTx:se.value.transaction,unsignedApproveTx:null===(q=ie.value)||void 0===q?void 0:q.transaction,onSignSuccess:ze,onSignError:$e,flow:O.Z.Stake}),et=Je.signAndSubmitLedger,tt=Je.isHardwareWalletSigning,rt=Je.hardwareWalletScreen,nt=(0,a.useCallback)((function(){ee("phoneConfirmation")}),[ee]),at=Ge||Ne||tt,ot=(0,f.eY)({account:Ce,isLoading:at,transactionDetailError:Ue,buttonAnalyticsCallbacks:{triggerAnalyticsConfirmAnyway:Qe,triggerAnalyticsConfirm:qe},onCancelButtonPressed:Ve,signAndSubmitStandalone:He,signAndSubmitWalletlink:nt,signAndSubmitLedger:et,context:de.value===h.StakeActionType.STAKE?f.K4.STAKE:f.K4.UNSTAKE,markStartPerf:Pe}),it=(0,S.useTransactionDetailRowItems)({stakeType:de.value,stakeTxData:le.value,unsignedApproveTx:null===(Q=ie.value)||void 0===Q?void 0:Q.transaction,unsignedStakeTx:se.value.transaction,isPageLoading:at,lastUpdateTime:ge,rowItemsAnalytics:Ye}),st=(0,k.r)(le.value),lt=(0,a.useMemo)((function(){return W(W({},st.primaryItem),de.value===h.StakeActionType.UNSTAKE?{description:(0,R.jsx)(M.TextLabel1,{as:"p",color:"positive",children:we})}:{})}),[st.primaryItem,de.value,we]),ut=(0,a.useMemo)((function(){return W(W({},st.secondaryItem),de.value===h.StakeActionType.STAKE?{description:(0,R.jsx)(M.TextLabel1,{as:"p",color:"positive",children:we})}:{})}),[st.secondaryItem,de.value,we]);return tt?rt:(0,R.jsx)(P.O,{headerText:z(de.value===h.StakeActionType.STAKE?$.earnTitle:$.unstakeTitle),headerAction:(0,R.jsx)(M.Link,{testID:"stake-confirmation-faq-link",onPress:Ze,children:z($.readFAQsLabel)}),detailRowItems:it,error:Ue,buttonProps:ot,onPrimaryButtonDisabled:Xe,handleBackButton:J,signAndSubmitError:re,height:"100%",topSection:(0,R.jsx)(L.d,{primaryItem:lt,secondaryItem:ut,error:Ue})})}X(J,"useIntl{{ formatMessage }}\nuseStepper{{ goBack, goToStep }}\nuseState{[signAndSubmitError, setSignAndSubmitError](null)}\nuseCurrencyFormatter{{ formatToCrypto }}\nuseFields{{\n    unsignedApproveTxResult,\n    unsignedStakeTxResult,\n    stakeTxData,\n    cryptoAmount,\n    currencyCode,\n    stakeType,\n    ledgerStakeError,\n    targetCurrencyCode,\n  }}\nuseState{[lastUpdateTime, setLastUpdateTime](new Date())}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseSelectStakeWallet{{ sourceWallet, targetWallet }}\nuseGetFeeWallet{feeWallet}\nuseGetEarnRate{{ earnRate }}\nuseLaunchSprig{launchSprig}\nuseAccountById{account}\nuseMemo{analyticsMetadata}\nuseConfirmationStepViewed{triggerAnalyticsConfirmationStepViewed}\nuseStakeConfirmationGasFeeViewed1559{triggerAnalyticsGasFeeViewed1559}\nuseStakeConfirmationGasFeeViewedLegacy{triggerAnalyticsGasFeeViewedLegacy}\nuseStakeConfirmationGasFeeNotShown{triggerAnalyticsGasFeeNotShown}\nusePerfMarkOnMount{}\nuseExtensionPerfMark{{ start: markStartStakePerf }}\nuseGenerateStakeTransaction{{ generateTransactions, isGenerateTransactionsLoading }}\nuseHandleUnlockForSigning{handleUnlock}\nuseCallback{onStandaloneSigningSuccess}\nuseCallback{onStandaloneSigningError}\nuseCallback{handleUnlockSuccess}\nuseCallback{handleUnlockError}\nuseSignAndSubmitStandalone{{ signAndSubmitStandalone, isSignAndSubmitStandaloneLoading }}\nuseCallback{refreshNetworkFeeCallback}\nuseIntervalForPromises{}\nuseTransactionDetailErrors{transactionDetailError}\nuseAnalyticsFeeData{analyticsFeeData}\nuseCallback{rowItemsAnalytics}\nuseCallback{handleCancel}\nuseCallback{handleFAQPress}\nuseCallback{triggerAnalyticsConfirm}\nuseCallback{triggerAnalyticsConfirmAnyway}\nuseCallback{handleLedgerSigningSuccess}\nuseCallback{handlePrimaryButtonDisabled}\nuseCallback{handleLedgerSigningError}\nuseSignAndSubmitLedger{{ signAndSubmitLedger, isHardwareWalletSigning, hardwareWalletScreen }}\nuseCallback{signAndSubmitWalletlink}\nuseTransactionDetailButtons{buttonProps}\nuseTransactionDetailRowItems{transactionDetailRowItems}\nuseTransactionOverviewItems{overViewItems}\nuseMemo{detailOverviewPrimaryItem}\nuseMemo{detailOverviewSectionItem}",(function(){return[i.Z,A.useStepper,u.useCurrencyFormatter,x.Z,T.useActiveWalletGroupId,h.useSelectStakeWallet,w.useGetFeeWallet,v.useGetEarnRate,_.useLaunchSprig,g.useAccountById,s.useConfirmationStepViewed,s.useStakeConfirmationGasFeeViewed1559,s.useStakeConfirmationGasFeeViewedLegacy,s.useStakeConfirmationGasFeeNotShown,G.V,E.useExtensionPerfMark,B.Q,I.q,y.useSignAndSubmitStandalone,p.N,d.w,b.i,O.T,f.eY,S.useTransactionDetailRowItems,k.r]})),(Q="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(Q.register($,"messages","/workspaces/apps/extension/src/screens/Stake/steps/ConfirmationPreviewStep/ConfirmationPreviewStep.tsx"),Q.register(J,"ConfirmationPreviewStep","/workspaces/apps/extension/src/screens/Stake/steps/ConfirmationPreviewStep/ConfirmationPreviewStep.tsx")),(z="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&z(e)},490536:(e,t,r)=>{r.d(t,{e:()=>R});var n,a=r(202784),o=r(239398),i=r(783112),s=r(107267),l=r(50009),u=r(108389),c=r(101620),d=r(813003),f=r(559440),p=r(376236),y=r(674017),g=r(230438),m=r(591100),v=r(485016),h=r(446048),S=r(61517),k=r(735103),b=r(95898),w=r(960723),T=r(470986),C=r(48972),E=r(661641),A=r(443862),x=r(728209),M=r(986882),L=r(929021),P=r(552322);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function I(){I=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),s=new P(n||[]);return a(i,"_invoke",{value:A(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var f="suspendedStart",p="suspendedYield",y="executing",g="completed",m={};function v(){}function h(){}function S(){}var k={};u(k,i,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(G([])));w&&w!==r&&n.call(w,i)&&(k=w);var T=S.prototype=v.prototype=Object.create(k);function C(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(a,o,i,s){var l=d(e[a],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==_(c)&&n.call(c,"__await")?t.resolve(c.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(c).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,s)}))}s(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function A(t,r,n){var a=f;return function(o,i){if(a===y)throw new Error("Generator is already running");if(a===g){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var l=x(s,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=y;var u=d(t,r,n);if("normal"===u.type){if(a=n.done?g:p,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=g,n.method="throw",n.arg=u.arg)}}}function x(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,x(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function G(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(_(t)+" is not iterable")}return h.prototype=S,a(T,"constructor",{value:S,configurable:!0}),a(S,"constructor",{value:h,configurable:!0}),h.displayName=u(S,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,u(e,l,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},C(E.prototype),u(E.prototype,s,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new E(c(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(T),u(T,l,"Generator"),u(T,i,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=G,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return s.type="throw",s.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;L(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:G(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function G(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function O(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){G(o,n,a,i,s,"next",e)}function s(e){G(o,n,a,i,s,"throw",e)}i(void 0)}))}}e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var j,D,F="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},B=(0,o.defineMessages)({title:{id:"/OJF46",defaultMessage:[{type:0,value:"Let's top up your "},{type:1,value:"cryptoSymbol"},{type:0,value:" balance"}]},main:{id:"GJmTtm",defaultMessage:[{type:0,value:"Buy or transfer from Coinbase"}]},finePrint:{id:"NtJETL",defaultMessage:[{type:0,value:"Coinbase.com\u2019s account link feature is subject to coinbase.com "},{type:1,value:"userAgreement"},{type:0,value:" and "},{type:1,value:"privacyPolicy"},{type:0,value:"."}]},userAgreement:{id:"V6jvi1",defaultMessage:[{type:0,value:"User Agreement"}]},privacyPolicy:{id:"0ROee6",defaultMessage:[{type:0,value:"Privacy Policy"}]},cbPayButton:{id:"rV4uVX",defaultMessage:[{type:0,value:"Buy with Coinbase Pay"}]},transferButton:{id:"IykAaN",defaultMessage:[{type:0,value:"Transfer from another wallet"}]},defaultError:{id:"fnBlFk",defaultMessage:[{type:0,value:"Buy or transfer funds from Coinbase or another wallet."}]},zeroBalanceSubtitle:{id:"ZZAIvI",defaultMessage:[{type:0,value:"You need "},{type:1,value:"cryptoSymbol"},{type:0,value:" before you can make a transaction on the "},{type:1,value:"networkName"},{type:0,value:" network."}]},notEnoughBalanceSubtitle:{id:"R6shrI",defaultMessage:[{type:0,value:"You need an additional ~"},{type:1,value:"cryptoAmountNeeded"},{type:0,value:" ("},{type:1,value:"fiatAmountNeeded"},{type:0,value:") to cover the network fee."}]}});function R(){var e,t,r,n=(0,i.Z)().formatMessage,o=(0,s.useHistory)(),_=(0,k.useStepper)(M.stepper).goBack,G=(0,c.useCurrencyFormatter)(),j=(0,b.Z)(M.form),D=j.currencyCode,F=j.targetCurrencyCode,R=j.stakeType,H=j.formDepositAmount,N=j.cryptoAmount,W=j.network,U=(0,g.useActiveWalletGroupId)(),K=(0,p.useSelectStakeWallet)(U,{currencyCode:D.value,targetCurrencyCode:F.value,chainId:null===(e=W.value.asChain())||void 0===e?void 0:e.chainId.toString(),stakeType:R.value}),Y=K.sourceWallet,V=K.targetWallet;if(!Y||!V)throw new Error("Wallet is required");var Z=(0,a.useMemo)((function(){var e;return{currencyCode:Y.currencyCode.code,chainId:null===(e=Y.network.asChain())||void 0===e?void 0:e.chainId,contractAddress:Y.contractAddress,targetCurrencyCode:F.value}}),[Y.contractAddress,Y.currencyCode.code,Y.network,F.value]),q=(0,y.useGetFeeWallet)(U,W.value);if(!q)throw new Error("Could not find a valid fee wallet for the select source chain");(0,l.useDepositGasStepViewed)(Z);var Q=(0,d.useDestinationWallets)({}),z=(0,L.Q)({sourceWallet:Y,feeWallet:q,targetWallet:V,amount:N.value,stakeType:R.value,shouldIgnoreSuccessRedirect:!0}),X=z.generateTransactions,$=z.isGenerateTransactionsLoading,J=(0,a.useCallback)(O(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=q&&q.balance&&q.balance>0n)){e.next=3;break}return e.next=3,X();case 3:case"end":return e.stop()}}),e)}))),[X,q]);(0,f.N)(J,{interval:3e4});var ee=(0,a.useMemo)((function(){return v.LegacyIdToBlockchainId[u.ETHEREUM_SYMBOL]}),[]),te=null!==(t=(0,v.parseDestinationWallets)({destinationWallets:Q,tokenId:u.ETHEREUM_SYMBOL}))&&void 0!==t?t:Q,re=(0,a.useMemo)((function(){return te.map((function(e){return{address:e.address,assets:null!=q&&q.currencyCode.rawValue?[null==q?void 0:q.currencyCode.rawValue]:void 0,supportedNetworks:[ee]}}))}),[null==q?void 0:q.currencyCode.rawValue,ee,te]),ne=(0,a.useMemo)((function(){if(null==q||!q.currencyCode||!H.value)return 0;var e=G.fiatValue(null==q?void 0:q.currencyCode,null==q?void 0:q.decimals,H.value,null==q?void 0:q.contractAddress,null==q?void 0:q.network),t=null==e?void 0:e.toNumber();return t?t+(25-t%25)%25:0}),[G,null==q?void 0:q.contractAddress,null==q?void 0:q.currencyCode,null==q?void 0:q.decimals,null==q?void 0:q.network,H.value]),ae=(0,A.useCoinbasePay)({destinationWallets:re,experienceLoggedOut:"popup",amount:JSON.stringify(ne)}),oe=(0,a.useCallback)((function(){var e;(0,l.logDepositGasStepCBPayButtonClicked)(Z),null===(e=ae.current)||void 0===e||e.open()}),[ae,Z]),ie=(0,a.useCallback)((function(){(0,l.logDepositGasStepTransferButtonClicked)(Z),o.push(x.RoutesEnum.RECEIVE)}),[Z,o]),se=(0,a.useCallback)((function(){_()}),[_]),le=(0,a.useCallback)(O(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",chrome.tabs.create({url:m.LINK_USER_AGREEMENT,active:!1}));case 1:case"end":return e.stop()}}),e)}))),[]),ue=(0,a.useCallback)(O(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",chrome.tabs.create({url:m.PRIVACY_POLICY_URL,active:!1}));case 1:case"end":return e.stop()}}),e)}))),[]),ce=(0,a.useMemo)((function(){var e,t;if(void 0!==H.value){var r=void 0!==(null==q?void 0:q.balance)&&null!=q&&q.currencyCode?G.formatToCrypto({currencyCode:q.currencyCode,decimals:q.decimals,value:H.value,network:q.network}):"",a=void 0!==(null==q?void 0:q.balance)&&null!=q&&q.currencyCode?G.formatToFiat(q.currencyCode,q.decimals,H.value,!1,q.contractAddress,q.network,!0,!0):"";return n(B.notEnoughBalanceSubtitle,{cryptoAmountNeeded:r,fiatAmountNeeded:a})}return n(B.zeroBalanceSubtitle,{cryptoSymbol:null===(e=q.network.asChain())||void 0===e?void 0:e.baseAssetCurrencyCode,networkName:null===(t=q.network.asChain())||void 0===t?void 0:t.displayName})}),[G,q,H.value,n]);return(0,P.jsxs)(C.VStack,{height:S.UV,children:[(0,P.jsx)(h.w,{onBack:se,spacingBottom:0}),(0,P.jsxs)(C.VStack,{alignItems:"center",width:"100%",spacingHorizontal:2,children:[(0,P.jsx)(E.TextTitle3,{as:"h1",spacingBottom:1,align:"center",children:n(B.title,{cryptoSymbol:null===(r=q.network.asChain())||void 0===r?void 0:r.baseAssetCurrencyCode})}),(0,P.jsx)(E.TextBody,{as:"p",color:"foregroundMuted",align:"center",testID:"deposit-gas-message",children:ce}),(0,P.jsx)(C.HStack,{alignItems:"center",justifyContent:"center",spacingVertical:6,children:(0,P.jsx)(T.SpotRectangle,{name:"primeEarn"})})]}),(0,P.jsxs)(C.VStack,{alignItems:"center",width:"100%",children:[(0,P.jsxs)(w.ButtonGroup,{accessibilityLabel:"Transfer Funds",block:!0,vertical:!0,children:[(0,P.jsx)(w.Button,{onPress:oe,loading:$,testID:"deposit-gas-cb-pay-button",children:(0,P.jsx)(C.HStack,{alignItems:"center",gap:1,children:n(B.cbPayButton)})}),(0,P.jsx)(w.Button,{onPress:ie,variant:"secondary",testID:"deposit-gas-transfer-button",children:n(B.transferButton)})]}),(0,P.jsx)(E.TextLegal,{as:"p",color:"foregroundMuted",align:"center",spacingTop:2,children:n(B.finePrint,{userAgreement:(0,P.jsx)(E.Link,{variant:"legal",color:"primary",onPress:le,children:n(B.userAgreement)}),privacyPolicy:(0,P.jsx)(E.Link,{variant:"legal",color:"primary",onPress:ue,children:n(B.privacyPolicy)})})})]})]})}F(R,"useIntl{{ formatMessage }}\nuseHistory{history}\nuseStepper{{ goBack }}\nuseCurrencyFormatter{currencyFormatter}\nuseFields{{ currencyCode, targetCurrencyCode, stakeType, formDepositAmount, cryptoAmount, network }}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseSelectStakeWallet{{ sourceWallet, targetWallet }}\nuseMemo{analyticsMetadata}\nuseGetFeeWallet{feeWallet}\nuseDepositGasStepViewed{}\nuseDestinationWallets{destinationWallets}\nuseGenerateStakeTransaction{{ generateTransactions, isGenerateTransactionsLoading }}\nuseCallback{refreshNetworkFeeCallback}\nuseIntervalForPromises{}\nuseMemo{cbPayNetwork}\nuseMemo{destinationWalletsWithAsset}\nuseMemo{nextMultipleOf25}\nuseCoinbasePay{cbPayInstance}\nuseCallback{handleConnectCoinbaseClick}\nuseCallback{handleTransferClick}\nuseCallback{handleBackClick}\nuseCallback{handleClickUserAgreement}\nuseCallback{handleClickPrivacyPolicy}\nuseMemo{subtitle}",(function(){return[i.Z,s.useHistory,k.useStepper,c.useCurrencyFormatter,b.Z,g.useActiveWalletGroupId,p.useSelectStakeWallet,y.useGetFeeWallet,l.useDepositGasStepViewed,d.useDestinationWallets,L.Q,f.N,A.useCoinbasePay]})),(j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(j.register(B,"messages","/workspaces/apps/extension/src/screens/Stake/steps/DepositGasStep/DepositGasStep.tsx"),j.register(R,"DepositGasStep","/workspaces/apps/extension/src/screens/Stake/steps/DepositGasStep/DepositGasStep.tsx")),(D="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&D(e)},519431:(e,t,r)=>{r.d(t,{y:()=>J});var n,a=r(202784),o=r(239398),i=r(783112),s=r(107267),l=r(184263),u=r(108389),c=r(101620),d=r(537511),f=r(164625),p=r(557847),y=r(305738),g=r(317039),m=r(876350),v=r(304635),h=r(884112),S=r(376236),k=r(692687),b=r(674017),w=r(230438),T=r(976974),C=r(983717),E=r(599050),A=r(352871),x=r(156374),M=r(790424),L=r(627240),P=r(757411),_=r(40217),I=r(735103),G=r(95898),O=r(960723),j=r(540380),D=r(606058),F=r(48972),B=r(76470),R=r(661641),H=r(488869),N=r(268708),W=r(861080),U=r(986882),K=r(929021),Y=r(552322);function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var q,Q,z="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},X=(0,o.defineMessages)({earnTitle:{id:"RAYgXb",defaultMessage:[{type:0,value:"Earn yield"}]},stakeLabel:{id:"IcRvLD",defaultMessage:[{type:0,value:"Stake"}]},unstakingTitle:{id:"QSnExS",defaultMessage:[{type:0,value:"Unstake"}]},availableAmount:{id:"O4zzOB",defaultMessage:[{type:0,value:"Available"}]},maxButton:{id:"Pm9NLv",defaultMessage:[{type:0,value:"Max"}]},previewButton:{id:"dhicuL",defaultMessage:[{type:0,value:"Preview"}]},topUpButtonText:{id:"nuMeii",defaultMessage:[{type:0,value:"Top up your "},{type:1,value:"cryptoSymbol"},{type:0,value:" balance"}]},learnMoreLabel:{id:"wVpK/U",defaultMessage:[{type:0,value:"Read FAQs"}]},arrowDownAccessibilityLabel:{id:"JtMmZ+",defaultMessage:[{type:0,value:"To"}]},toLabel:{id:"JPdzL+",defaultMessage:[{type:0,value:"To"}]}}),$={spacingVertical:0},J=(0,a.memo)(z((function(){var e,t,r,n=(0,i.Z)().formatMessage,o=(0,s.useHistory)().goBack,Z=V((0,a.useState)(!1),2),q=Z[0],Q=Z[1],z=(0,I.useStepper)(U.stepper).goToStep,J=(0,H.useLaunchSprig)(),ee=(0,G.Z)(U.form),te=ee.currencyCode,re=ee.stakeType,ne=ee.isFiat,ae=ee.cryptoAmount,oe=ee.enteredAmount,ie=ee.shouldUpdateCryptoAmount,se=ee.targetCurrencyCode,le=ee.network,ue=(0,c.useCurrencyFormatter)(),ce=(0,f._)(),de=(0,h.useIsWETHStakeEligible)(),fe=(0,v.v)(),pe=(0,w.useActiveWalletGroupId)(),ye=(0,S.useSelectStakeWallet)(pe,{currencyCode:te.value,targetCurrencyCode:se.value,stakeType:re.value,chainId:null===(e=le.value.asChain())||void 0===e?void 0:e.chainId.toString()}),ge=ye.sourceWallet,me=ye.targetWallet,ve=ye.isLoading,he=(0,m.useGetEarnRate)({targetCurrencyCode:re.value===S.StakeActionType.STAKE?se.value:te.value,chainId:null===(t=le.value.asChain())||void 0===t?void 0:t.chainId.toString()}).earnRate,Se=(0,p.useGetGasEstimate)({txType:p.GasEstimateTxType.STAKE,wallet:ge}),ke=Se.gasEstimate,be=Se.refetch,we=Se.isFetched,Te=(0,y.useAddTrackedExchangeRate)(),Ce=(0,k.ez)(pe,{network:le.value}),Ee=(0,b.useGetFeeWallet)(pe,le.value);if(!Ee)throw new Error("Could not find a valid fee wallet for the select source chain");var Ae=(0,_.useExtensionPerfMark)((0,T.toExtensionName)(T.PERF_MARKS.stake),T.STAKE_MARKS.load_preview,{logMetric:!0}).start;(0,N.V)((0,T.toExtensionName)(T.PERF_MARKS.stake),T.STAKE_MARKS.launch_stake,{type:"end"});var xe=(0,a.useMemo)((function(){return re.value===S.StakeActionType.STAKE}),[re]),Me=(0,a.useMemo)((function(){var e;return{currencyCode:null==ge?void 0:ge.currencyCode.code,chainId:null==ge||null===(e=ge.network.asChain())||void 0===e?void 0:e.chainId,contractAddress:null==ge?void 0:ge.contractAddress,targetCurrencyCode:se.value}}),[null==ge?void 0:ge.contractAddress,null==ge?void 0:ge.currencyCode.code,null==ge?void 0:ge.network,se.value]);(0,l.useEntryStepViewed)(Me),(0,a.useEffect)((function(){if(xe&&me){var e,t=null===(e=me.network.asChain())||void 0===e?void 0:e.chainId;Te(me.currencyCode,t?BigInt(t):1n,me.contractAddress)}}),[Te,me,xe]);var Le=(0,a.useCallback)((function(e){Q(e),(0,l.logEntryStepNotEnoughBalance)(Me)}),[Me]),Pe=(0,a.useCallback)((function(){(0,l.logEntryStepToggleIsFiat)(Me)}),[Me]),_e=(0,a.useCallback)((function(){(0,l.logEntryStepBackButton)(Me),J("abandonStakeEntry"),o()}),[o,Me,J]),Ie=(0,a.useMemo)((function(){var e;return{currencyCode:null==ge?void 0:ge.currencyCode.code,network:null==ge?void 0:ge.network,iconUrl:null==ge||null===(e=ge.imageURL)||void 0===e?void 0:e.toString(),showNetworkIconOverride:!(null==ge||!ge.contractAddress)}}),[null==ge?void 0:ge.contractAddress,null==ge?void 0:ge.currencyCode.code,null==ge?void 0:ge.imageURL,null==ge?void 0:ge.network]),Ge=(0,a.useMemo)((function(){var e;return{currencyCode:null==me?void 0:me.currencyCode.code,network:null==me?void 0:me.network,iconUrl:null==me||null===(e=me.imageURL)||void 0===e?void 0:e.toString(),showNetworkIconOverride:!(null==me||!me.contractAddress)}}),[null==me?void 0:me.contractAddress,null==me?void 0:me.currencyCode.code,null==me?void 0:me.imageURL,null==me?void 0:me.network]),Oe=void 0!==(null==ge?void 0:ge.balance)?ue.formatToFiat(ge.currencyCode,ge.decimals,ge.balance,!1,ge.contractAddress,ge.network):"",je=(0,K.Q)({sourceWallet:ge,feeWallet:Ee,targetWallet:me,amount:ae.value,stakeType:re.value,shouldIgnoreSuccessRedirect:!1}),De=je.generateTransactions,Fe=je.generateTransactionsError,Be=je.isGenerateTransactionsLoading,Re=(0,a.useMemo)((function(){return(!ce||te.value!==u.ETHEREUM_SYMBOL)&&q||0n===ae.value||Be||Boolean(Ce)||ve}),[ce,te,q,ae.value,Be,Ce,ve]);(0,a.useEffect)((function(){Re||(0,l.logEntryStepPreviewButtonEnabled)(Me)}),[Re,Me]);var He=Ce||(null==Fe||null===(r=Fe.code)||void 0===r?void 0:r.includes("MinerFee")),Ne=(0,a.useCallback)((function(){if(null==ge||!ge.balance)throw new Error("Could not find a balance for source wallet");!we||null!=ge&&ge.contractAddress||be();var e=ge.balance-ke<=0n?ge.balance:ge.balance-ke,t=ge.contractAddress?ge.balance:e;(0,l.logEntryStepMaxButtonPressed)(Me),ae.onChange(t),oe.onChange((0,d.dN)({currencyFormatter:ue,wallet:ge,newAmount:t,isCrypto:!ne.value,includeCode:!1,preserveEndingZeros:!0}))}),[ae,ue,oe,ne.value,ge,Me,we,be,ke]),We=(0,a.useCallback)((function(){Ae(),De(),(0,l.logEntryStepPreviewButtonClicked)(Me)}),[Ae,De,Me]),Ue=(0,a.useMemo)((function(){return null!=Ce?Ce:Fe}),[Fe,Ce]),Ke=(0,a.useMemo)((function(){return Ue?(He||(F.Box,P.A),(0,Y.jsx)(B.Tooltip,{content:(0,Y.jsx)(L.W,{network:null==ge?void 0:ge.network,zeroBaseAssetError:Ce}),children:(0,Y.jsx)(F.Box,{children:(0,Y.jsx)(P.A,{error:Ue,hasTooltip:!0})})})):null}),[Ue,null==ge?void 0:ge.network,Ce,He]),Ye=(0,a.useMemo)((function(){var e;return ce&&q&&te.value===u.ETHEREUM_SYMBOL||(null==Fe||null===(e=Fe.code)||void 0===e?void 0:e.includes("MinerFee"))||Ce}),[te.value,null==Fe?void 0:Fe.code,q,ce,Ce]),Ve=(0,a.useCallback)((function(){(0,l.logEntryStepDepositGasButtonClicked)(Me),z("depositGas")}),[z,Me]),Ze=(0,a.useMemo)((function(){var e;return Ye?n(X.topUpButtonText,{cryptoSymbol:null==ge||null===(e=ge.network.asChain())||void 0===e?void 0:e.baseAssetCurrencyCode}):n(X.previewButton)}),[Ye,n,null==ge?void 0:ge.network]),qe=(0,a.useMemo)((function(){return Ye?Ve:We}),[Ye,We,Ve]),Qe=(0,a.useCallback)((function(){var e;(0,l.logEntryStepFAQsPressed)(Me),chrome.tabs.create({url:g.STAKE_FAQ_URL_MAP[null!==(e=null==ge?void 0:ge.currencyCode.code)&&void 0!==e?e:""]})}),[Me,null==ge?void 0:ge.currencyCode.code]),ze=(0,a.useCallback)((function(e){var t;if(null==ge||!ge.balance)throw new Error("Could not find a balance for source wallet");var r=(null!==(t=ge.balance)&&void 0!==t?t:0n)*BigInt(e*W.BIGINT_MULTIPLIER)/BigInt(W.BIGINT_MULTIPLIER);ae.onChange(r),oe.onChange((0,d.dN)({currencyFormatter:ue,wallet:ge,newAmount:r,isCrypto:!ne.value,includeCode:!1,preserveEndingZeros:!0}))}),[ge,ae,oe,ue,ne.value]),Xe=(0,a.useCallback)((function(){z("selectAsset")}),[z]),$e=(0,a.useCallback)((function(){z("selectProvider")}),[z]),Je=(0,a.useMemo)((function(){return te.value!==g.MATIC_SYMBOL}),[te]);return(0,Y.jsx)(M.lL,{height:"100%",header:(0,Y.jsx)(A.l2,{variant:"secondary",title:n(re.value===S.StakeActionType.STAKE?X.earnTitle:X.unstakingTitle),actions:(0,Y.jsx)(R.Link,{onPress:Qe,children:n(X.learnMoreLabel)}),handleBack:_e}),children:(0,Y.jsxs)(F.VStack,{justifyContent:"space-between",height:"100%",children:[(0,Y.jsxs)(F.VStack,{height:"50%",justifyContent:"center",children:[ge?(0,Y.jsx)(C._Z,{context:"stake",wallet:ge,isFiat:ne,cryptoAmount:ae,enteredAmount:oe,shouldUpdateCryptoAmount:ie,onInsufficientFund:Le,analyticsSwitchDisplay:Pe,txType:p.GasEstimateTxType.STAKE,isTopUpEnabled:ce&&te.value===u.ETHEREUM_SYMBOL,fiatValueDisplay:Oe}):null,(0,Y.jsx)(F.Box,{justifyContent:"center",height:W.STAKE_ENTRY_ERROR_HEIGHT,spacingHorizontal:3,spacingTop:1,children:Ke})]}),(0,Y.jsxs)(F.VStack,{height:"50%",justifyContent:"flex-end",gap:1,spacingBottom:3,children:[(0,Y.jsx)(j.ListCell,{compact:fe,outerSpacing:$,testID:"stake-entry-selector",accessory:xe&&de?"arrow":void 0,title:n(xe?X.stakeLabel:X.unstakingTitle),description:fe?(0,Y.jsx)(R.TextLabel2,{as:"p",color:"foregroundMuted",children:null==ge?void 0:ge.currencyCode.code}):(0,Y.jsxs)(F.HStack,{gap:.5,children:[(0,Y.jsx)(R.TextLabel2,{as:"p",color:"foregroundMuted",children:"".concat(null==ge?void 0:ge.currencyCode.code," \xb7")}),(0,Y.jsx)(R.TextLabel2,{as:"p",color:"positive",children:he})]}),detail:(0,Y.jsx)(F.VStack,{alignItems:"flex-end",children:(0,Y.jsx)(R.TextHeadline,{as:"p",children:Oe})}),subdetail:(0,Y.jsx)(F.VStack,{alignItems:"flex-end",children:(0,Y.jsx)(R.TextLabel2,{as:"p",color:"foregroundMuted",children:n(X.availableAmount)})}),onPress:xe&&de?Xe:void 0,media:(0,Y.jsx)(E.Y,{asset:Ie})}),xe&&fe?(0,Y.jsx)(F.Box,{alignItems:"center",children:(0,Y.jsx)(D.Icon,{name:"verticalLine",size:"s",spacingStart:4,color:"foregroundMuted"})}):null,xe&&fe?(0,Y.jsx)(j.ListCell,{compact:!0,outerSpacing:$,testID:"stake-entry-provider-selector",accessory:Je?"arrow":void 0,title:n(X.toLabel),description:(0,Y.jsxs)(F.HStack,{gap:.5,children:[(0,Y.jsx)(R.TextLabel2,{as:"p",color:"foregroundMuted",children:"".concat(null==me?void 0:me.currencyCode.code," \xb7")}),(0,Y.jsx)(R.TextLabel2,{as:"p",color:"positive",children:he})]}),onPress:Je?$e:void 0,media:(0,Y.jsx)(E.Y,{asset:Ge})}):null,(0,Y.jsxs)(F.VStack,{spacingHorizontal:3,gap:2,spacingTop:fe?2:0,children:[(0,Y.jsx)(x.G,{onPressMaxButton:Ne,onPressPercentageButton:ze}),(0,Y.jsx)(O.Button,{block:!0,disabled:!Ye&&Re,onPress:qe,loading:Be,variant:Ye?"secondary":"primary",testID:"entry-step-cta-button",children:Ze})]})]})]})})}),"useIntl{{ formatMessage }}\nuseHistory{{ goBack }}\nuseState{[hasInsufficientFund, setHasInsufficientFund](false)}\nuseStepper{{ goToStep }}\nuseLaunchSprig{launchSprig}\nuseFields{{\n    currencyCode,\n    stakeType,\n    isFiat,\n    cryptoAmount,\n    enteredAmount,\n    shouldUpdateCryptoAmount,\n    targetCurrencyCode,\n    network,\n  }}\nuseCurrencyFormatter{currencyFormatter}\nuseIsStakingTopUpEnabled{isStakeTopUpEnabled}\nuseIsWETHStakeEligible{isWETHSTakeEligible}\nuseIsStakeMultiProviderEligible{isStakeMultiProviderEligible}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseSelectStakeWallet{{\n    sourceWallet,\n    targetWallet,\n    isLoading: isStakeWalletsLoading,\n  }}\nuseGetEarnRate{{ earnRate }}\nuseGetGasEstimate{{ gasEstimate, refetch, isFetched }}\nuseAddTrackedExchangeRate{addTrackedRate}\nuseBaseAssetZeroBalanceError{zeroBaseAssetError}\nuseGetFeeWallet{feeWallet}\nuseExtensionPerfMark{{ start: markStartLoadPreviewPerf }}\nusePerfMarkOnMount{}\nuseMemo{isStake}\nuseMemo{analyticsMetadata}\nuseEntryStepViewed{}\nuseEffect{}\nuseCallback{handleInsufficientFund}\nuseCallback{triggerAnalyticsSwitchDisplay}\nuseCallback{handleGoBack}\nuseMemo{sourceAssetLike}\nuseMemo{targetAssetLike}\nuseGenerateStakeTransaction{{ generateTransactions, generateTransactionsError, isGenerateTransactionsLoading }}\nuseMemo{isPreviewButtonDisabled}\nuseEffect{}\nuseCallback{handlePressMaxButton}\nuseCallback{handlePressPreview}\nuseMemo{errorToDisplay}\nuseMemo{errorComponent}\nuseMemo{isDepositGasButtonVisible}\nuseCallback{handleDepositGasPress}\nuseMemo{buttonText}\nuseMemo{handleCTAPress}\nuseCallback{handleLearnMorePress}\nuseCallback{handlePressPercentageButton}\nuseCallback{handlePressSelectAsset}\nuseCallback{handlePressSelectProvider}\nuseMemo{hasMultiProvider}",(function(){return[i.Z,s.useHistory,I.useStepper,H.useLaunchSprig,G.Z,c.useCurrencyFormatter,f._,h.useIsWETHStakeEligible,v.v,w.useActiveWalletGroupId,S.useSelectStakeWallet,m.useGetEarnRate,p.useGetGasEstimate,y.useAddTrackedExchangeRate,k.ez,b.useGetFeeWallet,_.useExtensionPerfMark,N.V,l.useEntryStepViewed,K.Q]})));(q="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(q.register(X,"messages","/workspaces/apps/extension/src/screens/Stake/steps/EntryStep/EntryStep.tsx"),q.register($,"listCellOuterSpacing","/workspaces/apps/extension/src/screens/Stake/steps/EntryStep/EntryStep.tsx"),q.register(J,"EntryStep","/workspaces/apps/extension/src/screens/Stake/steps/EntryStep/EntryStep.tsx")),(Q="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&Q(e)},824591:(e,t,r)=>{r.d(t,{r:()=>_});var n,a=r(202784),o=r(239398),i=r(783112),s=r(107267),l=r(184263),u=r(317039),c=r(615726),d=r(976974),f=r(485599),p=r(446048),y=r(40217),g=r(61517),m=r(349806),v=r(735103),h=r(960723),S=r(853052),k=r(606058),b=r(941368),w=r(48972),T=r(661641),C=r(986882),E=r(978741),A=r(552322);e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var x,M,L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},P=(0,o.defineMessages)({stakingTitle:{id:"t3wAw/",defaultMessage:[{type:0,value:"Earn "},{type:1,value:"rate"},{type:0,value:" on your "},{type:1,value:"currencyCode"}]},stakeButton:{id:"kIyFYU",defaultMessage:[{type:0,value:"Start earning"}]},faqButton:{id:"UoeLR6",defaultMessage:[{type:0,value:"Read FAQs"}]}}),_=(0,a.memo)(L((function(){var e=(0,i.Z)().formatMessage,t=(0,s.useHistory)().goBack,r=(0,s.useParams)(),n=r.currencyCode,o=r.chainId,x=(0,v.useStepper)(C.stepper).goToStep,M=(0,c.K)({currencyCode:n,chainId:o}),L=M.earnRate,_=M.listItems,I=M.illustrationName;if(!n)throw new Error("Asset is required");(0,l.useLearnStepViewed)({currencyCode:n});var G=(0,y.useExtensionPerfMark)((0,d.toExtensionName)(d.PERF_MARKS.stake),d.STAKE_MARKS.launch_stake,{logMetric:!0}).start,O=(0,a.useCallback)((function(){(0,l.logLearnStepCancel)({currencyCode:n}),t()}),[t,n]),j=(0,a.useCallback)((function(){(0,l.logLearnStepStakePressed)({currencyCode:n}),f.Store.set(E.STAKE_ASSETS_STORE_KEYS_MAP[n],(new Date).toISOString()),G(),x("entry")}),[n,G,x]),D=(0,a.useCallback)((function(){(0,l.logLearnStepFAQsPressed)({currencyCode:n}),chrome.tabs.create({url:u.STAKE_FAQ_URL_MAP[n]})}),[n]),F=(0,a.useMemo)((function(){return(0,A.jsx)(w.Box,{justifyContent:"flex-start",height:"100%",children:(0,A.jsx)(k.Icon,{name:"checkmark",size:"s",color:"foreground"})})}),[]);return(0,A.jsxs)(w.VStack,{height:g.IR,justifyContent:"space-between",children:[(0,A.jsx)(p.w,{onBack:O}),(0,A.jsxs)(w.VStack,{overflow:"scroll",children:[(0,A.jsxs)(w.VStack,{alignItems:"center",gap:2,spacingHorizontal:2,children:["ethStakeOrWrap"===I?(0,A.jsx)(b.SpotRectangle,{name:I,dimension:"240x120"}):(0,A.jsx)(m.q,{}),(0,A.jsx)(w.Box,{children:(0,A.jsx)(T.TextTitle2,{as:"span",align:"center",testID:"stake-nux-title",children:e(P.stakingTitle,{currencyCode:n,rate:(0,A.jsx)(T.TextTitle2,{as:"span",color:"positive",children:L})})})})]}),_.map((function(e){var t=e.label,r=e.description,n=e.testID;return(0,A.jsx)(S.ContentCell,{title:t,description:r,media:F,testID:n},n)}))]}),(0,A.jsxs)(w.VStack,{flexShrink:0,gap:2,spacingHorizontal:2,spacingBottom:2,children:[(0,A.jsx)(h.Button,{onPress:j,testID:"learn-step-stake-button",children:e(P.stakeButton)}),(0,A.jsx)(h.Button,{variant:"secondary",onPress:D,testID:"learn-step-faq-button",children:e(P.faqButton)})]})]})}),"useIntl{{ formatMessage }}\nuseHistory{{ goBack }}\nuseParams{{ currencyCode, chainId }}\nuseStepper{{ goToStep }}\nuseGetStakeNux{{ earnRate, listItems, illustrationName }}\nuseLearnStepViewed{}\nuseExtensionPerfMark{{ start: markStartPerf }}\nuseCallback{handleGoBack}\nuseCallback{handleStakePress}\nuseCallback{handleFAQPress}\nuseMemo{checkMarkIcon}",(function(){return[i.Z,s.useHistory,s.useParams,v.useStepper,c.K,l.useLearnStepViewed,y.useExtensionPerfMark]})));(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(x.register(P,"messages","/workspaces/apps/extension/src/screens/Stake/steps/LearnStep/LearnStep.tsx"),x.register(_,"LearnStep","/workspaces/apps/extension/src/screens/Stake/steps/LearnStep/LearnStep.tsx")),(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&M(e)},269278:(e,t,r)=>{r.d(t,{F:()=>x});var n,a=r(202784),o=r(239398),i=r(783112),s=r(107267),l=r(184263),u=r(656695),c=r(241515),d=r(868789),f=r(735103),p=r(95898),y=r(986882),g=r(733275),m=r(552322);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(){k=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),s=new I(n||[]);return a(i,"_invoke",{value:M(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var f="suspendedStart",p="suspendedYield",y="executing",g="completed",m={};function h(){}function S(){}function b(){}var w={};u(w,i,(function(){return this}));var T=Object.getPrototypeOf,C=T&&T(T(G([])));C&&C!==r&&n.call(C,i)&&(w=C);var E=b.prototype=h.prototype=Object.create(w);function A(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(a,o,i,s){var l=d(e[a],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==v(c)&&n.call(c,"__await")?t.resolve(c.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(c).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,s)}))}s(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function M(t,r,n){var a=f;return function(o,i){if(a===y)throw new Error("Generator is already running");if(a===g){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var l=L(s,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=y;var u=d(t,r,n);if("normal"===u.type){if(a=n.done?g:p,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=g,n.method="throw",n.arg=u.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function G(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(v(t)+" is not iterable")}return S.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:S,configurable:!0}),S.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},A(x.prototype),u(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new x(c(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},A(E),u(E,l,"Generator"),u(E,i,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=G,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return s.type="throw",s.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:G(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function b(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function w(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){b(o,n,a,i,s,"next",e)}function s(e){b(o,n,a,i,s,"throw",e)}i(void 0)}))}}e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var T,C,E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},A=(0,o.defineMessages)({title:{id:"VwWGjG",defaultMessage:[{type:0,value:"Confirm on phone"}]},description:{id:"In3vOT",defaultMessage:[{type:0,value:"Open Coinbase Wallet on your phone to confirm this transaction."}]},retry:{id:"jvhzSF",defaultMessage:[{type:0,value:"Resend notification"}]},dontSeeNotification:{id:"epKk4O",defaultMessage:[{type:0,value:"Don't see the notification?"}]}});function x(){var e,t,r,n=(0,s.useHistory)(),o=(0,i.Z)().formatMessage,v=(0,f.useStepper)(y.stepper),b=v.goBack,T=v.hasPreviousStep,C=(0,p.Z)(y.form),E=C.stakeTxData.value,x=C.stakeType.value,M=C.targetCurrencyCode.value,L=(0,a.useMemo)((function(){var e,t,r,n,a;return{currencyCode:null!==(e=null==E||null===(t=E.quote.fromAsset)||void 0===t?void 0:t.currencyCode.code)&&void 0!==e?e:null==E?void 0:E.quote.toAsset.currencyCode.code,chainId:Number(null==E?void 0:E.chainId),contractAddress:null!==(r=null==E||null===(n=E.quote.fromAsset)||void 0===n||null===(n=n.address)||void 0===n?void 0:n.rawValue)&&void 0!==r?r:null==E||null===(a=E.quote.toAsset.address)||void 0===a?void 0:a.rawValue,context:x,targetCurrencyCode:M}}),[null==E?void 0:E.chainId,null==E||null===(e=E.quote.fromAsset)||void 0===e||null===(e=e.address)||void 0===e?void 0:e.rawValue,null==E||null===(t=E.quote.fromAsset)||void 0===t?void 0:t.currencyCode.code,null==E||null===(r=E.quote.toAsset.address)||void 0===r?void 0:r.rawValue,null==E?void 0:E.quote.toAsset.currencyCode.code,x,M]);(0,l.usePhoneConfirmationStepViewed)(L);var P=(0,a.useRef)(!1),_=(0,a.useCallback)((function(){(0,l.logPhoneConfirmationStepBack)(L),T?b():n.goBack()}),[T,b,n,L]),I=(0,g.k)(),G=I.signAndSubmitViaWalletlink,O=I.errorStateProps,j=(0,a.useCallback)(w(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,l.logPhoneConfirmationStepRetry)(L),e.next=3,G();case 3:case"end":return e.stop()}}),e)}))),[G,L]);(0,u.useOnMount)((function(){O||G()}));var D=(0,a.useMemo)((function(){return{label:o(A.retry),onClick:(e=w(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P.current=!0,e.next=3,j();case 3:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})};var e}),[o,j]);return O&&!P.current?(0,m.jsx)(c.T,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},O)):(0,m.jsx)(d.n,{title:o(A.title),description:o(A.description),onDismiss:_,secondaryActionLabel:o(A.dontSeeNotification),retryAction:D})}E(x,"useHistory{history}\nuseIntl{{ formatMessage }}\nuseStepper{{ goBack, hasPreviousStep }}\nuseFields{{\n    stakeTxData: { value: stakeTxData },\n    stakeType: { value: stakeType },\n    targetCurrencyCode: { value: targetCurrencyCode },\n  }}\nuseMemo{analyticsMetadata}\nusePhoneConfirmationStepViewed{}\nuseRef{isUserCancelled}\nuseCallback{onDismiss}\nuseSignAndSubmitViaWalletlink{{ signAndSubmitViaWalletlink, errorStateProps }}\nuseCallback{retryAction}\nuseOnMount{}\nuseMemo{retryActionProps}",(function(){return[s.useHistory,i.Z,f.useStepper,p.Z,l.usePhoneConfirmationStepViewed,g.k,u.useOnMount]})),(T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(T.register(A,"messages","/workspaces/apps/extension/src/screens/Stake/steps/PhoneConfirmationStep/PhoneConfirmationStep.tsx"),T.register(x,"PhoneConfirmationStep","/workspaces/apps/extension/src/screens/Stake/steps/PhoneConfirmationStep/PhoneConfirmationStep.tsx")),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&C(e)},359731:(e,t,r)=>{r.d(t,{E:()=>h});var n,a,o,i=r(202784),s=r(184263),l=r(886855),u=r(317039),c=r(55731),d=r(230438),f=r(373881),p=r(735103),y=r(95898),g=r(381445),m=r(986882),v=r(552322);function h(){var e=(0,p.useStepper)(m.stepper),t=e.goBack,r=e.goToStep,n=(0,y.Z)(m.form),a=n.currencyCode,o=n.stakeType,h=n.network,S=n.targetCurrencyCode,k=(0,d.useActiveWalletGroupId)(),b=(0,c.useEarnableWallets)(k,{network:h.value,stakeType:o.value}),w=(0,i.useMemo)((function(){return b.find((function(e){return e.currencyCode.code===a.value&&l.Network.isEqual(h.value,e.network)}))}),[a,b,h]),T=(0,i.useCallback)((function(e){var t;e instanceof f.Wallet&&void 0!==e.balance&&e.balance>0n&&(u.DEPRECATED_DEFAULT_EARN_TARGET_ASSET_MAP_EXTENSION[e.currencyCode.code]!==u.DEPRECATED_DEFAULT_EARN_TARGET_ASSET_MAP_EXTENSION[a.value]&&S.onChange(u.DEPRECATED_DEFAULT_EARN_TARGET_ASSET_MAP_EXTENSION[e.currencyCode.code]),a.onChange(e.currencyCode.code),(0,s.logSelectAssetStepAssetPressed)({currencyCode:e.currencyCode.code,chainId:null===(t=h.value.asChain())||void 0===t?void 0:t.chainId}),r("entry"))}),[a,r,h.value,S]);return(0,v.jsx)(g.i,{testIdPrefix:"stake",wallets:b,onBack:t,onSelect:T,network:h.value,targetAssetId:null==w?void 0:w.id,context:g.g.Stake})}e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(h,"useStepper{{ goBack, goToStep }}\nuseFields{{ currencyCode, stakeType, network, targetCurrencyCode }}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseEarnableWallets{earnWallets}\nuseMemo{selectedWallet}\nuseCallback{handleSelect}",(function(){return[p.useStepper,y.Z,d.useActiveWalletGroupId,c.useEarnableWallets]})),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(h,"SelectAssetStep","/workspaces/apps/extension/src/screens/Stake/steps/SelectAssetStep/SelectAssetStep.tsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},938397:(e,t,r)=>{r.d(t,{e:()=>F});var n,a=r(202784),o=r(239398),i=r(783112),s=r(184263),l=r(108389),u=r(894278),c=r(317039),d=r(550685),f=r(553476),p=r(599050),y=r(446048),g=r(61517),m=r(735103),v=r(95898),h=r(960723),S=r(853052),k=r(606058),b=r(48972),w=r(252163),T=r(661641),C=r(986882),E=r(552322);function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==A(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===A(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var P,_,I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},G=(0,o.defineMessages)({fromTitle:{id:"e7Q6b/",defaultMessage:[{type:0,value:"Choose asset"}]},earnTitle:{id:"RAYgXb",defaultMessage:[{type:0,value:"Earn yield"}]},stakingProviderTitle:{id:"TytYpN",defaultMessage:[{type:0,value:"Choose a staking provider"}]},recommendedLabel:{id:"u4eBaC",defaultMessage:[{type:0,value:"Recommended"}]},decentralizedLabel:{id:"rwBEaL",defaultMessage:[{type:0,value:"Decentralized"}]},coinbaseLabel:{id:"lLZS3w",defaultMessage:[{type:0,value:"Coinbase"}]},rocketPoolLabel:{id:"bOyHek",defaultMessage:[{type:0,value:"Rocket Pool"}]},learnMoreLabel:{id:"1Smmc+",defaultMessage:[{type:0,value:"Learn more"}]},coinbaseDescriptionOne:{id:"UiPRkQ",defaultMessage:[{type:0,value:"The cbETH token represents ETH staked through Coinbase, a trusted, public company."}]},coinbaseDescriptionTwo:{id:"L9BS5g",defaultMessage:[{type:0,value:"cbETH automatically accrues staking rewards, with no lock up."}]},rocketPoolDescriptionOne:{id:"hR58GC",defaultMessage:[{type:0,value:"The rETH token represents ETH staked through Rocket Pool, a decentralized staking service."}]},rocketPoolDescriptionTwo:{id:"Qj9RdF",defaultMessage:[{type:0,value:"rETH automatically accrues staking rewards, with no lock up."}]},continueButton:{id:"PFVlTT",defaultMessage:[{type:0,value:"Continue"}]}}),O=L(L({},c.CB_ETH_SYMBOL,G.recommendedLabel),c.ROCKET_POOL_ETH_SYMBOL,G.decentralizedLabel),j=L(L({},c.CB_ETH_SYMBOL,G.coinbaseLabel),c.ROCKET_POOL_ETH_SYMBOL,G.rocketPoolLabel);function D(e){var t,r=e.chainId,n=e.currencyCode,o=e.onPressProvider,s=e.isSelected,l=e.imageURL,u=e.network,y=(0,i.Z)().formatMessage,g=x((0,f.useRecoilState)(d.earnAssetsRatesAtom),1)[0],m=(0,a.useMemo)((function(){return n===c.CB_ETH_SYMBOL}),[n]),v=(0,a.useMemo)((function(){return{currencyCode:n,network:u,iconUrl:l,showNetworkIconOverride:!0}}),[n,l,u]);return(0,E.jsx)(w.PressableOpacity,{onPress:o,testID:"pressable-provider-".concat(n,"-").concat(r),children:(0,E.jsxs)(b.VStack,{borderColor:s?"primary":"secondary",bordered:!0,borderRadius:"roundedLarge",children:[(0,E.jsxs)(b.HStack,{justifyContent:"space-between",spacingTop:2,spacingHorizontal:2,children:[(0,E.jsx)(b.Box,{background:s?"primary":"secondary",spacingVertical:.5,spacingHorizontal:1,borderRadius:"roundedFull",children:(0,E.jsx)(T.TextCaption,{as:"p",color:"foreground",children:y(O[n])})}),s?(0,E.jsx)(b.Box,{justifyContent:"center",children:(0,E.jsx)(k.Icon,{name:"checkmark",size:"s"})}):null]}),(0,E.jsx)(S.ListCell,{compact:!0,title:y(j[n]),description:(0,E.jsxs)(b.HStack,{gap:.5,children:[(0,E.jsx)(T.TextLabel2,{as:"p",color:"foregroundMuted",children:"".concat(n," \xb7")}),(0,E.jsx)(T.TextLabel2,{as:"p",color:"positive",children:null===(t=g[n])||void 0===t?void 0:t[r]})]}),media:(0,E.jsx)(p.Y,{asset:v})}),(0,E.jsxs)(b.VStack,{gap:1,spacingHorizontal:2,spacingBottom:2,children:[(0,E.jsxs)(b.HStack,{gap:1,children:[(0,E.jsx)(b.Box,{children:(0,E.jsx)(T.TextLegal,{as:"p",children:"\u2022"})}),(0,E.jsx)(T.TextLegal,{as:"p",children:y(m?G.coinbaseDescriptionOne:G.rocketPoolDescriptionOne)})]}),(0,E.jsxs)(b.HStack,{gap:1,children:[(0,E.jsx)(b.Box,{children:(0,E.jsx)(T.TextLegal,{as:"p",children:"\u2022"})}),(0,E.jsx)(T.TextLegal,{as:"p",children:y(m?G.coinbaseDescriptionTwo:G.rocketPoolDescriptionTwo)})]})]})]})})}function F(){var e,t,r=(0,i.Z)().formatMessage,n=(0,m.useStepper)(C.stepper),o=n.goBack,d=n.goToStep,f=(0,v.Z)(C.form),p=f.currencyCode,S=f.network,k=f.targetCurrencyCode,w=null!==(e=null===(t=S.value.asChain())||void 0===t?void 0:t.chainId.toString())&&void 0!==e?e:"1",A=(0,u.useEarnSourceAssets)({chainId:w,type:u.EarnActionType.WITHDRAW}),M=A.earnSourceAssets,L=A.isLoading,P=x((0,a.useState)(k.value),2),_=P[0],I=P[1],O=(0,a.useCallback)((function(e){return _===e}),[_]),j=(0,a.useCallback)((function(e){return function(){I(e)}}),[]),F=(0,a.useCallback)((function(){(0,s.logSelectProviderStepProviderPressed)({currencyCode:p.value,chainId:w}),k.onChange(_),d("entry")}),[w,p.value,d,_,k]),B=(0,a.useMemo)((function(){return M.filter((function(e){return c.STAKED_ASSETS_MAP[e.currencyCode.code]===l.ETHEREUM_SYMBOL})).map((function(e){return(0,E.jsx)(D,{chainId:w,currencyCode:e.currencyCode.code,onPressProvider:j(e.currencyCode.code),isSelected:O(e.currencyCode.code),imageURL:e.imageURL,network:S.value},"".concat(w,"-").concat(e.currencyCode.code))}))}),[w,M,j,O,S]);return(0,E.jsxs)(b.VStack,{height:g.IR,justifyContent:"space-between",children:[(0,E.jsx)(y.w,{onBack:o}),(0,E.jsx)(b.VStack,{overflow:"scroll",children:(0,E.jsxs)(b.VStack,{spacingHorizontal:3,gap:2,children:[(0,E.jsx)(T.TextTitle3,{as:"p",children:r(G.stakingProviderTitle)}),B]})}),(0,E.jsx)(b.VStack,{flexShrink:0,gap:2,spacingHorizontal:2,spacingBottom:2,children:(0,E.jsx)(h.Button,{onPress:F,testID:"stake-select-provider-continue-button",disabled:L,children:r(G.continueButton)})})]})}I(D,"useIntl{{ formatMessage }}\nuseRecoilState{[earnAssetsRatesMap]}\nuseMemo{isCBETH}\nuseMemo{assetLike}",(function(){return[i.Z,f.useRecoilState]})),I(F,"useIntl{{ formatMessage }}\nuseStepper{{ goBack, goToStep }}\nuseFields{{ currencyCode, network, targetCurrencyCode }}\nuseEarnSourceAssets{{ earnSourceAssets: earnProviders, isLoading }}\nuseState{[selectedCurrencyCode, setSelectedCurrencyCode](targetCurrencyCode.value)}\nuseCallback{isSelectedCurrencyCode}\nuseCallback{handleSelectProvider}\nuseCallback{handleContinue}\nuseMemo{providers}",(function(){return[i.Z,m.useStepper,v.Z,u.useEarnSourceAssets]})),(P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(P.register(G,"messages","/workspaces/apps/extension/src/screens/Stake/steps/SelectProviderStep/SelectProviderStep.tsx"),P.register(O,"CURRENCY_CODE_MESSAGE_MAP","/workspaces/apps/extension/src/screens/Stake/steps/SelectProviderStep/SelectProviderStep.tsx"),P.register(j,"CURRENCY_CODE_TITLE_MAP","/workspaces/apps/extension/src/screens/Stake/steps/SelectProviderStep/SelectProviderStep.tsx"),P.register(D,"Provider","/workspaces/apps/extension/src/screens/Stake/steps/SelectProviderStep/SelectProviderStep.tsx"),P.register(F,"SelectProviderStep","/workspaces/apps/extension/src/screens/Stake/steps/SelectProviderStep/SelectProviderStep.tsx")),(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&_(e)},598366:(e,t,r)=>{r.d(t,{_:()=>O});var n,a=r(202784),o=r(239398),i=r(783112),s=r(107267),l=r(184263),u=r(81220),c=r(317039),d=r(35399),f=r(876350),p=r(376236),y=r(976974),g=r(613958),m=r(335184),v=r(40217),h=r(735103),S=r(95898),k=r(186387),b=r(488869),w=r(986882),T=r(252844),C=r(552322);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===E(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var L,P,_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},I=(0,o.defineMessages)({stakingTitle:{id:"GmtrvI",defaultMessage:[{type:0,value:"You're staking"}]},unstakingTitle:{id:"aAZva+",defaultMessage:[{type:0,value:"You're unstaking"}]},disclaimer:{id:"VKV79V",defaultMessage:[{type:0,value:"Staked "},{type:1,value:"currencyCode"},{type:0,value:" will appear in the DeFi tab. You can unstake at any time."}]},failureTitle:{id:"r2aIcy",defaultMessage:[{type:0,value:"Stake failed"}]},failureDescriptionUnknownError:{id:"KlxoqU",defaultMessage:[{type:0,value:"Unknown error while sending transaction"}]},tryAgain:{id:"thF7qm",defaultMessage:[{type:0,value:"Try again"}]},goBackHome:{id:"fwpfJu",defaultMessage:[{type:0,value:"Go back home"}]},done:{id:"Nv+PvS",defaultMessage:[{type:0,value:"Done"}]},viewTransaction:{id:"LkAmOx",defaultMessage:[{type:0,value:"View transaction"}]},aprDescription:{id:"Cv/yjD",defaultMessage:[{type:0,value:"Earns "},{type:1,value:"rate"}]},claimMatic:{id:"DC4wPQ",defaultMessage:[{type:0,value:"Claim your MATIC in 3-4 days"}]},claimTitle:{id:"JHtf8u",defaultMessage:[{type:0,value:"You're claiming"}]}}),G=M(M(M({},p.StakeActionType.CLAIM,I.claimTitle),p.StakeActionType.STAKE,I.stakingTitle),p.StakeActionType.UNSTAKE,I.unstakingTitle);function O(){var e,t,r,n,o,E,A=(0,i.Z)().formatMessage,M=(0,s.useHistory)(),L=(0,S.Z)(w.form),P=L.stakeType.value,_=L.ledgerStakeError,O=_.value,j=_.onChange,D=L.stakeTxData.value,F=L.network.value,B=(0,h.useStepper)(w.stepper).goBack,R=(0,f.useGetEarnRate)({targetCurrencyCode:null!==(e=null==D?void 0:D.quote.toAsset.currencyCode.code)&&void 0!==e?e:"",chainId:null===(t=F.asChain())||void 0===t?void 0:t.chainId.toString()}).earnRate,H=(0,b.useLaunchSprig)();if(!D)throw new Error("stakeTxData was missing in StatusStep");(0,l.useStatusStepViewed)({currencyCode:null===(r=D.quote.fromAsset)||void 0===r?void 0:r.currencyCode.code,chainId:Number(null===(n=D.quote.fromAsset)||void 0===n?void 0:n.chainId),contractAddress:null===(o=D.quote.fromAsset)||void 0===o||null===(o=o.address)||void 0===o?void 0:o.rawValue});var N=(0,v.useExtensionPerfMark)((0,y.toExtensionName)(y.PERF_MARKS.stake),y.STAKE_MARKS.trigger_stake,{logMetric:!0}).end,W=(0,v.useExtensionPerfMark)((0,y.toExtensionName)(y.PERF_MARKS.stake),y.STAKE_MARKS.trigger_claim,{logMetric:!0}).end;(0,u.useOnUnmount)((function(){O?j(void 0):(N(),W(),H("stakeSuccess"))}));var U=(0,d.useFormatStakeAmounts)(D),K=U.sourceFiatAmount,Y=U.sourceCryptoAmount,V=U.targetCryptoAmount,Z=U.targetFiatAmount,q=(0,a.useMemo)((function(){var e="(".concat(K||Z,")");return"".concat(null!=Y?Y:V," ").concat(e)}),[Y,K,V,Z]),Q=(0,a.useCallback)((function(){M.replace("/portfolio")}),[M]),z=(0,a.useCallback)((function(){M.replace("/transactions")}),[M]),X=(0,a.useMemo)((function(){return{key:"done-button",name:"doneButton",onPress:Q,loading:!1,variant:"primary",block:!0,children:A(I.done)}}),[A,Q]),$=(0,a.useMemo)((function(){return{key:"view-transactions-button",name:"viewTransactionsButton",onPress:z,loading:!1,testID:"stake-status-view-transactions-button",variant:"secondary",block:!0,children:A(I.viewTransaction)}}),[A,z]);if(O){var J,ee,te,re=O;return(0,C.jsx)(g.n,x(x({spacing:2,elevation:1},T.ng),{},{children:(0,C.jsx)(k.N,{handleBack:B,statusCode:null!==(J=re.statusCode)&&void 0!==J?J:void 0,errorId:null!==(ee=re.id)&&void 0!==ee?ee:void 0,errorMessage:null!==(te=re.message)&&void 0!==te?te:void 0})}))}return(0,C.jsx)(m.L,{status:m.q.SUCCESS,title:A(G[P]),subtitle:q,description:R&&P===p.StakeActionType.STAKE?A(I.aprDescription,{rate:R}):void 0,descriptionColor:P===p.StakeActionType.STAKE?"positive":void 0,disclaimer:P===p.StakeActionType.STAKE?A(I.disclaimer,{currencyCode:null===(E=D.quote.fromAsset)||void 0===E?void 0:E.currencyCode.code}):void 0,timeEstimation:D.quote.toAsset.currencyCode.code===c.MATIC_SYMBOL&&P===p.StakeActionType.STAKE?A(I.claimMatic):void 0,primaryButtonProps:X,secondaryButtonProps:$})}_(O,"useIntl{{ formatMessage }}\nuseHistory{history}\nuseFields{{\n    stakeType: { value: stakeType },\n    ledgerStakeError: { value: ledgerStakeError, onChange: ledgerStakeOnChange },\n    stakeTxData: { value: stakeTxData },\n    network: { value: network },\n  }}\nuseStepper{{ goBack }}\nuseGetEarnRate{{ earnRate }}\nuseLaunchSprig{launchSprig}\nuseStatusStepViewed{}\nuseExtensionPerfMark{{ end: markEndStakePerf }}\nuseExtensionPerfMark{{ end: markEndClaimPerf }}\nuseOnUnmount{}\nuseFormatStakeAmounts{{ sourceFiatAmount, sourceCryptoAmount, targetCryptoAmount, targetFiatAmount }}\nuseMemo{formattedAmount}\nuseCallback{goToPortfolio}\nuseCallback{goToTransactions}\nuseMemo{primaryButtonProps: ButtonProps}\nuseMemo{secondaryButtonProps: ButtonProps}",(function(){return[i.Z,s.useHistory,S.Z,h.useStepper,f.useGetEarnRate,b.useLaunchSprig,l.useStatusStepViewed,v.useExtensionPerfMark,v.useExtensionPerfMark,u.useOnUnmount,d.useFormatStakeAmounts]})),(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(L.register(I,"messages","/workspaces/apps/extension/src/screens/Stake/steps/StatusStep/StatusStep.tsx"),L.register(G,"TITLE_MAP","/workspaces/apps/extension/src/screens/Stake/steps/StatusStep/StatusStep.tsx"),L.register(O,"StatusStep","/workspaces/apps/extension/src/screens/Stake/steps/StatusStep/StatusStep.tsx")),(P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&P(e)},619543:(e,t,r)=>{r.d(t,{w:()=>w});var n,a=r(202784),o=r(239398),i=r(783112),s=r(587952),l=r(306915),u=r(759301),c=r(206087),d=r(101620),f=r(978857),p=r(839668),y=r(524801),g=r(886855),m=r(158856),v=r(395545);e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var h,S,k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},b=(0,o.defineMessages)({notEnoughBalanceForMinerFeeMessage:{id:"IZUdH3",defaultMessage:[{type:0,value:"You have "},{type:1,value:"fiatTotalAvailableBalance"},{type:0,value:" in "},{type:1,value:"cryptoSymbol"},{type:0,value:", but you need a total of "},{type:1,value:"fiatTotalTransactionValue"},{type:0,value:" to proceed."}]},learnMore:{id:"9DtuSP",defaultMessage:[{type:0,value:"Learn more"}]}});function w(e,t){var r=t.stakeTxData,n=t.unsignedStakeTx,o=t.unsignedApproveTx,h=(0,i.Z)().formatMessage,S=(0,d.useCurrencyFormatter)(),k=(0,f.useCalculateNetworkFees)({unsignedEthTx:n,unsignedApproveTx:o}),w=k.networkMaxFee,T=k.networkEstimatedFee,C=(0,a.useRef)(!1),E=(0,m.useWalletsForWalletGroupId)(e).find((function(e){return y.CurrencyCode.isEqual(e.currencyCode,n.feeCurrencyCode)&&p.Blockchain.isEqual(e.blockchain,n.blockchain)&&g.Network.isEqual(e.network,n.network)})),A=(0,a.useMemo)((function(){var e,t=r.tx.from===(null==E?void 0:E.primaryAddress)?BigInt(null!==(e=r.tx.value)&&void 0!==e?e:0):0n;return(n instanceof u.EthereumUnsignedLegacyTx?T:w)+t}),[r.tx.from,r.tx.value,E,n,T,w]),x=(0,a.useMemo)((function(){return void 0!==(null==E?void 0:E.balance)&&E.balance>=A}),[E,A]),M=(0,a.useMemo)((function(){return{notEnoughBalanceForMinerFee:{type:"notEnoughBalanceForMinerFee",isDismissible:!1,showErrorIcon:!0,message:h(b.notEnoughBalanceForMinerFeeMessage,{cryptoSymbol:n.feeCurrencyCode.code,fiatTotalAvailableBalance:void 0!==(null==E?void 0:E.balance)&&null!=E&&E.currencyCode?S.formatToFiat(E.currencyCode,E.decimals,E.balance,!1,E.contractAddress,E.network,!0,!0):"",fiatTotalTransactionValue:E?S.formatToFiat(n.feeCurrencyCode,n.feeCurrencyDecimal,A,!1,void 0,E.network):""}),analytics:{eventName:"stake.confirmation_preview_step.not_enough_eth_balance",eventProperties:{componentType:v.ComponentType.text,action:v.ActionType.render,totalEthereumRequired:Number(A)}}}}}),[h,n.feeCurrencyCode,n.feeCurrencyDecimal,E,S,A]);return(0,a.useMemo)((function(){var e=n.network.asChain(),t=BigInt(0),r=BigInt(0),a=BigInt(0);if(n instanceof l.EthereumUnsigned1559Tx?(t=n.maxFeePerGas/BigInt(Math.pow(10,9)),r=BigInt(n.gasLimit)):(n instanceof u.EthereumUnsignedLegacyTx&&(t=n.gasPrice/BigInt(Math.pow(10,9)),r=n.gasLimit),n instanceof c.SolanaUnsignedTransaction&&(a=n.estimatedFee)),!x)return C.current||(C.current=!0,(0,s.logConfirmTransactionGasPriceFailure)({blockchain:n.blockchain.rawValue,chainName:e.displayName,chainId:e.chainId.toString(10),errorType:"InsufficientBalance",errorMessage:"Insufficient balance to pay gas fee",txSource:"stake".toLocaleString(),gasPriceInGwei:t.toString(),gasLimit:r.toString(),solanaGasPrice:a.toString()})),M.notEnoughBalanceForMinerFee}),[M.notEnoughBalanceForMinerFee,x,n])}k(w,"useIntl{{ formatMessage }}\nuseCurrencyFormatter{currencyFormatter}\nuseCalculateNetworkFees{{ networkMaxFee, networkEstimatedFee }}\nuseRef{hasDispatchedGasAnalyticsEvent}\nuseWalletsForWalletGroupId{wallets}\nuseMemo{totalBaseAssetRequired}\nuseMemo{hasEnoughBalance}\nuseMemo{errors: ErrorMap}\nuseMemo{}",(function(){return[i.Z,d.useCurrencyFormatter,f.useCalculateNetworkFees,m.useWalletsForWalletGroupId]})),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(b,"messages","/workspaces/libs/data/hooks/Stake/useTransactionDetailErrors.tsx"),h.register(w,"useTransactionDetailErrors","/workspaces/libs/data/hooks/Stake/useTransactionDetailErrors.tsx")),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&S(e)},156374:(e,t,r)=>{r.d(t,{G:()=>g});var n,a=r(202784),o=r(239398),i=r(783112),s=r(960723),l=r(552322);e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var u,c,d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},f=(0,o.defineMessages)({maxButton:{id:"Pm9NLv",defaultMessage:[{type:0,value:"Max"}]}}),p="25%",y="50%";function g(e){var t=e.onPressMaxButton,r=e.onPressPercentageButton,n=(0,i.Z)().formatMessage,o=(0,a.useCallback)((function(e){return function(){r(e)}}),[r]);return(0,l.jsxs)(s.ButtonGroup,{accessibilityLabel:"Percentage buttons",block:!0,children:[(0,l.jsx)(s.Button,{compact:!0,variant:"secondary",onPress:o(.25),testID:"percentage-button-twenty-five-percent",children:p}),(0,l.jsx)(s.Button,{compact:!0,variant:"secondary",onPress:o(.5),testID:"percentage-button-fifty-percent",children:y}),(0,l.jsx)(s.Button,{compact:!0,variant:"secondary",onPress:t,testID:"percentage-button-max",children:n(f.maxButton)})]})}d(g,"useIntl{{ formatMessage }}\nuseCallback{handlePressPercentageButton}",(function(){return[i.Z]})),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(f,"messages","/workspaces/libs/wallet-cds-extension/components/PercentageButtons/PercentageButtons.tsx"),u.register(p,"TWENTY_FIVE_PERCENT","/workspaces/libs/wallet-cds-extension/components/PercentageButtons/PercentageButtons.tsx"),u.register(y,"FIFTY_PERCENT","/workspaces/libs/wallet-cds-extension/components/PercentageButtons/PercentageButtons.tsx"),u.register(g,"PercentageButtons","/workspaces/libs/wallet-cds-extension/components/PercentageButtons/PercentageButtons.tsx")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},401723:(e,t,r)=>{r.d(t,{$:()=>o});var n,a=r(552322);e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function o(e){var t=e.color;return(0,a.jsx)("div",{className:l,style:{color:t}})}var i,s,l="sromg8e";r(989819),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(o,"Spinner","/workspaces/libs/wallet-cds-extension/components/Spinner.tsx"),i.register(l,"spinnerStyle","/workspaces/libs/wallet-cds-extension/components/Spinner.tsx")),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)},201645:(e,t,r)=>{function n(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}r.d(t,{Z:()=>n})},319785:(e,t,r)=>{function n(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}r.d(t,{Z:()=>n})},15100:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u});var n=r(766700),a=r(201645),o=r(319785);function i(e){(0,o.Z)(1,arguments);var t=(0,n.Z)(e);return t.setHours(0,0,0,0),t}var s=864e5;function l(e,t){var r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function u(e,t){(0,o.Z)(2,arguments);var r=(0,n.Z)(e),u=(0,n.Z)(t),c=l(r,u),d=Math.abs(function(e,t){(0,o.Z)(2,arguments);var r=i(e),n=i(t),l=r.getTime()-(0,a.Z)(r),u=n.getTime()-(0,a.Z)(n);return Math.round((l-u)/s)}(r,u));r.setDate(r.getDate()-c*d);var f=c*(d-Number(l(r,u)===-c));return 0===f?0:f}},766700:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(319785);function a(e){(0,n.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},989819:(e,t,r)=>{r.r(t)},183221:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BRIDGE_FAQS_URL=t.BRIDGE_ENTRY_ERROR_HEIGHT=t.refetchTimeInterval=t.BRIDGE_WELCOME_STEP_VIEWED_LOCAL_STORAGE_KEY=void 0,t.BRIDGE_WELCOME_STEP_VIEWED_LOCAL_STORAGE_KEY="BRIDGE_WELCOME_STEP_VIEWED",t.refetchTimeInterval=31e3,t.BRIDGE_ENTRY_ERROR_HEIGHT=40,t.BRIDGE_FAQS_URL="https://help.coinbase.com/en/wallet/bridging"},986882:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.form=t.initialValues=t.stepper=void 0;const n=r(886855),a=r(376236),o=r(735103),i=r(601879);t.stepper=(0,o.createStepper)({steps:["learn","entry","confirmationPreview","status","phoneConfirmation","depositGas","selectAsset","selectProvider","claimConfirmation"],defaultStep:"learn"}),t.initialValues={network:new n.Network("ETHEREUM_CHAIN:1",!1),cryptoAmount:0n,enteredAmount:"",stakeTxData:void 0,ledgerStakeError:void 0,unsignedApproveTxResult:void 0,unsignedStakeTxResult:void 0,signedApproveTx:void 0,signedStakeTx:void 0,nonce:void 0,quote:void 0,stakeType:a.StakeActionType.STAKE,currencyCode:"",isFiat:!0,shouldUpdateCryptoAmount:!1,formDepositAmount:0n,targetCurrencyCode:"",tokenId:""},t.form=(0,i.createForm)({initialValues:t.initialValues})},978741:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useDefaultStep=t.STAKE_ASSETS_STORE_KEYS_MAP=void 0;const a=r(202784),o=r(647933),i=r(108389),s=r(317039),l=r(376236),u=r(976974),c=r(298801),d=r(485599),f=n(r(15100)),p=r(40217),y=new c.LocalStorageStoreKey("learnStepViewed"),g=new c.LocalStorageStoreKey("learnStepMaticViewed");t.STAKE_ASSETS_STORE_KEYS_MAP={[i.ETHEREUM_SYMBOL]:y,[s.WRAPPED_ETH_SYMBOL]:y,[s.MATIC_SYMBOL]:g},t.useDefaultStep=function(){const{tokenId:e,stakeType:r,currencyCode:n}=(0,o.useParams)(),i=d.Store.get(t.STAKE_ASSETS_STORE_KEYS_MAP[n]??y),s=(0,a.useMemo)((()=>!!i&&(0,f.default)(new Date,new Date(i))<=30),[i]),{start:c}=(0,p.useExtensionPerfMark)(u.PERF_MARKS.stake,u.STAKE_MARKS.launch_stake,{logMetric:!0}),{start:g}=(0,p.useExtensionPerfMark)(u.PERF_MARKS.stake,u.STAKE_MARKS.load_claim_preview,{logMetric:!0});return r===l.StakeActionType.CLAIM&&e?(g(),"claimConfirmation"):s||r===l.StakeActionType.UNSTAKE?(c(),"entry"):"learn"}},929021:(e,t,r)=>{t.Q=void 0;const n=r(202784),a=r(184263),o=r(657455),i=r(471827),s=r(735103),l=r(601879),u=r(986882);t.Q=function({sourceWallet:e,targetWallet:t,feeWallet:r,shouldIgnoreSuccessRedirect:c,amount:d,stakeType:f,tokenId:p,handleSuccess:y}){const{goToStep:g}=(0,s.useStepper)(u.stepper),m=(0,o.useRethrowError)(),{unsignedApproveTxResult:v,unsignedStakeTxResult:h,stakeTxData:S,quote:k,formDepositAmount:b}=(0,l.useFields)(u.form),w=(0,n.useMemo)((()=>({currencyCode:e?.currencyCode.code,chainId:e?.network.asChain()?.chainId,contractAddress:e?.contractAddress,targetCurrencyCode:t?.currencyCode.code})),[e?.contractAddress,e?.currencyCode.code,e?.network,t?.currencyCode.code]),T=(0,n.useCallback)((e=>{S.onChange(e.stakeTxData),v.onChange(e.unsignedApproveTx),h.onChange(e.unsignedStakeTx),k.onChange(e.stakeTxData.quote)}),[k,S,v,h]),C=(0,n.useCallback)((function(){y?y():c||g("confirmationPreview")}),[y,c,g]),E=(0,n.useCallback)((e=>{(0,a.logGetStakeTxFail)(w),m(e)}),[m,w]),A=(0,n.useCallback)((e=>{b.onChange(e)}),[b]),x=(0,n.useCallback)((()=>{(0,a.logConfirmationRefreshFail)(w)}),[w]),M=(0,n.useCallback)((()=>{(0,a.logNotEnoughBalanceForMinerFee)(w)}),[w]),L=(0,n.useCallback)((()=>{(0,a.logNotEnoughData)(w)}),[w]),{generateTransactions:P,generateTransactionsError:_,generateDepositAmount:I,isGenerateTransactionsLoading:G}=(0,i.useGenerateTransactions)({amount:d,sourceWallet:e,targetWallet:t,feeWallet:r,stakeType:f,updateFormData:T,onSuccess:C,onNotEnoughBalanceForMinerFee:M,onNotEnoughData:L,shouldIgnoreSuccessRedirect:c,onError:E,handleSetDepositAmount:A,onRefreshFail:x,tokenId:p});return(0,n.useMemo)((()=>({generateTransactions:P,generateTransactionsError:_,generateDepositAmount:I,isGenerateTransactionsLoading:G})),[P,_,I,G])}},733275:(e,t,r)=>{t.k=void 0;const n=r(202784),a=r(647933),o=r(184263),i=r(101620),s=r(382969),l=r(230438),u=r(930830),c=r(735103),d=r(601879),f=r(986882);t.k=function(){const e=(0,a.useHistory)(),{formatToCrypto:t}=(0,i.useCurrencyFormatter)(),[r,p]=(0,n.useState)(null),{goBack:y,goToStep:g}=(0,c.useStepper)(f.stepper),m=(0,s.useSignAndSubmitTransactionViaWalletLink)(),{cryptoAmount:v,stakeTxData:{value:h},unsignedStakeTxResult:{value:S},unsignedApproveTxResult:{value:k}}=(0,d.useFields)(f.form),b=k?.transaction,w=S?.transaction,T=(0,l.useActiveWalletGroupId)(),C=(0,u.useTxFeeWallet)(T,w),E=(0,n.useMemo)((()=>({currencyCode:h?.quote.fromAsset?.currencyCode.code??h?.quote.toAsset.currencyCode.code,chainId:Number(h?.chainId),contractAddress:h?.quote.fromAsset?.address?.rawValue??h?.quote.toAsset.address?.rawValue,cryptoAmount:h&&t({currencyCode:h.quote.fromAsset?.currencyCode??h.quote.toAsset.currencyCode,decimals:h?.quote.fromAsset?.decimals??h?.quote.toAsset.decimals,value:v.value,includeCode:!1}),targetCurrencyCode:h?.quote.toAsset.currencyCode.code})),[h,v,t]),A=(0,n.useCallback)((()=>{(0,o.logPhoneConfirmationStepConfirm)(E),g("status"),p(null)}),[g,E]),x=(0,n.useCallback)((t=>{"UserRejectedWalletLinkRequest"===t.name?(0,o.logPhoneConfirmationStepCancel)(E):(0,o.logPhoneConfirmationStepWalletLinkError)(E),p({errorMessage:t.message,onPrimaryButtonPress:()=>{p(null),y()},onSecondaryButtonPress:()=>e.replace("/portfolio"),secondaryButtonText:"Go Back Home",primaryButtonText:"Try Again"})}),[y,e,E]),M=(0,n.useCallback)((async()=>{if(!C||!w)return null;if(b)try{await m({unsignedTx:b,wallet:C})}catch(e){x(e)}try{await m({unsignedTx:w,wallet:C}),A()}catch(e){x(e)}}),[x,A,m,b,w,C]);return(0,n.useMemo)((()=>({signAndSubmitViaWalletlink:M,errorStateProps:r})),[r,M])}},164625:(e,t,r)=>{t._=void 0;const n=r(415363),a=r(214390),o=r(916589),i=r(633376);t._=function(){const e=(0,a.useOverridableKillSwitch)((0,o.getKillSwitchByPlatform)("kill_staking_top_up")),t=(0,i.useIsExperimentInTreatment)(n.experiments.feb_2023_stake_top_up);return!e&&t}},475539:(e,t,r)=>{var n=r(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.generateUnsignedStakeTx=void 0;const a=r(446101),o=r(4871),i=r(581823),s=r(266854),l=r(497088),u=r(178012),c=r(317039);t.generateUnsignedStakeTx=async function(e,t,r,d,f){const{tx:p}=t,y=p.value?BigInt(p.value):0n,g=p.gas?BigInt(p.gas):void 0,m=await(0,s.get1559GasPrice)(Number(t.chainId));c.stakeMetadata.set(a.TxMetadataKey_txSource,f);const v=(0,l.buildMetadataWithTarget)({baseMetadata:c.stakeMetadata,imageURL:t.quote.toAsset.imageURL,name:t.quote.toAsset.name,currencyCode:t.quote.toAsset.currencyCode.rawValue,decimals:BigInt(t.quote.toAsset.decimals),amount:t.quote.toAmount});return d?(0,o.generateUnsigned1559Transaction)({wallet:e,recipientAddress:p.to,metadata:v,transactionAmount:{kind:"Amount",value:y},txConfiguration:{txType:"1559",nonce:r,dataBuffer:n.from((0,u.strip0x)(p.data),"hex"),selectedMaxFeePerGas:BigInt(m.normalMaxFeePerGas),selectedMaxPriorityFeePerGas:BigInt(m.normalPriorityFee),selectedGasLimit:g,selectedBaseFeePerGas:BigInt(m.baseFee)}}):(0,i.generateUnsignedLegacyTransaction)({wallet:e,recipientAddress:t.tx.to,metadata:v,transactionAmount:{kind:"Amount",value:BigInt(t.tx.value)},txConfiguration:{txType:"Legacy",nonce:r,dataBuffer:t.stakeHexEncodedTxData,selectedGasPrice:BigInt(t.tx.gasPrice),selectedGasLimit:BigInt(t.tx.gas)}})}},872496:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getKilnStakeTxData=void 0;const n=r(103184),a=r(86296),o=r(886855),i=r(317039),s=r(376236),l=r(991264),u=r(402330),c=r(49982),d=r(475539),f={[s.StakeActionType.STAKE]:"earn/ethereum_kiln/stake",[s.StakeActionType.UNSTAKE]:"earn/ethereum_kiln/unstake",[s.StakeActionType.CLAIM]:"earn/ethereum_kiln/claim"};t.getKilnStakeTxData=async function({sourceWallet:e,feeWallet:t,amount:r,userAddress:s,chainId:p,is1559Enabled:y,stakeType:g,stakeTxDataOverride:m}){let v=m;if(!v){const e={amount:r.toString(),userAddress:s},{result:t}=await(0,c.getJSON)(f[g],e);v=new l.StakeTxData(t)}const h=await(0,n.getConfirmedEthereumTransactionCount)(s,o.Network.fromChainId({chainId:p}));let S,k=h;v.approveTx&&(S=await(0,u.generateUnsignedApproveTx)(t,v.approveTx,h,y,i.stakeMetadata),k=h+1n);const b=await(0,d.generateUnsignedStakeTx)(e,v,k,y,g);return"Failure"===S?.kind&&((0,a.cbReportError)({context:"stake",error:new Error(`error building approveTx: ${S.err}`),severity:"error",isHandled:!1}),Object.assign(S.transaction,{gasLimit:v.approveTx?.gas?BigInt(v.approveTx?.gas):void 0})),"Failure"===b?.kind&&((0,a.cbReportError)({context:"stake",error:new Error(`error building swapTx: ${b.err}`),severity:"error",isHandled:!1}),Object.assign(b.transaction,{gasLimit:BigInt(v.tx.gas)})),{stakeTxData:v,unsignedStakeTx:b,unsignedApproveTx:S}}},709447:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getStakeTxData=t.STAKE_GET_CLAIM_TX_DATA_QUERY_KEY=t.STAKE_GET_WITHDRAW_TX_DATA_QUERY_KEY=t.STAKE_GET_DEPOSIT_TX_DATA_QUERY_KEY=t.STAKE_GET_TX_DATA_QUERY_KEY=void 0;const n=r(103184),a=r(108389),o=r(86296),i=r(886855),s=r(317039),l=r(376236),u=r(991264),c=r(402330),d=r(49982),f=r(475539);t.STAKE_GET_TX_DATA_QUERY_KEY="earn/trade",t.STAKE_GET_DEPOSIT_TX_DATA_QUERY_KEY="earn/deposit",t.STAKE_GET_WITHDRAW_TX_DATA_QUERY_KEY="earn/withdraw",t.STAKE_GET_CLAIM_TX_DATA_QUERY_KEY="earn/claim";const p={[a.ETHEREUM_SYMBOL]:t.STAKE_GET_TX_DATA_QUERY_KEY,[s.WRAPPED_ETH_SYMBOL]:t.STAKE_GET_TX_DATA_QUERY_KEY,[s.ROCKET_POOL_ETH_SYMBOL]:t.STAKE_GET_TX_DATA_QUERY_KEY,[s.CB_ETH_SYMBOL]:t.STAKE_GET_TX_DATA_QUERY_KEY,[s.MATIC_SYMBOL]:t.STAKE_GET_DEPOSIT_TX_DATA_QUERY_KEY,[s.LIDO_STAKED_MATIC_SYMBOL]:t.STAKE_GET_WITHDRAW_TX_DATA_QUERY_KEY};t.getStakeTxData=async function({sourceWallet:e,targetWallet:r,feeWallet:a,amount:y,userAddress:g,chainId:m,currencyCode:v,is1559Enabled:h,source:S,stakeType:k,tokenId:b}){const w=k===l.StakeActionType.CLAIM,T=w?{userAddress:g,chainId:m.toString(),tokenId:b}:{fromAddress:g,from:e.contractAddress??e.currencyCode.code,to:r?.contractAddress??r?.currencyCode.code,amount:y.toString(),chainId:m.toString(),currencyCode:v,amountReference:"from",source:S,userAddress:g},C=w?t.STAKE_GET_CLAIM_TX_DATA_QUERY_KEY:p[e.currencyCode.code],{result:E}=await(0,d.getJSON)(C??t.STAKE_GET_TX_DATA_QUERY_KEY,T),A=new u.StakeTxData(E),x=await(0,n.getConfirmedEthereumTransactionCount)(g,i.Network.fromChainId({chainId:m}));let M,L=x;A.approveTx&&(M=await(0,c.generateUnsignedApproveTx)(a,A.approveTx,x,h,s.stakeMetadata),L=x+1n);const P=await(0,f.generateUnsignedStakeTx)(e,A,L,h,k);return"Failure"===M?.kind&&((0,o.cbReportError)({context:"stake",error:new Error(`error building approveTx: ${M.err}`),severity:"error",isHandled:!1}),Object.assign(M.transaction,{gasLimit:A.approveTx?.gas?BigInt(A.approveTx?.gas):void 0})),"Failure"===P?.kind&&((0,o.cbReportError)({context:"stake",error:new Error(`error building swapTx: ${P.err}`),isHandled:!1,severity:"error"}),Object.assign(P.transaction,{gasLimit:BigInt(A.tx.gas)})),{stakeTxData:A,unsignedStakeTx:P,unsignedApproveTx:M}}},35399:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useFormatStakeAmounts=void 0;const n=r(202784),a=r(101620);t.useFormatStakeAmounts=function(e){const t=(0,a.useCurrencyFormatter)(),{quote:r}=e,o=(0,n.useMemo)((()=>{if(!r.fromAsset)return;const e=t.fiatValue(r.fromAsset.currencyCode,r.fromAsset.decimals,r.fromAmount,r.fromAsset.address?.rawValue,r.fromAsset.network,2);return e?t.fiatValueString(e):void 0}),[r.fromAsset,r.fromAmount,t]),i=(0,n.useMemo)((()=>{if(r.fromAsset)return t.formatToCrypto({currencyCode:r.fromAsset.currencyCode,decimals:r.fromAsset.decimals,value:r.fromAmount,includeCode:!0,maxDisplayDecimals:8n,minDisplayDecimals:0n})}),[t,r.fromAmount,r.fromAsset]),s=(0,n.useMemo)((()=>{const e=t.fiatValue(r.toAsset.currencyCode,r.toAsset.decimals,r.toAmount,r.toAsset.address?.rawValue,r.toAsset.network,2);if(e)return t.fiatValueString(e)}),[t,r.toAsset.currencyCode,r.toAsset.decimals,r.toAsset.address?.rawValue,r.toAsset.network,r.toAmount]),l=(0,n.useMemo)((()=>t.formatToCrypto({currencyCode:r.toAsset.currencyCode,decimals:r.toAsset.decimals,value:r.toAmount,includeCode:!0,maxDisplayDecimals:8n,minDisplayDecimals:0n})),[t,r.toAmount,r.toAsset.currencyCode,r.toAsset.decimals]);return(0,n.useMemo)((()=>({sourceFiatAmount:o,sourceCryptoAmount:i,targetFiatAmount:s,targetCryptoAmount:l})),[i,o,l,s])}},471827:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useGenerateTransactions=void 0;const n=r(202784),a=r(239398),o=r(446101),i=r(108389),s=r(101620),l=r(978857),u=r(657455),c=r(872496),d=r(709447),f=r(376236),p=r(186732),y=(0,a.defineMessages)({cbPayNotEnoughBalanceForMinerFeeMessage:{id:"z6rH3y",defaultMessage:"You need an additional ~{cryptoAmountNeeded} ({fiatAmountNeeded}) on the {networkName} network to cover the network fee."},cbPayZeroBalanceForMinerFeeMessage:{id:"cjf4F1",defaultMessage:"You need {cryptoSymbol} before you can make a transaction on the {networkName} network."},notEnoughBalanceForMinerFeeMessage:{id:"8YvB19",defaultMessage:"You have {fiatTotalAvailableBalance} in {cryptoSymbol}, but you need {fiatTotalTransactionValue} due to gas fees"},depositMinerFeeMessage:{id:"mLulYH",defaultMessage:"You must deposit {fiatDifferenceValue} in {cryptoSymbol} to complete this transaction."},minStakeAmountMessage:{id:"+ZZsYn",defaultMessage:"You must stake at least {cryptoAmount} ETH (~ {fiatAmount})"}});t.useGenerateTransactions=function({targetWallet:e,amount:t,stakeType:r,sourceWallet:g,feeWallet:m,onSuccess:v,updateFormData:h,onNotEnoughData:S,onRefreshFail:k,shouldIgnoreSuccessRedirect:b,onNotEnoughBalanceForMinerFee:w,onError:T,handleSetDepositAmount:C,tokenId:E,stakeTxDataOverride:A}){const x=(0,s.useCurrencyFormatter)(),[M,L]=(0,n.useState)(!1),[P,_]=(0,n.useState)(),[I,G]=(0,n.useState)(),O=(0,u.useRethrowError)(),{formatMessage:j}=(0,a.useIntl)();(0,n.useEffect)((function(){_(void 0)}),[t]);const D=(0,n.useCallback)((function({stakeTxData:e,unsignedStakeTx:n,unsignedApproveTx:a}){h?.({stakeTxData:e,unsignedStakeTx:n,unsignedApproveTx:a});const o=m?.contractAddress===g?.contractAddress&&r===f.StakeActionType.STAKE?t:0n,{hasEnoughBalance:i,totalFeeAssetRequired:s}=(0,l.checkEnoughBalanceForTx)({feeWallet:m,transactionAmount:o,unsignedTx:n.transaction,unsignedApproveEthTx:a?.transaction});if(!b&&i||r===f.StakeActionType.CLAIM)return void v?.({stakeTxData:e,unsignedStakeTx:n,unsignedApproveTx:a});const u=void 0!==m?.balance&&m?.currencyCode?x.formatToCrypto({currencyCode:m.currencyCode,decimals:m.decimals,value:s-m.balance,network:m.network}):"",c=void 0!==m?.balance&&m?.currencyCode?x.formatToFiat(m.currencyCode,m.decimals,s-m.balance,!1,m.contractAddress,m.network,!0,!0):"",d=0n===m?.balance,p=d?j(y.cbPayZeroBalanceForMinerFeeMessage,{cryptoSymbol:m?.currencyCode.code,networkName:m?.displayName}):j(y.cbPayNotEnoughBalanceForMinerFeeMessage,{cryptoAmountNeeded:u,fiatAmountNeeded:c,networkName:m?.network?.asChain()?.displayName}),S=j(y.depositMinerFeeMessage,{cryptoSymbol:m?.currencyCode.code,fiatDifferenceValue:x.formatToFiat(m.currencyCode,m.decimals,BigInt(s)-(m.balance??0n),!1,m.contractAddress,m.network,!0,!0)}),k=d?"zeroBalanceForMinerFee":"notEnoughBalanceForMinerFee";w?.({errorMessage:p,balance:Number(g?.balance??0),totalRequired:Number(s)}),C?.(BigInt(s)-(m.balance??0n)),G(new Error(S)),_({message:p,code:k})}),[h,m,g?.contractAddress,g?.balance,t,b,x,j,w,C,r,v]),F=(0,n.useMemo)((()=>Boolean(g?.network&&(0,o.isNetwork1559Enabled)(g?.network))),[g]),B=(0,p.getSource)();return{generateTransactions:(0,n.useCallback)((async function(n=!1){const a=g?.primaryAddress,o=g?.network,s={network:Boolean(o),sourceWallet:Boolean(g),address:Boolean(a),targetWallet:Boolean(e)};if(!o||!g||!a||!m||!e&&r!==f.StakeActionType.CLAIM)return n?void k?.(s):(S?.(s),O(new Error("Not enough data provided to generate transactions")));const l=g.id===e?.id||r===f.StakeActionType.CLAIM&&g.currencyCode.code===i.ETHEREUM_SYMBOL,u=l?c.getKilnStakeTxData:d.getStakeTxData;try{L(!0);const n=await u({feeWallet:m,sourceWallet:g,targetWallet:e,amount:t??0n,stakeType:r,userAddress:a,chainId:BigInt(g.network.asChain()?.chainId??1),currencyCode:g.currencyCode.code,is1559Enabled:F,source:B,tokenId:E,stakeTxDataOverride:b&&l?A:void 0});D(n)}catch(e){T?(_(e),T(e)):O(e)}finally{L(!1)}}),[g,e,m,r,S,O,k,t,F,B,E,b,A,D,T]),generateTransactionsError:P,generateDepositAmount:I,isGenerateTransactionsLoading:M}}},615726:(e,t,r)=>{t.K=void 0;const n=r(202784),a=r(239398),o=r(108389),i=r(698431),s=r(317039),l=r(876350),u=(0,a.defineMessages)({stakingTitle:{id:"t3wAw/",defaultMessage:"Earn {rate} on your {currencyCode}"},earnRewardsLabel:{id:"yUuhDt",defaultMessage:"Earn on {currencyCode} with staking"},ethEarnRewardsDescription:{id:"cmddz2",defaultMessage:"Stake your ETH with Coinbase to start earning."},maticEarnRewardsDescription:{id:"+tAMoP",defaultMessage:"Stake with Lido, a popular staking service."},unstakeLabel:{id:"XuNNLd",defaultMessage:"Unstake at anytime"},ethUnstakeDescription:{id:"cr2lqN",defaultMessage:"Staked ETH is held as cbETH, which you can unstake, sell, or deposit in DeFi."},maticUnstakeDescription:{id:"kb19It",defaultMessage:"After you unstake, your MATIC will be claimable in 3\u20134 days."},safeAndSecureLabel:{id:"P4xgkB",defaultMessage:"Safe and secure"},safeAndSecureDescription:{id:"kmvB/Q",defaultMessage:"Coinbase\u2019s best-in-class security has kept funds safe for 10+ years."},noHiddenFeesLabel:{id:"46t5Ym",defaultMessage:"No hidden fees"},noHiddenFeesDescription:{id:"9MyzK6",defaultMessage:"You get the same yield here as you do on Lido. There\u2019s no Coinbase fee."},stakeButton:{id:"kIyFYU",defaultMessage:"Start earning"},faqButton:{id:"UoeLR6",defaultMessage:"Read FAQs"},multiProviderStakeLabel:{id:"/gY5Zv",defaultMessage:"Stake with Coinbase or Rocket Pool"},multiProviderStakeDescription:{id:"LVF3fq",defaultMessage:"Stake your ETH with Coinbase or Rocket Pool to start earning."},multiProviderRewardsLabel:{id:"pdkEA5",defaultMessage:"Earn staking rewards"},multiProviderRewardsDescription:{id:"l01HV1",defaultMessage:"Earn staking rewards simply by holding cbETH or rETH."},multiProviderLockupLabel:{id:"Cq9pd0",defaultMessage:"Flexible with no lockup"},multiProviderLockupDescription:{id:"1T46IR",defaultMessage:"Swap back to ETH or use your tokens in DeFi any time."},delegatorStakingLabel:{id:"1/37zJ",defaultMessage:"Get rewarded for staking"},delegatorStakingDescription:{id:"D0ap0Q",defaultMessage:"Earn staking rewards while helping secure the Ethereum network. Rate updates daily."},delegatorStakingOptionsLabel:{id:"dpxRrW",defaultMessage:"Multiple options to choose from"},delegatorStakingOptionsDescription:{id:"Gh95X4",defaultMessage:"Select from high rewards, flexible, or decentralized on the confirmation step."},delegatorStakingUnstakeLabel:{id:"nB3eP9",defaultMessage:"Unstake with ease"},delegatorStakingUnstakeDescription:{id:"d2ZuWy",defaultMessage:"Unstaking takes up to 1 day to process; liquid staking offers instant liquidity."}});t.K=function({currencyCode:e,chainId:t,targetCurrencyCode:r}){const{formatMessage:c}=(0,a.useIntl)(),{earnRate:d}=(0,l.useGetEarnRate)({targetCurrencyCode:r??s.DEPRECATED_DEFAULT_EARN_TARGET_ASSET_MAP_EXTENSION[e],chainId:t}),f=(0,i.useIsFeatureEnabled)("delegator_staking");return(0,n.useMemo)((()=>{switch(e){case s.WRAPPED_ETH_SYMBOL:case o.ETHEREUM_SYMBOL:return{earnRate:d,illustrationName:"ethStakeOrWrap",listItems:[{label:c(f?u.delegatorStakingLabel:u.multiProviderStakeLabel,{currencyCode:e}),description:c(f?u.delegatorStakingDescription:u.multiProviderStakeDescription),testID:"learn-step-earn-rewards"},{label:c(f?u.delegatorStakingOptionsLabel:u.multiProviderRewardsLabel),description:c(f?u.delegatorStakingOptionsDescription:u.multiProviderRewardsDescription),testID:"learn-step-unstake"},{label:c(f?u.delegatorStakingUnstakeLabel:u.multiProviderLockupLabel),description:c(f?u.delegatorStakingUnstakeDescription:u.multiProviderLockupDescription),testID:"learn-step-fees"}]};case s.MATIC_SYMBOL:return{earnRate:d,illustrationName:"transferCoins",listItems:[{label:c(u.earnRewardsLabel,{currencyCode:e}),description:c(u.maticEarnRewardsDescription),testID:"learn-step-earn-rewards"},{label:c(u.unstakeLabel),description:c(u.maticUnstakeDescription),testID:"learn-step-unstake"},{label:c(u.noHiddenFeesLabel),description:c(u.noHiddenFeesDescription),testID:"learn-step-fees"}]};default:throw new Error("Invalid currency code for staking nux")}}),[e,d,c,f])}},304635:(e,t,r)=>{t.v=void 0;const n=r(202784),a=r(214390),o=r(916589);t.v=function(){const e=(0,a.useOverridableKillSwitch)((0,o.getKillSwitchByPlatform)("kill_stake_multi_provider"));return(0,n.useMemo)((()=>!e),[e])}},222493:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useTransactionDetailRowLabels=t.useTransactionDetailRowItems=void 0;const a=r(202784),o=r(239398),i=r(108389),s=r(327242),l=r(759301),u=r(101620),c=r(698431),d=r(978857),f=r(656695),p=r(376236),y=r(575853),g=r(218705),m=r(707356),v=n(r(160417)),h=r(317039),S=(0,o.defineMessages)({networkFeeLabel:{id:"9wby6m",defaultMessage:"Network fee (est.)"},networkFeeTooltip:{id:"iDAUkN",defaultMessage:"The network fee (also called a gas fee) goes to network participants who process transactions, not Coinbase. It may be less than our estimate."},coinbaseFeeLabel:{id:"69w8Iv",defaultMessage:"Coinbase fee"},coinbaseFeeTooltip:{id:"/NrNrv",defaultMessage:"Coinbase doesn't charge a fee for staking assets"},transactionSpeedLabel:{id:"b+2ECB",defaultMessage:"Time (est.)"},totalCostLabel:{id:"j9RrnG",defaultMessage:"Total cost"},maxFeeLabel:{id:"zoMLPL",defaultMessage:"Max: {maxFeeEstimate}"},contractAddressLabel:{id:"55yK3k",defaultMessage:"{currencyCode} contract"},contractAddressTooltip:{id:"vXyOJS",defaultMessage:"This is the smart contract address for {currencyCode}. Please open the contract in a block explorer and verify it is the correct asset."},timeLabel:{id:"8eOBTQ",defaultMessage:"Time (est.)"},minutesText:{id:"c1upgx",defaultMessage:"> {minutes} minutes"},exchangeRateLabel:{id:"+GA3RT",defaultMessage:"Exchange rate"},exchangeRateTooltip:{id:"5zdmMv",defaultMessage:"The exchange rate shows how much staked {fromAsset} you\u2019ll get for 1 {toAsset}. Right now, 1 {toAsset} is worth {rate} {fromAsset}. This means if you decide to unstake 1 {toAsset}, you\u2019ll get {rate} {fromAsset} back."},freeLabel:{id:"gL7LCA",defaultMessage:"Free"},slippageToleranceLabel:{id:"vFrVSa",defaultMessage:"Slippage tolerance"},slippageToleranceTooltip:{id:"o9cxMm",defaultMessage:"We swap crypto using a 3rd party decentralized exchange (DEX). Your swap will execute within 3% of the quoted price or will be canceled and your funds returned."},lockupPeriodLabel:{id:"vrjdJP",defaultMessage:"Lockup period"},noneText:{id:"uSCSrR",defaultMessage:"None"},walletLabel:{id:"iOErts",defaultMessage:"Wallet"},unstakePeriodLabel:{id:"Tuzdjv",defaultMessage:"Unstaking period"},unstakePeriod:{id:"sJ81jA",defaultMessage:"3-4 days"},instantLabel:{id:"KLD1od",defaultMessage:"Instant"},delegatorUnstakePeriodLabel:{id:"+4V8wv",defaultMessage:"Up to 4 days"},instantToolTip:{id:"BvckiD",defaultMessage:"You can unstake at any time with no wait."},delegatorUnstakePeriodToolTip:{id:"2U/mVi",defaultMessage:"You can unstake at any time but it takes up to 4 days for your request to be processed. After that waiting period, you can claim your ETH."},maticUnstakePeriodToolTip:{id:"hojZyH",defaultMessage:"You can unstake at any time but it takes 3\u20134 days (80 checkpoints) for your request to be processed. After that waiting period, you can claim your MATIC."},methodLabel:{id:"D5cU0d",defaultMessage:"Staking method"},earnLabel:{id:"PyjbkQ",defaultMessage:"Earn"},rewardsLabel:{id:"cmUNGL",defaultMessage:"Rewards"},paidInLabel:{id:"CaFFtk",defaultMessage:"Paid in {currencyCode} after unstake"},accruesDailyLabel:{id:"fAilsx",defaultMessage:"Accrues daily"},rewardsTooltipETH:{id:"Doj9h1",defaultMessage:"You'll realize your rewards in ETH after unstaking."},rewardsTooltipMatic:{id:"SH6O87",defaultMessage:"You'll realize your rewards in MATIC after unstaking. You must claim your MATIC in 3-4 days to get the reward."},receiveLabel:{id:"nqy/8Q",defaultMessage:"Receive"}}),k={[h.WRAPPED_ETH_SYMBOL]:{[h.CB_ETH_SYMBOL]:!0,[h.ROCKET_POOL_ETH_SYMBOL]:!0},[h.CB_ETH_SYMBOL]:{[i.ETHEREUM_SYMBOL]:!0},[h.ROCKET_POOL_ETH_SYMBOL]:{[i.ETHEREUM_SYMBOL]:!0},[i.ETHEREUM_SYMBOL]:{[h.CB_ETH_SYMBOL]:!0,[h.ROCKET_POOL_ETH_SYMBOL]:!0,[i.ETHEREUM_SYMBOL]:!1},[h.MATIC_SYMBOL]:{[h.LIDO_STAKED_MATIC_SYMBOL]:!1},[h.LIDO_STAKED_MATIC_SYMBOL]:{[h.MATIC_SYMBOL]:!1}},b={[h.MATIC_SYMBOL]:S.unstakePeriod,[i.ETHEREUM_SYMBOL]:S.delegatorUnstakePeriodLabel},w={[h.MATIC_SYMBOL]:S.maticUnstakePeriodToolTip,[i.ETHEREUM_SYMBOL]:S.delegatorUnstakePeriodToolTip};t.useTransactionDetailRowItems=function({stakeTxData:e,unsignedApproveTx:t,unsignedStakeTx:r,lastUpdateTime:n,rowItemsAnalytics:T,isPageLoading:C,feeWalletSubdetail:E,methodSelector:A,earnDetail:x,stakeType:M=p.StakeActionType.STAKE}){const{formatMessage:L,formatNumber:P}=(0,o.useIntl)(),_=(0,y.usePrimaryReceiveAddresses)().get(i.ETHEREUM_SYMBOL)?.address,I=(0,m.useGetFiatValueOrCryptoFallback)(),{formatToCrypto:G}=(0,u.useCurrencyFormatter)(),{networkBaseFee:O,networkMaxFee:j,networkEstimatedFee:D}=(0,d.useCalculateNetworkFees)({unsignedApproveTx:t,unsignedEthTx:r}),F=r instanceof l.EthereumUnsignedLegacyTx,B=(0,c.useIsFeatureEnabled)("delegator_staking");(0,f.useOnMount)((()=>{T?.({networkEstimatedFee:D.toString(),networkMaxFee:j.toString(),networkBaseFee:O.toString()})}));const R=(0,a.useMemo)((()=>{if(F){return I({currencyCode:r.feeCurrencyCode,currencyDecimal:r.feeCurrencyDecimal,network:r.network,amount:D,error:"Could not calculate estimated fee"})}return`${I({currencyCode:r.feeCurrencyCode,currencyDecimal:r.feeCurrencyDecimal,network:r.network,amount:O,error:"Could not calculate base fee"})}-${I({currencyCode:r.feeCurrencyCode,currencyDecimal:r.feeCurrencyDecimal,network:r.network,amount:j,error:"Could not calculate max fee"})}`}),[F,I,r.feeCurrencyCode,r.feeCurrencyDecimal,r.network,O,j,D]),H=(0,a.useMemo)((()=>F?null:E),[F,E]),{toAsset:N,fromAsset:W,toAmount:U,fromAmount:K}=e.quote,Y=W?.currencyCode.code??"",V=(0,a.useMemo)((()=>{const e=K??0n,t=(0,g.bigIntToDecimal)(M===p.StakeActionType.STAKE?U:e);return(0,g.bigIntToDecimal)(M===p.StakeActionType.STAKE?e:U).div(t).toNumber().toFixed(3)}),[U,K,M]),Z=(0,a.useMemo)((()=>{const e=M===p.StakeActionType.STAKE?W?.currencyCode.code:N.currencyCode.code;return`1 ${M===p.StakeActionType.STAKE?N.currencyCode.code:W?.currencyCode.code} = ${V} ${e}`}),[N.currencyCode.code,W?.currencyCode.code,V,M]),q=(0,a.useMemo)((()=>{const e=M===p.StakeActionType.STAKE?W?.currencyCode.code:N.currencyCode.code,t=M===p.StakeActionType.STAKE?N.currencyCode.code:W?.currencyCode.code;return L(S.exchangeRateTooltip,{fromAsset:e,toAsset:t,rate:V})}),[M,N,W,V,L]),Q=P(.03,{style:"percent",minimumFractionDigits:0,maximumFractionDigits:2}),z=(0,a.useMemo)((()=>!!k[Y]?.[N?.currencyCode.code??""]),[Y,N?.currencyCode.code]),X=(0,a.useMemo)((()=>{const e=s.EthereumNetworkMap.fromChainId(N.chainId)?.blockExplorerUrl;return{text:_??"",blockExplorerUrl:`${e}/address/${_}`}}),[_,N.chainId]),$=(0,a.useMemo)((()=>B?z?S.instantLabel:b[Y]:z?S.noneText:S.unstakePeriod),[Y,B,z]),J=(0,a.useMemo)((()=>{if(B)return z?S.instantToolTip:w[Y]}),[Y,B,z]),ee=(0,a.useMemo)((()=>N?.currencyCode.code===i.ETHEREUM_SYMBOL?L(S.accruesDailyLabel):L(S.paidInLabel,{currencyCode:h.STAKED_ASSETS_MAP[N.currencyCode.code]})),[L,N.currencyCode.code]),te=(0,a.useMemo)((()=>L(W?.currencyCode.code===h.MATIC_SYMBOL?S.rewardsTooltipMatic:S.rewardsTooltipETH)),[L,W?.currencyCode.code]),re=(0,a.useMemo)((()=>G({currencyCode:N.currencyCode,decimals:N.decimals,value:U,includeCode:!0,maxDisplayDecimals:4n})),[G,U,N.currencyCode,N.decimals]);return(0,a.useMemo)((()=>(0,v.default)([B&&M===p.StakeActionType.STAKE&&A?{label:L(S.methodLabel),detailTextComponent:A}:null,B&&M===p.StakeActionType.STAKE?{label:L(S.earnLabel),detailTextComponent:x}:null,M===p.StakeActionType.STAKE?{label:L(S.unstakePeriodLabel),detailText:L($),tooltipText:J&&L(J)}:null,B&&M===p.StakeActionType.STAKE?{label:L(S.rewardsLabel),detailText:ee,tooltipText:te}:null,M!==p.StakeActionType.CLAIM&&z?{label:L(S.exchangeRateLabel),detailText:Z,isPageLoading:C,tooltipText:q}:null,M===p.StakeActionType.CLAIM?{label:L(S.walletLabel),detailText:X,isPageLoading:C}:null,B&&z?{label:L(S.receiveLabel),detailText:re,isPageLoading:C}:null,!B&&z?{label:L(S.slippageToleranceLabel),detailText:Q,isPageLoading:C,tooltipText:L(S.slippageToleranceTooltip)}:null,{label:L(S.coinbaseFeeLabel),detailText:L(S.freeLabel),isPageLoading:C,tooltipText:L(S.coinbaseFeeTooltip)},{label:L(S.networkFeeLabel),detailText:R,lastUpdateTime:n,isPageLoading:C,subDetailText:H,tooltipText:L(S.networkFeeTooltip)}])),[B,M,A,L,x,$,J,ee,te,Z,C,q,X,re,z,Q,R,n,H])},t.useTransactionDetailRowLabels=function(e){const{formatMessage:t}=e;return(0,v.default)([t(S.networkFeeLabel),t(S.coinbaseFeeLabel),t(S.totalCostLabel)])}},614304:(e,t,r)=>{t.r=void 0;const n=r(202784),a=r(317039),o=r(35399);t.r=function(e){const{sourceFiatAmount:t,sourceCryptoAmount:r,targetFiatAmount:i,targetCryptoAmount:s}=(0,o.useFormatStakeAmounts)(e),{quote:l}=e;if(!s)throw new Error("Could not display overview items on stake confirmation page, missing crypto amounts");const u=(0,n.useCallback)((function(e){if(e)return e.currencyCode.code===a.CB_ETH_SYMBOL?a.CB_ETH_DISPLAY_NAME:e.name}),[]);return{primaryItem:{title:u(l.fromAsset),iconSourceOrName:{iconUrl:l.fromAsset?.imageURL,currencyCode:l.fromAsset?.currencyCode?.code,network:l.fromAsset?.network,showNetworkIcon:!!l.fromAsset?.address},detail:t,subDetail:r,isAsset:!0,testID:"primary"},secondaryItem:{title:u(l.toAsset),iconSourceOrName:{iconUrl:l.toAsset.imageURL,currencyCode:l.toAsset.currencyCode?.code,network:l.toAsset.network,showNetworkIcon:!!l.toAsset?.address},detail:i,subDetail:s,isAsset:!0,testID:"secondary"}}}},191661:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StakeQuote=void 0;const n=r(399389);t.StakeQuote=class{constructor(e){this.fromAmount=e.fromAmount?BigInt(e.fromAmount):0n,this.toAmount=e.toAmount?BigInt(e.toAmount):0n,this.fromAsset=e.fromAsset?.currencyCode?new n.Asset(e.fromAsset.name,e.fromAsset.currencyCode,e.fromAsset.address,e.fromAsset.decimals,e.fromAsset.imageURL,e.fromAsset.chainId,e.fromAsset.blockchain):void 0,this.toAsset=new n.Asset(e.toAsset.name,e.toAsset.currencyCode,e.toAsset.address,e.toAsset.decimals,e.toAsset.imageURL,e.toAsset.chainId,e.toAsset.blockchain)}}},991264:(e,t,r)=>{var n=r(348834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.StakeTxData=void 0;const a=r(178012),o=r(191661);t.StakeTxData=class{constructor(e){this.tx=e.tx,this.approveTx=e.approveTx,this.quote=new o.StakeQuote(e.quote),this.chainId=BigInt(e.chainId),this.workflowName=e.workflowName}get stakeHexEncodedTxData(){return n.from((0,a.strip0x)(this.tx.data),"hex")}get chainPrimaryAssetValue(){return this.tx.value?BigInt(this.tx.value):0n}}},707356:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useGetFiatValueOrCryptoFallback=void 0;const n=r(202784),a=r(108389),o=r(101620),i=r(886855);t.useGetFiatValueOrCryptoFallback=function(){const e=(0,o.useCurrencyFormatter)();return(0,n.useCallback)((function({currencyCode:t,currencyDecimal:r,network:n,amount:o,error:s,contractAddress:l}){const u=n.asChain()?.chainId;if(!u)throw new Error(`${s} - invalid chainId`);const c=e.formatToFiat(t,r,o,!1,l,i.Network.fromChainId({chainPrefix:a.ETHEREUM_PREFIX,chainId:BigInt(u)}),void 0,!0);if(c)return c;const d=e.formatToCrypto({currencyCode:t,decimals:r,value:o,network:i.Network.fromChainId({chainPrefix:a.ETHEREUM_PREFIX,chainId:BigInt(u)}),includeCode:!0});if(!d)throw new Error(s);return d}),[e])}}}]);
//# sourceMappingURL=7346.js.map